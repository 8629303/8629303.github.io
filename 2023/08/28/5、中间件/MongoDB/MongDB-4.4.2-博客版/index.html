<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>MongDB-4.4.2-博客版 | Hexo</title>
  <meta name="keywords" content="">
  <meta name="description" content="MongDB-4.4.2-博客版 | Hexo">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="请不要自己写，Spring Boot非常实用的内置功能：https:&#x2F;&#x2F;juejin.cn&#x2F;post&#x2F;7417630844100231206  在 SpringBoot 框架中，内置了许多实用的功能，这些功能可以帮助开发者高效地开发和维护应用程序。 一、请求数据记录器SpringBoot 提供了一个内置的日志记录解决方案，通过 AbstractRequestLoggingFilter 可以记录请">
<meta property="og:type" content="article">
<meta property="og:title" content="SpringBoot2.x 内置功能 - 内置过滤器和 AOP 工具类">
<meta property="og:url" content="https://8629303.github.io/2024/10/08/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot2.x%20%E5%86%85%E7%BD%AE%E5%8A%9F%E8%83%BD%20-%20%E5%86%85%E7%BD%AE%E8%BF%87%E6%BB%A4%E5%99%A8%E5%92%8C%20AOP%20%E5%B7%A5%E5%85%B7%E7%B1%BB/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="请不要自己写，Spring Boot非常实用的内置功能：https:&#x2F;&#x2F;juejin.cn&#x2F;post&#x2F;7417630844100231206  在 SpringBoot 框架中，内置了许多实用的功能，这些功能可以帮助开发者高效地开发和维护应用程序。 一、请求数据记录器SpringBoot 提供了一个内置的日志记录解决方案，通过 AbstractRequestLoggingFilter 可以记录请">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2024-10-08T08:44:19.743Z">
<meta property="article:modified_time" content="2024-10-22T03:50:18.319Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpg">

<link href="/blog/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/blog/css/hl_theme/atom-light.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/blog/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/blog/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 7.3.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="/blog">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/blog/"
   class="avatar_target">
    <img class="avatar"
         src="/blog/img/avatar.jpg"/>
</a>
<div class="author">
    <span>John Doe</span>
</div>

<div class="icon">
    
        
            <a title="github"
               href="https://github.com/8629303"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="email"
               href="mailto:8629303@qq.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-email"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="qq"
               href="http://wpa.qq.com/msgrd?v=3&uin=8629303&site=qq&menu=yes"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-qq"></use>
                    </svg>
                
            </a>
        
    
</div>





<ul>
    <li>
        <div class="all active" data-rel="全部文章">全部文章
            
                <small>(172)</small>
            
        </div>
    </li>
    
        
            
                
    <li>
        <div data-rel="数据库">
            
            数据库
            <small>(5)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="开发工具">
            <i class="fold iconfont icon-right"></i>
            开发工具
            <small>(16)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="开发工具&lt;---&gt;Maven">
            
            Maven
            <small>(8)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="面试篇">
            
            面试篇
            <small>(1)</small>
        </div>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="中间件">
            <i class="fold iconfont icon-right"></i>
            中间件
            <small>(9)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="中间件&lt;---&gt;ElasticSearch">
            
            ElasticSearch
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="中间件&lt;---&gt;MongoDB">
            
            MongoDB
            <small>(2)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="中间件&lt;---&gt;RabbitMQ">
            
            RabbitMQ
            <small>(3)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="中间件&lt;---&gt;Redis">
            
            Redis
            <small>(3)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="JavaEE">
            <i class="fold iconfont icon-right"></i>
            JavaEE
            <small>(72)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="JavaEE&lt;---&gt;微服务开发">
            
            微服务开发
            <small>(66)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JavaEE&lt;---&gt;JavaWeb">
            
            JavaWeb
            <small>(2)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JavaEE&lt;---&gt;SSM框架">
            
            SSM框架
            <small>(4)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="JavaSE">
            <i class="fold iconfont icon-right"></i>
            JavaSE
            <small>(62)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="JavaSE&lt;---&gt;Java汇总篇">
            
            Java汇总篇
            <small>(28)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JavaSE&lt;---&gt;Java基础篇">
            
            Java基础篇
            <small>(8)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JavaSE&lt;---&gt;Java进阶篇">
            
            Java进阶篇
            <small>(4)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JavaSE&lt;---&gt;Java新特性">
            
            Java新特性
            <small>(17)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JavaSE&lt;---&gt;Java性能测试与安全">
            
            Java性能测试与安全
            <small>(5)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="Linux">
            <i class="fold iconfont icon-right"></i>
            Linux
            <small>(7)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="Linux&lt;---&gt;虚拟机工具">
            
            虚拟机工具
            <small>(2)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="Linux&lt;---&gt;Docker">
            
            Docker
            <small>(2)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="Linux&lt;---&gt;Kubernetes">
            
            Kubernetes
            <small>(2)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="Linux&lt;---&gt;Nginx">
            
            Nginx
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
            <a class="about  hasFriend  site_url"
               
               href="/about">关于</a>
        
        <a style="width: 50%"
                
                                           class="friends">友链</a>
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="172">

<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">全部文章</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2024/10/08/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot2.x%20%E5%86%85%E7%BD%AE%E5%8A%9F%E8%83%BD%20-%20%E5%86%85%E7%BD%AE%E8%BF%87%E6%BB%A4%E5%99%A8%E5%92%8C%20AOP%20%E5%B7%A5%E5%85%B7%E7%B1%BB/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot2.x 内置功能 - 内置过滤器和 AOP 工具类">SpringBoot2.x 内置功能 - 内置过滤器和 AOP 工具类</span>
            <span class="post-date" title="2024-10-08 16:44:19">2024/10/08</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2024/10/08/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%E7%B3%BB%E5%88%97-%E5%85%A8%E7%BD%91%E6%9C%80%E5%85%A8%E7%9A%84%E7%89%88%E6%9C%AC%E5%8F%98%E6%9B%B4%E5%8F%B2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot系列-全网最全的版本变更史">SpringBoot系列-全网最全的版本变更史</span>
            <span class="post-date" title="2024-10-08 16:38:53">2024/10/08</span>
        </a>
        
        
        <a  class="全部文章 开发工具 Maven "
           href="/blog/2024/10/08/6%E3%80%81%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Maven/Maven%20%E6%95%99%E7%A8%8B%E4%B9%8B%20%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE%20&%20%E9%B8%A3%E8%B0%A2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Maven 教程之 参考文献 &amp; 鸣谢">Maven 教程之 参考文献 &amp; 鸣谢</span>
            <span class="post-date" title="2024-10-08 15:50:47">2024/10/08</span>
        </a>
        
        
        <a  class="全部文章 开发工具 "
           href="/blog/2024/10/07/6%E3%80%81%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/GitHub%20%E5%AE%9E%E6%88%98%E6%8A%80%E5%B7%A7/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="GitHub 实战技巧">GitHub 实战技巧</span>
            <span class="post-date" title="2024-10-07 15:55:34">2024/10/07</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2024/10/07/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot2.x%20%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AF%87%20-%20%E9%9B%86%E6%88%90%20HirakiCP%20%E4%B8%8E%20Druid%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot2.x 数据库篇 - 集成 HirakiCP 与 Druid 数据库连接池">SpringBoot2.x 数据库篇 - 集成 HirakiCP 与 Druid 数据库连接池</span>
            <span class="post-date" title="2024-10-07 14:19:43">2024/10/07</span>
        </a>
        
        
        <a  class="全部文章 开发工具 "
           href="/blog/2024/09/30/6%E3%80%81%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/MacOS%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%8F%8A%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E5%8D%B8%E8%BD%BD/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="MacOS 开发环境搭建及软件安装卸载">MacOS 开发环境搭建及软件安装卸载</span>
            <span class="post-date" title="2024-09-30 23:56:52">2024/09/30</span>
        </a>
        
        
        <a  class="全部文章 开发工具 Maven "
           href="/blog/2024/09/30/6%E3%80%81%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Maven/Maven%20%E6%95%99%E7%A8%8B%E4%B9%8B%20JDK%20%E7%89%88%E6%9C%AC%E9%BB%98%E8%AE%A4%E8%AE%BE%E7%BD%AE%20/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Maven 教程之 JDK 版本默认设置">Maven 教程之 JDK 版本默认设置</span>
            <span class="post-date" title="2024-09-30 16:37:08">2024/09/30</span>
        </a>
        
        
        <a  class="全部文章 开发工具 Maven "
           href="/blog/2024/09/26/6%E3%80%81%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Maven/Maven%20%E6%95%99%E7%A8%8B%E4%B9%8B%20profiles%20%E5%A4%9A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Maven 教程之 profiles 多环境配置">Maven 教程之 profiles 多环境配置</span>
            <span class="post-date" title="2024-09-26 17:40:34">2024/09/26</span>
        </a>
        
        
        <a  class="全部文章 开发工具 Maven "
           href="/blog/2024/09/25/6%E3%80%81%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Maven/Maven%20%E6%95%99%E7%A8%8B%E4%B9%8B%20plugin%20%E8%AF%A6%E8%A7%A3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Maven 教程之 plugin 详解">Maven 教程之 plugin 详解</span>
            <span class="post-date" title="2024-09-25 11:32:44">2024/09/25</span>
        </a>
        
        
        <a  class="全部文章 开发工具 Maven "
           href="/blog/2024/09/21/6%E3%80%81%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Maven/Maven%20%E6%95%99%E7%A8%8B%E4%B9%8B%20pom.xml%20%E8%AF%A6%E8%A7%A3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Maven 教程之 pom.xml 详解">Maven 教程之 pom.xml 详解</span>
            <span class="post-date" title="2024-09-21 16:14:13">2024/09/21</span>
        </a>
        
        
        <a  class="全部文章 开发工具 Maven "
           href="/blog/2024/09/21/6%E3%80%81%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Maven/Maven%20%E6%95%99%E7%A8%8B%E4%B9%8B%20settings.xml%20%E8%AF%A6%E8%A7%A3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Maven 教程之 settings.xml 详解">Maven 教程之 settings.xml 详解</span>
            <span class="post-date" title="2024-09-21 16:14:09">2024/09/21</span>
        </a>
        
        
        <a  class="全部文章 面试篇 "
           href="/blog/2024/08/27/0%E3%80%81%E9%9D%A2%E8%AF%95%E7%AF%87/%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8%E6%B1%87%E6%80%BB/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="面试宝典汇总">面试宝典汇总</span>
            <span class="post-date" title="2024-08-27 16:20:25">2024/08/27</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2024/08/26/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20%E8%87%AA%E5%AE%9A%E4%B9%89%E9%9B%86%E5%90%88%E5%B8%B8%E9%87%8F/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 自定义集合常量">Java 自定义集合常量</span>
            <span class="post-date" title="2024-08-26 12:11:54">2024/08/26</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2024/08/26/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20MVC/SpringMVC%E4%B9%8B@InitBinder%E6%B3%A8%E8%A7%A3%EF%BC%88%E6%97%A5%E6%9C%9F%E8%BD%AC%E6%8D%A2%EF%BC%89/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringMVC之@InitBinder注解（日期转换）">SpringMVC之@InitBinder注解（日期转换）</span>
            <span class="post-date" title="2024-08-26 11:10:28">2024/08/26</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2024/08/21/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Transaction/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8B%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86/Java%20%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%BA%8B%E5%8A%A1%E6%8F%90%E4%BA%A4%E7%9A%84%E5%A4%84%E7%90%86/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 多线程事务提交的处理">Java 多线程事务提交的处理</span>
            <span class="post-date" title="2024-08-21 16:32:52">2024/08/21</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2024/08/20/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%20Cache%20%E6%95%B4%E5%90%88%20Redis%20%E7%BC%93%E5%AD%98%E6%A1%86%E6%9E%B6/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot Cache 整合 Redis 缓存框架">SpringBoot Cache 整合 Redis 缓存框架</span>
            <span class="post-date" title="2024-08-20 16:11:47">2024/08/20</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2024/08/16/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Transaction/Spring%20%E4%BA%8B%E5%8A%A1%E5%BA%94%E7%94%A8%E5%8F%8A%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring 事务应用及源码分析">Spring 事务应用及源码分析</span>
            <span class="post-date" title="2024-08-16 10:33:57">2024/08/16</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2024/08/16/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Transaction/Spring%20JDBC%20-%20NamedParameterJdbcTemplate/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring JDBC - NamedParameterJdbcTemplate">Spring JDBC - NamedParameterJdbcTemplate</span>
            <span class="post-date" title="2024-08-16 00:18:18">2024/08/16</span>
        </a>
        
        
        <a  class="全部文章 开发工具 "
           href="/blog/2024/07/18/6%E3%80%81%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Git%20&%20GitHub/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Git &amp; GitHub">Git &amp; GitHub</span>
            <span class="post-date" title="2024-07-18 10:34:58">2024/07/18</span>
        </a>
        
        
        <a  class="全部文章 开发工具 Maven "
           href="/blog/2024/06/28/6%E3%80%81%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Maven/Maven%20%E5%AE%9E%E6%88%98/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Maven 实战">Maven 实战</span>
            <span class="post-date" title="2024-06-28 16:50:35">2024/06/28</span>
        </a>
        
        
        <a  class="全部文章 数据库 "
           href="/blog/2024/06/26/3%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93/%E9%9D%A2%E8%AF%95%E5%AE%98%EF%BC%9A%E4%B8%8D%E4%BC%9A%E7%9C%8B%20Explain%E6%89%A7%E8%A1%8C%E8%AE%A1%E5%88%92%EF%BC%8C%E7%AE%80%E5%8E%86%E6%95%A2%E5%86%99%20SQL%20%E4%BC%98%E5%8C%96%EF%BC%9F/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="面试官：不会看 Explain执行计划，简历敢写 SQL 优化？">面试官：不会看 Explain执行计划，简历敢写 SQL 优化？</span>
            <span class="post-date" title="2024-06-26 19:33:03">2024/06/26</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2024/04/22/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%AF%87%E4%B9%8B%20IDEA%20-%20VM%20Options%E3%80%81Program%20Arguments%E3%80%81Environment%20Variable%20%E8%A7%A3%E6%9E%90/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 命令行篇之 IDEA - VM Options、Program Arguments、Environment Variable 解析">Java 命令行篇之 IDEA - VM Options、Program Arguments、Environment Variable 解析</span>
            <span class="post-date" title="2024-04-22 10:53:10">2024/04/22</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2024/04/19/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-%E9%85%8D%E7%BD%AE%E5%A4%96%E9%83%A8%E5%8C%96/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x 配置文件-配置外部化">SpringBoot 2.x 配置文件-配置外部化</span>
            <span class="post-date" title="2024-04-19 09:18:55">2024/04/19</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2024/04/16/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20%E5%8E%9F%E7%90%86%E7%AF%87%E4%B9%8B%20SPI%20%E6%9C%BA%E5%88%B6/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 原理篇之 SPI 机制">Java 原理篇之 SPI 机制</span>
            <span class="post-date" title="2024-04-16 17:26:15">2024/04/16</span>
        </a>
        
        
        <a  class="全部文章 开发工具 Maven "
           href="/blog/2024/01/14/6%E3%80%81%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Maven/Maven%20%E6%95%99%E7%A8%8B%E4%B9%8B%20mirror%20&%20repository%20%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Maven 教程之 mirror &amp; repository 配置详解">Maven 教程之 mirror &amp; repository 配置详解</span>
            <span class="post-date" title="2024-01-14 22:51:03">2024/01/14</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/12/07/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20%E4%B8%BA%E4%BB%80%E4%B9%88SpringBoot%20jar%20%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5%E8%BF%90%E8%A1%8C/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x 为什么SpringBoot jar 可以直接运行">SpringBoot 2.x 为什么SpringBoot jar 可以直接运行</span>
            <span class="post-date" title="2023-12-07 15:13:56">2023/12/07</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java基础篇 "
           href="/blog/2023/12/04/1%E3%80%81JavaSE/1.Java%20%E5%9F%BA%E7%A1%80%E7%AF%87/5%E3%80%81Java%20%E5%A4%9A%E7%BA%BF%E7%A8%8B/Java%20%E5%A4%9A%E7%BA%BF%E7%A8%8B%E8%BF%9B%E9%98%B6/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 多线程进阶">Java 多线程进阶</span>
            <span class="post-date" title="2023-12-04 16:37:09">2023/12/04</span>
        </a>
        
        
        <a  class="全部文章 数据库 "
           href="/blog/2023/11/18/3%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BB%BA%E6%A8%A1%E5%B7%A5%E5%85%B7%E6%B1%87%E6%80%BB/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="数据库建模工具汇总">数据库建模工具汇总</span>
            <span class="post-date" title="2023-11-18 15:31:11">2023/11/18</span>
        </a>
        
        
        <a  class="全部文章 JavaEE SSM框架 "
           href="/blog/2023/10/08/2%E3%80%81JavaEE/2%E3%80%81SSM%E6%A1%86%E6%9E%B6/Mybatis/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Mybatis">Mybatis</span>
            <span class="post-date" title="2023-10-08 19:45:47">2023/10/08</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java性能测试与安全 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/5.Java%20%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E4%B8%8E%E5%AE%89%E5%85%A8/Java%20%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E7%AF%87%E4%B9%8B%20%E5%8E%8B%E6%B5%8B%E5%B7%A5%E5%85%B7%E6%B1%87%E6%80%BB/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 性能测试篇之 压测工具汇总">Java 性能测试篇之 压测工具汇总</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java性能测试与安全 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/5.Java%20%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E4%B8%8E%E5%AE%89%E5%85%A8/Java%20%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E7%AF%87%E4%B9%8B%20%E9%AB%98%E5%B9%B6%E5%8F%91%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87%EF%BC%9AQPS%E3%80%81TPS%E3%80%81RT%E3%80%81%E5%B9%B6%E5%8F%91%E6%95%B0%E3%80%81%E5%90%9E%E5%90%90%E9%87%8F/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 性能测试篇之 高并发性能指标：QPS、TPS、RT、并发数、吞吐量">Java 性能测试篇之 高并发性能指标：QPS、TPS、RT、并发数、吞吐量</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java性能测试与安全 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/5.Java%20%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E4%B8%8E%E5%AE%89%E5%85%A8/Java%20%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E7%AF%87%E4%B9%8B%20JMH%20%E5%B7%A5%E5%85%B7%E7%B1%BB/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 性能测试篇之 JMH 工具类">Java 性能测试篇之 JMH 工具类</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java性能测试与安全 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/5.Java%20%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E4%B8%8E%E5%AE%89%E5%85%A8/Java%20%E5%AE%89%E5%85%A8%E7%AF%87%E4%B9%8B%20API%20%E6%8E%A5%E5%8F%A3%E9%98%B2%E6%AD%A2%E5%8F%82%E6%95%B0%E7%AF%A1%E6%94%B9%E5%92%8C%E9%87%8D%E6%94%BE%E6%94%BB%E5%87%BB/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 安全篇之 API 接口防止参数篡改和重放攻击">Java 安全篇之 API 接口防止参数篡改和重放攻击</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java性能测试与安全 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/5.Java%20%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E4%B8%8E%E5%AE%89%E5%85%A8/Java%20%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E7%AF%87%E4%B9%8B%2048%E5%BC%A0%E5%9B%BE%E5%AD%A6%E4%BC%9A%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E3%80%81%E5%8E%8B%E6%B5%8B%E5%92%8C%E8%B0%83%E4%BC%98/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 性能测试篇之 48张图学会性能监控、压测和调优">Java 性能测试篇之 48张图学会性能监控、压测和调优</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 开发工具 "
           href="/blog/2023/08/28/6%E3%80%81%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/IDEA%20%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="IDEA 基本使用">IDEA 基本使用</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 开发工具 "
           href="/blog/2023/08/28/6%E3%80%81%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/IDEA%20%E5%BF%AB%E6%8D%B7%E9%94%AE/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="IDEA 快捷键">IDEA 快捷键</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 开发工具 "
           href="/blog/2023/08/28/6%E3%80%81%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/IDEA%20%E6%8F%92%E4%BB%B6%E5%AE%89%E8%A3%85/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="IDEA 插件安装">IDEA 插件安装</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 开发工具 "
           href="/blog/2023/08/28/6%E3%80%81%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/PostMan%20%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="PostMan 工具的使用">PostMan 工具的使用</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 开发工具 "
           href="/blog/2023/08/28/6%E3%80%81%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Git/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Git">Git</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20%E4%BC%98%E5%8C%96%E7%AF%87%E4%B9%8B%20%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B3%A8%E8%A7%A3%20%E6%A0%A1%E9%AA%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%8F%AF%E9%87%8D%E5%A4%8D/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 优化篇之 自定义注解 校验数据库表中的数据不可重复">Java 优化篇之 自定义注解 校验数据库表中的数据不可重复</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20%E5%B7%A5%E5%85%B7%E7%AF%87%E4%B9%8B%20API%20%E6%8E%A5%E5%8F%A3%E5%85%8D%E8%B4%B9%20JSONPlaceholder/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 工具篇之 API 接口免费 JSONPlaceholder">Java 工具篇之 API 接口免费 JSONPlaceholder</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20%E5%B7%A5%E5%85%B7%E7%AF%87%E4%B9%8B%20%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E7%BB%9F%E8%AE%A1%E4%BB%A3%E7%A0%81%E8%80%97%E6%97%B6/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 工具篇之 如何优雅的统计代码耗时">Java 工具篇之 如何优雅的统计代码耗时</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B9%8B%20%E4%B8%8D%E5%8F%AF%E4%B8%8D%E7%9F%A5%E7%9A%84%207%20%E4%B8%AA%20JDK%20%E5%91%BD%E4%BB%A4/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 命令行之 不可不知的 7 个 JDK 命令">Java 命令行之 不可不知的 7 个 JDK 命令</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%AF%87%E4%B9%8B%20Window%20%E5%90%8E%E5%8F%B0%E5%90%AF%E5%8A%A8%20JAR%20%E7%A8%8B%E5%BA%8F/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 命令行篇之 Window 后台启动 JAR 程序">Java 命令行篇之 Window 后台启动 JAR 程序</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20%E5%B7%A5%E5%85%B7%E7%AF%87%E4%B9%8B%20Lombok/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 工具篇之 Lombok">Java 工具篇之 Lombok</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20%E5%B7%A5%E5%85%B7%E7%AF%87%E4%B9%8B%20API%20%E6%96%87%E6%A1%A3%E5%B7%A5%E5%85%B7%20Swagger3.x-2.x/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 工具篇之 API 文档工具 Swagger3.x-2.x">Java 工具篇之 API 文档工具 Swagger3.x-2.x</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20%E5%B7%A5%E5%85%B7%E7%AF%87%E4%B9%8B%20%E6%8E%8C%E6%8F%A114%E7%A7%8DUML%E5%9B%BE/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 工具篇之 掌握14种UML图">Java 工具篇之 掌握14种UML图</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20%E5%B7%A5%E5%85%B7%E7%B1%BB%E4%B9%8B%20%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B7%A5%E5%85%B7%E7%B1%BB/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 工具类之 自定义工具类">Java 工具类之 自定义工具类</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20Bean%20%E4%B9%8B%20DTO%E3%80%81VO%E3%80%81PO%E3%80%81DO%E3%80%81BO%20%E7%B1%BB%E7%9A%84%E5%8C%BA%E5%88%AB/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java Bean 之 DTO、VO、PO、DO、BO 类的区别">Java Bean 之 DTO、VO、PO、DO、BO 类的区别</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20JSON%20%E7%AF%87%E4%B9%8B%20Jackson/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java JSON 篇之 Jackson">Java JSON 篇之 Jackson</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20JSON%20%E7%AF%87%E4%B9%8B%20Gson/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java JSON 篇之 Gson">Java JSON 篇之 Gson</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Curl%20%E7%9A%84%E4%BD%BF%E7%94%A8%E5%8F%8A%E5%91%BD%E4%BB%A4%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Curl 的使用及命令参数说明">Curl 的使用及命令参数说明</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20JSON%20%E7%AF%87%E4%B9%8B%20FastJson/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java JSON 篇之 FastJson">Java JSON 篇之 FastJson</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 中间件 Redis "
           href="/blog/2023/08/28/5%E3%80%81%E4%B8%AD%E9%97%B4%E4%BB%B6/Redis/backup/Redis6/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Redis6">Redis6</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 中间件 Redis "
           href="/blog/2023/08/28/5%E3%80%81%E4%B8%AD%E9%97%B4%E4%BB%B6/Redis/Redis-%E6%9C%80%E5%85%A8%E5%AE%9E%E6%88%98/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Redis-最全实战">Redis-最全实战</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 中间件 Redis "
           href="/blog/2023/08/28/5%E3%80%81%E4%B8%AD%E9%97%B4%E4%BB%B6/Redis/Redis-%E4%BB%A3%E7%A0%81%E5%AE%9E%E6%88%98/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Redis-代码实战">Redis-代码实战</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 中间件 RabbitMQ "
           href="/blog/2023/08/28/5%E3%80%81%E4%B8%AD%E9%97%B4%E4%BB%B6/RabbitMQ/RabbitMQ-3.8.14/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="RabbitMQ-3.8.14">RabbitMQ-3.8.14</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 中间件 RabbitMQ "
           href="/blog/2023/08/28/5%E3%80%81%E4%B8%AD%E9%97%B4%E4%BB%B6/RabbitMQ/RabbitMQ-3.7.x/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="RabbitMQ-3.7.x">RabbitMQ-3.7.x</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 中间件 RabbitMQ "
           href="/blog/2023/08/28/5%E3%80%81%E4%B8%AD%E9%97%B4%E4%BB%B6/RabbitMQ/RabbitMQ-3.8.14-%E5%8D%9A%E5%AE%A2%E7%89%88/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="RabbitMQ-3.8.14-博客版">RabbitMQ-3.8.14-博客版</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 中间件 MongoDB "
           href="/blog/2023/08/28/5%E3%80%81%E4%B8%AD%E9%97%B4%E4%BB%B6/MongoDB/MongDB-4.4.2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="MongDB-4.4.2">MongDB-4.4.2</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 中间件 MongoDB "
           href="/blog/2023/08/28/5%E3%80%81%E4%B8%AD%E9%97%B4%E4%BB%B6/MongoDB/MongDB-4.4.2-%E5%8D%9A%E5%AE%A2%E7%89%88/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="MongDB-4.4.2-博客版">MongDB-4.4.2-博客版</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 中间件 ElasticSearch "
           href="/blog/2023/08/28/5%E3%80%81%E4%B8%AD%E9%97%B4%E4%BB%B6/ElasticSearch/ElasticSearch7.6.x%E5%AE%9E%E6%88%98/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="ElasticSearch7.6.x实战">ElasticSearch7.6.x实战</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 Linux 虚拟机工具 "
           href="/blog/2023/08/28/4%E3%80%81Linux/%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%B7%A5%E5%85%B7/Virtualbox%E7%BD%91%E7%BB%9C%E8%AE%BE%E7%BD%AE%E6%88%96%E9%85%8D%E7%BD%AE/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Virtualbox网络设置或配置">Virtualbox网络设置或配置</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 Linux 虚拟机工具 "
           href="/blog/2023/08/28/4%E3%80%81Linux/%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%B7%A5%E5%85%B7/Virtualbox%E5%AE%89%E8%A3%85Centos7%E5%AE%9E%E6%88%98/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Virtualbox安装Centos7实战">Virtualbox安装Centos7实战</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 Linux Nginx "
           href="/blog/2023/08/28/4%E3%80%81Linux/Nginx/Nginx-1.8.0/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Nginx-1.8.0">Nginx-1.8.0</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 Linux Kubernetes "
           href="/blog/2023/08/28/4%E3%80%81Linux/Kubernetes/Minikube-k8s/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Minikube-k8s">Minikube-k8s</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 Linux Kubernetes "
           href="/blog/2023/08/28/4%E3%80%81Linux/Kubernetes/k0s%20%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B%EF%BC%9A%E5%A6%82%E4%BD%95%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%20Kubernetes%20%E9%9B%86%E7%BE%A4/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="k0s 使用教程：如何快速搭建 Kubernetes 集群">k0s 使用教程：如何快速搭建 Kubernetes 集群</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 Linux Docker "
           href="/blog/2023/08/28/4%E3%80%81Linux/Docker/Docker%E5%88%9D%E7%BA%A7%E5%88%B0%E5%AE%9E%E6%88%98/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Docker初级到实战">Docker初级到实战</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 Linux Docker "
           href="/blog/2023/08/28/4%E3%80%81Linux/Docker/Docker&Docker-Compose%E5%AE%9E%E6%88%98-%E5%93%88%E5%96%BD%E6%B2%83%E5%BE%B7/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Docker&amp;Docker-Compose实战-哈喽沃德">Docker&amp;Docker-Compose实战-哈喽沃德</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring/Spring%20Bean%20%E7%9A%8412%E7%A7%8D%E5%AE%9A%E4%B9%89%E6%96%B9%E6%B3%95/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Bean 的12种定义方法">Spring Bean 的12种定义方法</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring/Spring%20Bean%20%E7%9A%84%E5%8A%A8%E6%80%81%E5%88%9B%E5%BB%BA%E8%8E%B7%E5%8F%96%E5%88%A0%E9%99%A4/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Bean 的动态创建获取删除">Spring Bean 的动态创建获取删除</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring/Spring%20Bean%20%E6%B3%A8%E5%85%A5%E7%9A%843%E7%A7%8D%E6%96%B9%E5%BC%8F,%20%E4%B8%BA%E4%BD%95%E5%AE%98%E6%96%B9%E5%BB%BA%E8%AE%AE%E4%BD%BF%E7%94%A8%E6%9E%84%E9%80%A0%E5%99%A8%E6%B3%A8%E5%85%A5/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Bean 注入的3种方式, 为何官方建议使用构造器注入">Spring Bean 注入的3种方式, 为何官方建议使用构造器注入</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Transaction/%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86/Spring%20%E8%A7%A3%E5%86%B3%E5%8D%95%E6%9C%BA%E7%8E%AF%E5%A2%83%E4%B8%8B%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90%E7%9A%84%E4%BA%8B%E5%8A%A1%E9%97%AE%E9%A2%98/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring 解决单机环境下多数据源的事务问题">Spring 解决单机环境下多数据源的事务问题</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Transaction/%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86/Spring%20%E5%AE%9E%E7%8E%B0%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90%E5%AE%9E%E6%88%98/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring 实现多数据源实战">Spring 实现多数据源实战</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Transaction/%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86/Spring%20%E5%AE%9E%E7%8E%B0%E5%8A%A8%E6%80%81%E6%95%B0%E6%8D%AE%E6%BA%90%E3%80%81%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90%E5%88%87%E6%8D%A2%E6%96%B9%E5%BC%8F%E3%80%81%E5%A4%9A%E6%95%B0%E6%8D%AE%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring 实现动态数据源、多数据源切换方式、多数据事务管理">Spring 实现动态数据源、多数据源切换方式、多数据事务管理</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Transaction/Spring%20%E4%BA%8B%E5%8A%A1%E5%8E%9F%E7%90%86%E6%B7%B1%E5%85%A5%E4%B8%8E%E5%88%86%E6%9E%90/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring 事务原理深入与分析">Spring 事务原理深入与分析</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Security/SpringSecurity/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringSecurity">SpringSecurity</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Transaction/JDBC/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="JDBC">JDBC</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Transaction/Spring%20JDBC%20-%20JdbcTemplate/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring JDBC - JdbcTemplate">Spring JDBC - JdbcTemplate</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Transaction/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8B%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86/JDBC%E6%89%B9%E5%A4%84%E7%90%86%E5%AE%9E%E7%8E%B0%E6%89%8B%E5%8A%A8%E4%BA%8B%E5%8A%A1%E6%8F%92%E5%85%A51000%E4%B8%87%E6%95%B0%E6%8D%AE%EF%BC%88%E5%8D%95%E7%BA%BF%E7%A8%8B%20&%20%E5%A4%9A%E7%BA%BF%E7%A8%8B%EF%BC%89/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="JDBC批处理实现手动事务插入1000万数据（单线程 &amp; 多线程）">JDBC批处理实现手动事务插入1000万数据（单线程 &amp; 多线程）</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Data%20JPA/SpringData%20JPA%20%E7%B1%BB%E5%9B%BE%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%E6%95%B4%E7%90%86/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringData JPA 类图及使用方法整理">SpringData JPA 类图及使用方法整理</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Data%20JPA/SpringData%20JPA/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringData JPA">SpringData JPA</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Data%20JPA/Spring%20Data%20JPA%20%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E6%88%98/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Data JPA 原理与实战">Spring Data JPA 原理与实战</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Data%20JPA/Hibernata%20JPA/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Hibernata JPA">Hibernata JPA</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Cloud%20Alibaba/SpringCloud%20Alibaba/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringCloud Alibaba">SpringCloud Alibaba</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot2.x%20%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AF%87%20-%20%E6%95%B4%E5%90%88H2%E6%95%B0%E6%8D%AE%E5%BA%93/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot2.x 数据库篇 - 整合H2数据库">SpringBoot2.x 数据库篇 - 整合H2数据库</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot2.x%20%E9%A1%B9%E7%9B%AE%E7%BB%9F%E4%B8%80%E6%9E%9A%E4%B8%BE%E8%BD%AC%E6%8D%A2%E5%AE%9E%E8%B7%B5/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot2.x 项目统一枚举转换实践">SpringBoot2.x 项目统一枚举转换实践</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E5%AD%A6/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot从零开始学">SpringBoot从零开始学</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%E9%85%8D%E7%BD%AE%E5%B1%9E%E6%80%A7%E4%B9%8BDataSource/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot配置属性之DataSource">SpringBoot配置属性之DataSource</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SprinigBoot%E6%96%87%E7%AB%A0%E6%91%98%E8%A6%81%E5%8F%8A%E8%BD%AC%E8%BD%BD/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SprinigBoot文章摘要及转载">SprinigBoot文章摘要及转载</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/%E4%BB%A3%E7%A0%81%E5%AE%A1%E6%9F%A5%E7%9A%84%E5%BF%85%E8%A6%81%E6%80%A7%E5%92%8C%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="代码审查的必要性和最佳实践">代码审查的必要性和最佳实践</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-%E8%AF%BB%E5%8F%96%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B9%8B@Value%E8%BF%9B%E9%98%B6/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x 配置文件-读取配置文件之@Value进阶">SpringBoot 2.x 配置文件-读取配置文件之@Value进阶</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-%E8%AF%BB%E5%8F%96%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84N%E7%A7%8D%E6%96%B9%E5%BC%8F/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x 配置文件-读取配置文件的N种方式">SpringBoot 2.x 配置文件-读取配置文件的N种方式</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-%E8%AF%BB%E5%8F%96%20Resources%20%E6%96%87%E4%BB%B6%E4%B9%8B%E6%97%A0%E6%B3%95%E8%AF%BB%E5%8F%96Jar%E5%8C%85classpath%E4%B8%8B%E7%9A%84%E6%96%87%E4%BB%B6/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x 配置文件-读取 Resources 文件之无法读取Jar包classpath下的文件">SpringBoot 2.x 配置文件-读取 Resources 文件之无法读取Jar包classpath下的文件</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20%E7%BB%9F%E4%B8%80%E6%8E%A5%E5%8F%A3%E8%BF%94%E5%9B%9E%E6%A0%BC%E5%BC%8F/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x 统一接口返回格式">SpringBoot 2.x 统一接口返回格式</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-%E8%AF%BB%E5%8F%96%20Resources%20%E6%96%87%E4%BB%B6%E7%9A%84N%E7%A7%8D%E6%96%B9%E5%BC%8F/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x 配置文件-读取 Resources 文件的N种方式">SpringBoot 2.x 配置文件-读取 Resources 文件的N种方式</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20%E5%88%87%E9%9D%A2%E7%BC%96%E7%A8%8B%E7%AF%87-%E6%8B%A6%E6%88%AA%E5%99%A8%E8%BF%87%E6%BB%A4%E5%99%A8%E4%B8%8E%E7%9B%91%E5%90%AC%E5%99%A8/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x 切面编程篇-拦截器过滤器与监听器">SpringBoot 2.x 切面编程篇-拦截器过滤器与监听器</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3%E8%AF%A6%E8%A7%A3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x 常用注解详解">SpringBoot 2.x 常用注解详解</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20%E5%AE%89%E5%85%A8%E5%AF%86%E7%A0%81%E5%AD%A6%E4%B9%8B%E5%8A%A0%E8%A7%A3%E5%AF%86%E7%AE%97%E6%B3%95/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x 安全密码学之加解密算法">SpringBoot 2.x 安全密码学之加解密算法</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3%E5%A4%A7%E5%85%A8/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x 常用注解大全">SpringBoot 2.x 常用注解大全</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20%E5%90%AF%E5%8A%A8%E6%97%B6%E5%8A%A0%E8%BD%BD%E5%88%9D%E5%A7%8B%E5%8C%96%E7%9A%84N%E7%A7%8D%E6%96%B9%E5%BC%8F/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x 启动时加载初始化的N种方式">SpringBoot 2.x 启动时加载初始化的N种方式</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%E5%8F%8A%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%E8%BF%87%E7%A8%8B/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x 启动流程及自动装配过程">SpringBoot 2.x 启动流程及自动装配过程</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20%E5%8A%A8%E6%80%81%E8%A3%85%E9%85%8DBean%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x 动态装配Bean的三种方式">SpringBoot 2.x 动态装配Bean的三种方式</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E5%88%A9%E5%99%A8-1%20JUnit5/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x 单元测试利器-1 JUnit5">SpringBoot 2.x 单元测试利器-1 JUnit5</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E5%88%A9%E5%99%A8-3%20MockMvc/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x 单元测试利器-3 MockMvc">SpringBoot 2.x 单元测试利器-3 MockMvc</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E5%88%A9%E5%99%A8-2%20Mockito/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x 单元测试利器-2 Mockito">SpringBoot 2.x 单元测试利器-2 Mockito</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20%E5%88%86%E7%89%87%E4%B8%8A%E4%BC%A0%E3%80%81%E6%96%AD%E7%82%B9%E7%BB%AD%E4%BC%A0%E3%80%81%E5%A4%A7%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E3%80%81%E7%A7%92%E4%BC%A0/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x 分片上传、断点续传、大文件上传、秒传">SpringBoot 2.x 分片上传、断点续传、大文件上传、秒传</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20Validation%20%E5%8F%82%E6%95%B0%E6%A0%A1%E9%AA%8C%EF%BC%88TODO%EF%BC%89/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x Validation 参数校验（TODO）">SpringBoot 2.x Validation 参数校验（TODO）</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20YML%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x YML配置文件详解">SpringBoot 2.x YML配置文件详解</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20WebMvcConfigurer%20%E8%AF%A6%E8%A7%A3%E3%80%90SpringMVC%E3%80%91/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x WebMvcConfigurer 详解【SpringMVC】">SpringBoot 2.x WebMvcConfigurer 详解【SpringMVC】</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20%E5%88%86%E5%B8%83%E5%BC%8F%E5%85%A8%E5%B1%80%E5%94%AF%E4%B8%80ID%E7%94%9F%E6%88%90%E6%96%B9%E6%A1%88/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x 分布式全局唯一ID生成方案">SpringBoot 2.x 分布式全局唯一ID生成方案</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20JWT%20%E6%A6%82%E5%BF%B5%E7%AF%87/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x JWT 概念篇">SpringBoot 2.x JWT 概念篇</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20Jar%20%E5%8C%85%E5%90%AF%E5%8A%A8%E3%80%81%E5%81%9C%E6%AD%A2%E3%80%81%E9%87%8D%E5%90%AF%E8%84%9A%E6%9C%AC/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x Jar 包启动、停止、重启脚本">SpringBoot 2.x Jar 包启动、停止、重启脚本</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20Java%20%E7%A8%8B%E5%BA%8F%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0%E6%80%BB%E7%BB%93/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x Java 程序命令行参数总结">SpringBoot 2.x Java 程序命令行参数总结</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20Java%20%E5%AE%9E%E7%8E%B0%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B%E7%9A%848%E7%A7%8D%E6%96%B9%E5%BC%8F/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x Java 实现异步编程的8种方式">SpringBoot 2.x Java 实现异步编程的8种方式</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20@ControllerAdvice%E4%B8%89%E7%A7%8D%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x @ControllerAdvice三种使用场景">SpringBoot 2.x @ControllerAdvice三种使用场景</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20@ConfigurationProperties%E4%BB%A5%E5%8F%8A@NestedConfigurationProperty%E7%9A%84%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x @ConfigurationProperties以及@NestedConfigurationProperty的使用详解">SpringBoot 2.x @ConfigurationProperties以及@NestedConfigurationProperty的使用详解</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20HTTP%20Content-Type%20%E8%AF%A6%E8%A7%A3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x HTTP Content-Type 详解">SpringBoot 2.x HTTP Content-Type 详解</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20HTTP%20Headers%20%E5%A4%B4%E4%BF%A1%E6%81%AF%E8%AF%BB%E5%8F%96/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x HTTP Headers 头信息读取">SpringBoot 2.x HTTP Headers 头信息读取</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20JWT%20%E5%AE%9E%E6%88%98%E7%AF%87/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x JWT 实战篇">SpringBoot 2.x JWT 实战篇</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20%20%E6%8E%A5%E5%8F%A3%E5%B9%82%E7%AD%89%E6%80%A7%E5%AE%9E%E7%8E%B0/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x  接口幂等性实现">SpringBoot 2.x  接口幂等性实现</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/Spring%20IO%20Platform%EF%BC%9A%E8%A7%A3%E5%86%B3%E4%BE%9D%E8%B5%96%E7%89%88%E6%9C%AC%E5%86%B2%E7%AA%81/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring IO Platform：解决依赖版本冲突">Spring IO Platform：解决依赖版本冲突</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Spring%20Boot/SpringBoot%202.x%20%E5%88%87%E9%9D%A2%E7%BC%96%E7%A8%8B%E7%AF%87-AOP%20%E7%9A%84%E4%BD%BF%E7%94%A8%E5%8F%8A%E5%8E%9F%E7%90%86/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot 2.x 切面编程篇-AOP 的使用及原理">SpringBoot 2.x 切面编程篇-AOP 的使用及原理</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE SSM框架 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/2%E3%80%81SSM%E6%A1%86%E6%9E%B6/SpringMVC/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringMVC">SpringMVC</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Shiro/Shiro%E6%9D%83%E9%99%90%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Shiro权限实战课程">Shiro权限实战课程</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE 微服务开发 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/3%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Shiro/Shiro%E6%9D%83%E9%99%90%E5%AE%9E%E6%88%98/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Shiro权限实战">Shiro权限实战</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE SSM框架 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/2%E3%80%81SSM%E6%A1%86%E6%9E%B6/Spring/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring">Spring</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE SSM框架 "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/2%E3%80%81SSM%E6%A1%86%E6%9E%B6/MybatisPlus/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="MybatisPlus">MybatisPlus</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE JavaWeb "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/1%E3%80%81JavaWeb/%E4%BD%A0%E8%BF%98%E5%9C%A8%E4%B8%BA%20HTTP%20%E7%9A%84%E8%BF%99%E4%BA%9B%E6%A6%82%E5%BF%B5%E5%A4%B4%E7%96%BC%E5%90%97/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="你还在为 HTTP 的这些概念头疼吗">你还在为 HTTP 的这些概念头疼吗</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaEE JavaWeb "
           href="/blog/2023/08/28/2%E3%80%81JavaEE/1%E3%80%81JavaWeb/Cookie%E3%80%81Session%E3%80%81Token%E3%80%81JWT%E7%BB%88%E4%BA%8E%E8%AE%B2%E6%B8%85%E6%A5%9A%E4%BA%86/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Cookie、Session、Token、JWT终于讲清楚了">Cookie、Session、Token、JWT终于讲清楚了</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 数据库 "
           href="/blog/2023/08/28/3%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL-%E9%AB%98%E7%BA%A7/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="MySQL-高级">MySQL-高级</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 数据库 "
           href="/blog/2023/08/28/3%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL-%E5%88%9D%E7%BA%A7/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="MySQL-初级">MySQL-初级</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 数据库 "
           href="/blog/2023/08/28/3%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93/H2%20Database/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="H2 Database">H2 Database</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20%E4%BC%98%E5%8C%96%E7%AF%87%E4%B9%8B%20%E6%B3%A8%E8%A7%A3%20+%20%E5%8F%8D%E5%B0%84%E6%B6%88%E9%99%A4%E9%87%8D%E5%A4%8D%E4%BB%A3%E7%A0%81/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 优化篇之 注解 + 反射消除重复代码">Java 优化篇之 注解 + 反射消除重复代码</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20%E4%BC%98%E5%8C%96%E7%AF%87%E4%B9%8B%20%E5%BB%B6%E6%97%B6%E9%98%9F%E5%88%97%20-%20%E8%AE%A2%E5%8D%95%E8%B6%85%E6%97%B6%E8%87%AA%E5%8A%A8%E5%8F%96%E6%B6%88%E7%9A%84N%E7%A7%8D%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 优化篇之 延时队列 - 订单超时自动取消的N种实现方式">Java 优化篇之 延时队列 - 订单超时自动取消的N种实现方式</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20%E9%9B%86%E5%90%88%E7%AF%87%E4%B9%8B%20%E8%8E%B7%E5%8F%96%E4%B8%A4%E4%B8%AA%E9%9B%86%E5%90%88List%E7%9A%84%E4%BA%A4%E9%9B%86%E3%80%81%E8%A1%A5%E9%9B%86%E3%80%81%E5%B9%B6%E9%9B%86%E3%80%81%E5%B7%AE%E9%9B%86%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 集合篇之 获取两个集合List的交集、补集、并集、差集的几种方式">Java 集合篇之 获取两个集合List的交集、补集、并集、差集的几种方式</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20%E4%BC%98%E5%8C%96%E7%AF%87%E4%B9%8B%20if-else%20%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 优化篇之 if-else 代码优化方案">Java 优化篇之 if-else 代码优化方案</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20%E9%9B%86%E5%90%88%E7%AF%87%E4%B9%8B%20Lambda%20%E5%AE%9E%E7%8E%B0%E8%B6%85%E5%BC%BA%E6%8E%92%E5%BA%8F/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 集合篇之 Lambda 实现超强排序">Java 集合篇之 Lambda 实现超强排序</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4%E5%90%84%E7%B1%BB%E5%9E%8B%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 日期时间各类型相互转换">Java 日期时间各类型相互转换</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 动态代理">Java 动态代理</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20%E5%9F%BA%E6%9C%AC%E5%8A%9F%E7%AF%87%E4%B9%8B%20for%E3%80%81for-each%E3%80%81forEach()%20%E7%9A%84%20break%E3%80%81continue%E3%80%81return/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 基本功篇之 for、for-each、forEach() 的 break、continue、return">Java 基本功篇之 for、for-each、forEach() 的 break、continue、return</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6%E8%AF%A6%E8%A7%A3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 日志框架详解">Java 日志框架详解</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java新特性 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/3.Java%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%20%E6%96%B0%E7%89%B9%E6%80%A7%E6%A6%82%E8%BF%B0%E5%8F%8A%E7%89%88%E6%9C%AC%E5%8F%91%E8%A1%8C%E5%8F%B2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 新特性概述及版本发行史">Java 新特性概述及版本发行史</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20Bean%20%E4%B9%8B%20Record%20%E7%B1%BB/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java Bean 之 Record 类">Java Bean 之 Record 类</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java汇总篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/4.Java%20%E6%B1%87%E6%80%BB%E7%AF%87/Java%20%E4%BC%98%E5%8C%96%E7%AF%87%E4%B9%8B%20GZIP%E5%8E%8B%E7%BC%A9%E5%AD%97%E7%AC%A6%E4%B8%B2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 优化篇之 GZIP压缩字符串">Java 优化篇之 GZIP压缩字符串</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java进阶篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/2.Java%20%E8%BF%9B%E9%98%B6%E7%AF%87/JVM%20%E8%99%9A%E6%8B%9F%E6%9C%BA/Java%20GC%20%E6%80%BB%E7%BB%93/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java GC 总结">Java GC 总结</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java新特性 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/3.Java%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%209%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%209%20%E6%96%B0%E7%89%B9%E6%80%A7/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 9 新特性">Java 9 新特性</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java新特性 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/3.Java%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%208%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%208%20%E6%96%B0%E7%89%B9%E6%80%A7%E4%B9%8B%20Optional%20%E7%B1%BB/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 8 新特性之 Optional 类">Java 8 新特性之 Optional 类</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java新特性 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/3.Java%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%208%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%208%20%E6%96%B0%E7%89%B9%E6%80%A7%E4%B9%8B%20Stream%20%E6%B5%81/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 8 新特性之 Stream 流">Java 8 新特性之 Stream 流</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java新特性 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/3.Java%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%208%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%208%20%E6%96%B0%E7%89%B9%E6%80%A7/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 8 新特性">Java 8 新特性</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java新特性 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/3.Java%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%208%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%208%20%E6%96%B0%E7%89%B9%E6%80%A7%E4%B9%8B%20DateTime%20API/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 8 新特性之 DateTime API">Java 8 新特性之 DateTime API</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java新特性 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/3.Java%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%2019%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%2019%20%E6%96%B0%E7%89%B9%E6%80%A7/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 19 新特性">Java 19 新特性</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java新特性 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/3.Java%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%2020%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%2020%20%E6%96%B0%E7%89%B9%E6%80%A7/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 20 新特性">Java 20 新特性</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java新特性 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/3.Java%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%2018%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%2018%20%E6%96%B0%E7%89%B9%E6%80%A7/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 18 新特性">Java 18 新特性</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java新特性 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/3.Java%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%2017%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%2017%20%E6%96%B0%E7%89%B9%E6%80%A7/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 17 新特性">Java 17 新特性</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java新特性 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/3.Java%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%2015%E6%96%B0%E7%89%B9%E6%80%A7/Java%2015%20%E6%96%B0%E7%89%B9%E6%80%A7/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 15 新特性">Java 15 新特性</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java新特性 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/3.Java%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%2016%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%2016%20%E6%96%B0%E7%89%B9%E6%80%A7/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 16 新特性">Java 16 新特性</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java新特性 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/3.Java%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%2013%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%2013%20%E6%96%B0%E7%89%B9%E6%80%A7/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 13 新特性">Java 13 新特性</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java新特性 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/3.Java%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%2014%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%2014%20%E6%96%B0%E7%89%B9%E6%80%A7/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 14 新特性">Java 14 新特性</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java新特性 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/3.Java%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%2011%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%2011%20%E6%96%B0%E7%89%B9%E6%80%A7/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 11 新特性">Java 11 新特性</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java新特性 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/3.Java%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%2012%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%2012%20%E6%96%B0%E7%89%B9%E6%80%A7/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 12 新特性">Java 12 新特性</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java新特性 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/3.Java%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%2010%20%E6%96%B0%E7%89%B9%E6%80%A7/Java%2010%20%E6%96%B0%E7%89%B9%E6%80%A7/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 10 新特性">Java 10 新特性</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java基础篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/1.Java%20%E5%9F%BA%E7%A1%80%E7%AF%87/1%E3%80%81Java%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/Java%20%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 面向对象编程">Java 面向对象编程</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java基础篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/1.Java%20%E5%9F%BA%E7%A1%80%E7%AF%87/3%E3%80%81Java%20%E9%9B%86%E5%90%88%E7%B1%BB/Java%20%E7%B1%BB%E9%9B%86%E6%A1%86%E6%9E%B6/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 类集框架">Java 类集框架</span>
            <span class="post-date" title="2023-08-28 09:23:45">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java基础篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/1.Java%20%E5%9F%BA%E7%A1%80%E7%AF%87/2%E3%80%81Java%20%E5%B8%B8%E7%94%A8%E7%B1%BB%E5%BA%93/Java%20%E5%B8%B8%E7%94%A8%E7%B1%BB%E5%BA%93/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 常用类库">Java 常用类库</span>
            <span class="post-date" title="2023-08-28 09:23:44">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java基础篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/1.Java%20%E5%9F%BA%E7%A1%80%E7%AF%87/5%E3%80%81Java%20%E5%A4%9A%E7%BA%BF%E7%A8%8B/Java%20%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 多线程基础">Java 多线程基础</span>
            <span class="post-date" title="2023-08-28 09:23:44">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java基础篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/1.Java%20%E5%9F%BA%E7%A1%80%E7%AF%87/4%E3%80%81Java%20%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E8%A7%A3/Java%20%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E8%A7%A3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 反射与注解">Java 反射与注解</span>
            <span class="post-date" title="2023-08-28 09:23:44">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java基础篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/1.Java%20%E5%9F%BA%E7%A1%80%E7%AF%87/7%E3%80%81Java%20NIO%20%E6%B5%81/Java%20NIO%20%E6%B5%81/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java NIO 流">Java NIO 流</span>
            <span class="post-date" title="2023-08-28 09:23:44">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java基础篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/1.Java%20%E5%9F%BA%E7%A1%80%E7%AF%87/6%E3%80%81Java%20IO%20%E6%B5%81/Java%20IO%20%E6%B5%81/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java IO 流">Java IO 流</span>
            <span class="post-date" title="2023-08-28 09:23:44">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java进阶篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/2.Java%20%E8%BF%9B%E9%98%B6%E7%AF%87/Java%20%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Java%20%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java 设计模式">Java 设计模式</span>
            <span class="post-date" title="2023-08-28 09:23:44">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java进阶篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/2.Java%20%E8%BF%9B%E9%98%B6%E7%AF%87/JVM%20%E8%99%9A%E6%8B%9F%E6%9C%BA/JVM%20%E8%99%9A%E6%8B%9F%E6%9C%BA/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="JVM 虚拟机">JVM 虚拟机</span>
            <span class="post-date" title="2023-08-28 09:23:44">2023/08/28</span>
        </a>
        
        
        <a  class="全部文章 JavaSE Java进阶篇 "
           href="/blog/2023/08/28/1%E3%80%81JavaSE/2.Java%20%E8%BF%9B%E9%98%B6%E7%AF%87/JVM%20%E8%99%9A%E6%8B%9F%E6%9C%BA/7%20%E6%AE%B5%E5%B0%8F%E4%BB%A3%E7%A0%81%EF%BC%8C%E7%8E%A9%E8%BD%ACJava%E7%A8%8B%E5%BA%8F%E5%B8%B8%E8%A7%81%E7%9A%84%E5%B4%A9%E6%BA%83%E5%9C%BA%E6%99%AF/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="7 段小代码，玩转Java程序常见的崩溃场景">7 段小代码，玩转Java程序常见的崩溃场景</span>
            <span class="post-date" title="2023-08-28 09:23:44">2023/08/28</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-5、中间件/MongoDB/MongDB-4.4.2-博客版" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">MongDB-4.4.2-博客版</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="中间件">中间件</a> > 
            
            <a  data-rel="中间件&lt;---&gt;MongoDB">MongoDB</a>
            
        </span>
        
        
    </div>
    <div class="article-meta">
        
            发布时间 : <time class="date" title='最后更新: 2024-10-22 11:50:18'>2023-08-28 09:23</time>
        
    </div>
    <div class="article-meta">
        
        
        <span id="busuanzi_container_page_pv">
            阅读 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#MongoDB-%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BB%8B%E7%BB%8D"><span class="toc-text">MongoDB 数据库介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#01%E3%80%81MongoDB%E7%AE%80%E4%BB%8B"><span class="toc-text">01、MongoDB简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E6%80%A7%E8%83%BD%E9%AB%98"><span class="toc-text">1、性能高</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E6%94%AF%E6%8C%81%E5%88%86%E5%B8%83%E5%BC%8F"><span class="toc-text">2、支持分布式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E5%AE%89%E8%A3%85%E5%92%8C%E9%83%A8%E7%BD%B2%E5%AE%B9%E6%98%93"><span class="toc-text">3、安装和部署容易</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E4%BE%BF%E4%BA%8E%E5%BC%80%E5%8F%91"><span class="toc-text">4、便于开发</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81NOSQL%E4%B8%8ESQL%E5%AF%B9%E6%AF%94"><span class="toc-text">5、NOSQL与SQL对比</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#02%E3%80%81%E6%96%87%E6%A1%A3%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84"><span class="toc-text">02、文档存储结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E9%94%AE%E5%80%BC%E5%AF%B9"><span class="toc-text">1、键值对</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E6%96%87%E6%A1%A3"><span class="toc-text">2、文档</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E9%9B%86%E5%90%88"><span class="toc-text">3、集合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">4、数据库</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#03%E3%80%81%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">03、基本数据类型</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MongoDB-%E4%B8%8B%E8%BD%BD%E4%B8%8E%E5%AE%89%E8%A3%85"><span class="toc-text">MongoDB 下载与安装</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#01%E3%80%81Win10-%E5%AE%89%E8%A3%85"><span class="toc-text">01、Win10 安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E4%B8%8B%E8%BD%BD%E6%8C%87%E5%AE%9A%E7%89%88%E6%9C%AC"><span class="toc-text">1、下载指定版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E9%80%89%E6%8B%A9%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F"><span class="toc-text">2、选择安装方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E9%80%89%E6%8B%A9%E5%AE%89%E8%A3%85%E8%B7%AF%E5%BE%84"><span class="toc-text">3、选择安装路径</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E6%A3%80%E6%9F%A5%E6%98%AF%E5%90%A6%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F"><span class="toc-text">4、检查是否安装成功</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E9%85%8D%E7%BD%AE%E7%B3%BB%E7%BB%9F%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-text">5、配置系统环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81%E7%9B%AE%E5%BD%95%E4%B8%8E%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%B4%E6%98%8E"><span class="toc-text">6、目录与配置文件说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81mongod-%E4%B8%8E-mongo-%E5%91%BD%E4%BB%A4"><span class="toc-text">7、mongod 与 mongo 命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#02%E3%80%81Linux-%E5%AE%89%E8%A3%85"><span class="toc-text">02、Linux 安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81MongoDB-%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4"><span class="toc-text">1、MongoDB 安装步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E5%90%AF%E5%8A%A8-MongoDB"><span class="toc-text">2、启动 MongoDB</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E5%85%B3%E9%97%AD-MongoDB"><span class="toc-text">3、关闭 MongoDB</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#03%E3%80%81Docker-%E5%AE%89%E8%A3%85"><span class="toc-text">03、Docker 安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81docker-%E5%AE%89%E8%A3%85"><span class="toc-text">1、docker 安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81docker-compose-%E5%AE%89%E8%A3%85"><span class="toc-text">2、docker-compose 安装</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%B4%A6%E6%88%B7%E5%8F%8A%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86"><span class="toc-text">账户及权限管理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#00%E3%80%81%E7%94%A8%E6%88%B7%E8%A7%92%E8%89%B2%E4%BB%8B%E7%BB%8D"><span class="toc-text">00、用户角色介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#01%E3%80%81%E5%88%9B%E5%BB%BA%E7%AE%A1%E7%90%86%E5%91%98%E7%94%A8%E6%88%B7"><span class="toc-text">01、创建管理员用户</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#02%E3%80%81%E5%BC%80%E5%90%AF%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="toc-text">02、开启授权访问控制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#03%E3%80%81%E7%94%A8%E6%88%B7%E8%AE%A4%E8%AF%81%E7%99%BB%E9%99%86"><span class="toc-text">03、用户认证登陆</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#04%E3%80%81%E5%88%9B%E5%BB%BA%E6%99%AE%E9%80%9A%E7%94%A8%E6%88%B7"><span class="toc-text">04、创建普通用户</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#05%E3%80%81%E6%9F%A5%E7%9C%8B%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="toc-text">05、查看用户信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#06%E3%80%81%E6%9B%B4%E6%96%B0%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="toc-text">06、更新用户信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#07%E3%80%81%E6%9B%B4%E6%96%B0%E7%94%A8%E6%88%B7%E8%A7%92%E8%89%B2"><span class="toc-text">07、更新用户角色</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#08%E3%80%81%E6%9B%B4%E6%94%B9%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81"><span class="toc-text">08、更改用户密码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#09%E3%80%81%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7"><span class="toc-text">09、删除用户</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C-Database"><span class="toc-text">数据库操作-Database</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#01%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99"><span class="toc-text">01、数据库命名规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#02%E3%80%81%E5%88%9B%E5%BB%BA%E5%88%87%E6%8D%A2%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">02、创建切换数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#03%E3%80%81%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">03、查看数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#04%E3%80%81%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">04、删除数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#05%E3%80%81%E6%9F%A5%E7%9C%8B%E5%B8%AE%E5%8A%A9%E6%96%87%E6%A1%A3"><span class="toc-text">05、查看帮助文档</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C-Collection"><span class="toc-text">集合操作-Collection</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#01%E3%80%81%E9%9B%86%E5%90%88%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99"><span class="toc-text">01、集合命名规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#02%E3%80%81%E9%9B%86%E5%90%88%E5%88%9B%E5%BB%BA"><span class="toc-text">02、集合创建</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#03%E3%80%81%E9%9B%86%E5%90%88%E6%9F%A5%E8%AF%A2"><span class="toc-text">03、集合查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#04%E3%80%81%E9%9B%86%E5%90%88%E5%88%A0%E9%99%A4"><span class="toc-text">04、集合删除</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#05%E3%80%81%E9%9B%86%E5%90%88%E4%BF%AE%E6%94%B9"><span class="toc-text">05、集合修改</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E6%A1%A3%E6%93%8D%E4%BD%9C-Document"><span class="toc-text">文档操作-Document</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#01%E3%80%81%E6%96%87%E6%A1%A3%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99"><span class="toc-text">01、文档命名规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#02%E3%80%81%E6%95%B0%E6%8D%AE%E6%8F%92%E5%85%A5"><span class="toc-text">02、数据插入</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81insert-%E6%96%B9%E6%B3%95"><span class="toc-text">1、insert() 方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81insertXxx-%E6%96%B9%E6%B3%95"><span class="toc-text">2、insertXxx() 方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#03%E3%80%81%E6%95%B0%E6%8D%AE%E6%9B%B4%E6%96%B0"><span class="toc-text">03、数据更新</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81update-%E6%96%B9%E6%B3%95"><span class="toc-text">1、update() 方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81updateXxx-%E6%96%B9%E6%B3%95"><span class="toc-text">2、updateXxx() 方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#04%E3%80%81%E6%95%B0%E6%8D%AE%E5%88%A0%E9%99%A4"><span class="toc-text">04、数据删除</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81deleteXxx-%E6%96%B9%E6%B3%95"><span class="toc-text">1、deleteXxx() 方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81remove-%E6%96%B9%E6%B3%95"><span class="toc-text">2、remove() 方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#05%E3%80%81%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2"><span class="toc-text">05、数据查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E6%8F%92%E5%85%A5%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE"><span class="toc-text">1、插入测试数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE%E6%96%B9%E6%B3%95"><span class="toc-text">2、查询数据方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E6%9F%A5%E8%AF%A2%E6%8C%87%E5%AE%9A%E5%AD%97%E6%AE%B5"><span class="toc-text">3、查询指定字段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E6%8C%87%E5%AE%9A%E8%8C%83%E5%9B%B4%E6%9F%A5%E8%AF%A2"><span class="toc-text">4、指定范围查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E9%80%BB%E8%BE%91%E5%88%A4%E6%96%AD%E6%9F%A5%E8%AF%A2"><span class="toc-text">5、逻辑判断查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81%E5%85%83%E7%B4%A0%E6%93%8D%E4%BD%9C%E7%AC%A6%E6%9F%A5%E8%AF%A2"><span class="toc-text">6、元素操作符查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81%E7%89%B9%E5%AE%9A%E7%B1%BB%E5%9E%8B%E6%9F%A5%E8%AF%A2"><span class="toc-text">7、特定类型查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81%E8%AF%84%E4%BC%B0%E6%93%8D%E4%BD%9C%E7%AC%A6%E6%9F%A5%E8%AF%A2"><span class="toc-text">8、评估操作符查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%E3%80%81%E6%B8%B8%E6%A0%87%E6%96%B9%E6%B3%95%E6%9F%A5%E8%AF%A2"><span class="toc-text">9、游标方法查询</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#06%E3%80%81%E8%81%9A%E5%90%88%E6%9F%A5%E8%AF%A2"><span class="toc-text">06、聚合查询</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E6%93%8D%E4%BD%9C-Index"><span class="toc-text">索引操作-Index</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#01%E3%80%81%E7%B4%A2%E5%BC%95%E4%BB%8B%E7%BB%8D"><span class="toc-text">01、索引介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#02%E3%80%81%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95"><span class="toc-text">02、创建索引</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#03%E3%80%81%E6%9F%A5%E7%9C%8B%E7%B4%A2%E5%BC%95"><span class="toc-text">03、查看索引</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#04%E3%80%81%E5%88%A0%E9%99%A4%E7%B4%A2%E5%BC%95"><span class="toc-text">04、删除索引</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#05%E3%80%81%E7%B4%A2%E5%BC%95%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-text">05、索引的类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E5%8D%95%E9%94%AE%E7%B4%A2%E5%BC%95"><span class="toc-text">1、单键索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E5%A4%8D%E5%90%88%E7%B4%A2%E5%BC%95"><span class="toc-text">2、复合索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E5%A4%9A%E9%94%AE%E7%B4%A2%E5%BC%95"><span class="toc-text">3、多键索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E5%93%88%E5%B8%8C%E7%B4%A2%E5%BC%95"><span class="toc-text">4、哈希索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E5%85%A8%E6%96%87%E7%B4%A2%E5%BC%95"><span class="toc-text">5、全文索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81%E5%9C%B0%E7%90%86%E7%A9%BA%E9%97%B4%E7%B4%A2%E5%BC%95"><span class="toc-text">6、地理空间索引</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#06%E3%80%81%E7%B4%A2%E5%BC%95%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-text">06、索引的属性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E5%94%AF%E4%B8%80%E7%B4%A2%E5%BC%95"><span class="toc-text">1、唯一索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E5%B1%80%E9%83%A8%E7%B4%A2%E5%BC%95"><span class="toc-text">2、局部索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E7%A8%80%E7%96%8F%E7%B4%A2%E5%BC%95"><span class="toc-text">3、稀疏索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E8%BF%87%E6%9C%9F%E7%B4%A2%E5%BC%95-TTL"><span class="toc-text">4、过期索引-TTL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E6%A1%88%E4%BE%8B%E5%AE%9E%E6%88%98-TTL"><span class="toc-text">5、案例实战-TTL</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E5%8F%8A%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA"><span class="toc-text">备份恢复及导入导出</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#01%E3%80%81%E5%AF%BC%E5%87%BA%EF%BC%9Amongoexport"><span class="toc-text">01、导出：mongoexport</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#02%E3%80%81%E5%AF%BC%E5%85%A5%EF%BC%9Amongoimport"><span class="toc-text">02、导入：mongoimport</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#03%E3%80%81%E5%A4%87%E4%BB%BD%EF%BC%9Amongodump"><span class="toc-text">03、备份：mongodump</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#04%E3%80%81%E6%81%A2%E5%A4%8D%EF%BC%9Amongorestore"><span class="toc-text">04、恢复：mongorestore</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Java%E6%93%8D%E4%BD%9CMongoDB"><span class="toc-text">Java操作MongoDB</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SpringBoot%E6%95%B4%E5%90%88MongoDB"><span class="toc-text">SpringBoot整合MongoDB</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="toc-text">1、准备工作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="toc-text">2、创建项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E6%B5%8B%E8%AF%95%E6%8E%A5%E5%8F%A3"><span class="toc-text">3、测试接口</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99-%E9%B8%A3%E8%B0%A2"><span class="toc-text">参考资料 &amp; 鸣谢</span></a></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="MongoDB-数据库介绍"><a href="#MongoDB-数据库介绍" class="headerlink" title="MongoDB 数据库介绍"></a>MongoDB 数据库介绍</h1><h2 id="01、MongoDB简介"><a href="#01、MongoDB简介" class="headerlink" title="01、MongoDB简介"></a>01、MongoDB简介</h2><p><strong>MongoDB官网</strong>：<a target="_blank" rel="noopener" href="https://www.mongodb.com/">https://www.mongodb.com/</a></p>
<blockquote>
<p>MongoDB 是一个开源文档数据库，提供高性能、高可用性和自动扩展的功能。是用 C++ 语言编写的非关系型数据库。</p>
<p>MongoDB <strong>是免费使用的（MongoDB分 社区版 [在所有环境下都免费] 和 企业版[在开发环境免费，生产环境收费] 两个版本）</strong></p>
</blockquote>
<h3 id="1、性能高"><a href="#1、性能高" class="headerlink" title="1、性能高"></a>1、性能高</h3><p>MongoDB 是一个开源文档数据库，是用 C++ 语言编写的非关系型数据库。其特点是高性能、高可用、可伸缩、易部署、易使用，存储数据十分方便，主要特性有：面向集合存储，易于存储对象类型的数据，模式自由，支持动态查询，支持完全索引，支持复制和故障恢复，使用高效的二进制数据存储，文件存储格式为 BSON （ 一种 JSON 的扩展）等。</p>
<p>MongoDB 提供高性能数据读写功能，并且性能还在不断地提升。根据官方提供的 MongoDB 3.0 性能测试报告，在 YCSB 测试中，MongoDB 3.0 在多线程、批量插入场景下的处理速度比 MongoDB 2.6 快 7 倍。</p>
<h3 id="2、支持分布式"><a href="#2、支持分布式" class="headerlink" title="2、支持分布式"></a>2、支持分布式</h3><p>在生产过程中，因机器故障导致系统宕机的问题不可避免；集中式系统在计算能力和存储能力方面的瓶颈，也无法满足当前的数据量爆发式增长的需求。这两个问题就是系统对高可用和可伸缩架构的需求，MongoDB 在原生上就可满足这两方面的需求。</p>
<p>MongoDB 的高可用性体现在对副本集 Replication 的支持上，可伸缩性体现在分片集群的部署方式上。</p>
<p>MongoDB 的 Replication 集提供自动故障转移和数据冗余服务，Replication 结构可以保证数据库中的全部数据都会有多份备份，这与 HDFS 分布式文件系统的备份机制比较类似。采用副本集的集群中具有主（Master）、从（Slaver）、仲裁（Arbiter）三种角色。</p>
<p>主从关系（Master-Slaver） 负责数据的同步和读写分离；Arbiter 服务负责心跳（Heartbeat）监控，Master 宕机时可将 Slaver 切换到 Mas 血状态，继续提供数据的服务，完成了数据的高可用需求。</p>
<p>当需要存储大量的数据时，主从服务器都需要存储全部数据，可能会出现写性能问题。同时， Replication 主要解决的是读数据高可用方面的问题，在对数据库查询时也只限制在一台服务器上， 并不能支持一次查询多台数据库服务器，并没有满足数据库读写操作的分布式需求。</p>
<p>MongoDB 提供水平可伸缩性功能的是分片（Shard）。分片与在 HDFS 分布式文件系统中上传文件会将文件切成 128MB（Hadoop2.x 默认配置）相似，通过将数据切成数片（Sharding）写入不同的分片节点，完成分布式写的操作。同时，MongoDB 在读取时提供了分布式读的操作，这个功能与 HDFS 的分布式读写十分类似。</p>
<h3 id="3、安装和部署容易"><a href="#3、安装和部署容易" class="headerlink" title="3、安装和部署容易"></a>3、安装和部署容易</h3><p>MongoDB 的安装十分友好，部署容易，支持多种安装方式，对第三方组件的依赖很低，用户可以使用它较容易地搭建起一个完整的生产集群。MongoDB 的单机部署十分简单，针对分片副本集安装也有第三方工具提供辅助。</p>
<h3 id="4、便于开发"><a href="#4、便于开发" class="headerlink" title="4、便于开发"></a>4、便于开发</h3><p>MongoDB 对开发者十分友好，便于使用。支持丰富的查询语言、数据聚合、文本搜索和地理空间查询，用户可以创建丰富的索引来提升查询速度，MongoDB 被称为最像关系数据库的非关系数据库。读者可以通过对比 MongoDB 与关系数据库的操作，掌握 MongoDB 的操作特点。</p>
<p>MongoDB 允许用户在服务端执行脚本，可以用 <a target="_blank" rel="noopener" href="http://c.biancheng.net/java/">Java</a>script 编写某个函数，直接在服务端执行，也可以把函数的定义存储在服务端，使用时直接调用即可。MongoDB 支持各种编程语言，包括 Ruby、<a target="_blank" rel="noopener" href="http://c.biancheng.net/python/">Python</a>、Java、C++、<a target="_blank" rel="noopener" href="http://c.biancheng.net/php/">PHP</a>、<a target="_blank" rel="noopener" href="http://c.biancheng.net/csharp/">C#</a> 等。</p>
<h3 id="5、NOSQL与SQL对比"><a href="#5、NOSQL与SQL对比" class="headerlink" title="5、NOSQL与SQL对比"></a>5、NOSQL与SQL对比</h3><p>MongoDB 是一个介于关系数据库和非关系数据库之间的产品，是非关系数据库当中功能最丰富，最像关系数据库的。它是可扩展的高性能数据存储解决方案，经常被用于非关系型数据的存储，能存储海量的数据。常见的非关系型数据库还有：Redis，但 MongoDB 比 redis 更具有数据库的特性。</p>
<ul>
<li><p>关系型数据库有（SQL）：MySQL、Oracle、SQL Serve…..</p>
</li>
<li><p>非关系型数据库有（NOSQL）：Redis、MongoDB…</p>
</li>
</ul>
<p>传统的关系型数据库（如 MySQL）存储数据使用的是一种“行&#x2F;列模型”。而 MongoDB 是一种“文档数据库”，它将数据存储在类似 JSON 的文档中。以 JSON 文档的方式存储数据，其中的好处有很多。比如，支持使用数组和对象作为值、文档间可以嵌套、查询的本身就是一个 JSON 等。</p>
<h2 id="02、文档存储结构"><a href="#02、文档存储结构" class="headerlink" title="02、文档存储结构"></a>02、文档存储结构</h2><p>MongoDB 文档数据库的存储结构分为四个层次：从小到大依次是：键值对、文档（document）、集合（collection）、数据库（database）</p>
<p>下图描述了 MongoDB 的存储与 MySQL 存储的对应关系，可以看出，MongoDB中的文档、集合、数据库对应于关系数据库中的行数据、表、数据库。</p>
<table>
<thead>
<tr>
<th align="left">SQL术语&#x2F;概念</th>
<th align="left">MongoDB术语&#x2F;概念</th>
<th align="left">解释&#x2F;说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">database</td>
<td align="left">database</td>
<td align="left">数据库</td>
</tr>
<tr>
<td align="left">table</td>
<td align="left">collection</td>
<td align="left">表&#x2F;集合</td>
</tr>
<tr>
<td align="left">row（一条记录）</td>
<td align="left">document</td>
<td align="left">行&#x2F;文档</td>
</tr>
<tr>
<td align="left">column</td>
<td align="left">field</td>
<td align="left">列&#x2F;字段&#x2F;域或者属性</td>
</tr>
<tr>
<td align="left">index</td>
<td align="left">index</td>
<td align="left">索引</td>
</tr>
<tr>
<td align="left">table joins</td>
<td align="left">不支持</td>
<td align="left">表连接，MongoDB不支持</td>
</tr>
<tr>
<td align="left">primary key</td>
<td align="left">primary key</td>
<td align="left">主键，MongoDB自动将_id字段设置为主键</td>
</tr>
</tbody></table>
<h3 id="1、键值对"><a href="#1、键值对" class="headerlink" title="1、键值对"></a>1、键值对</h3><p>文档数据库存储结构的基本单位是键值对，具体包含数据和类型。键值对的数据包含键和值，键的格式一般为字符串，值的格式可以包含字符串、数值、数组、文档等类型。简单说就是：key&#x2F;value。</p>
<pre><code class="json">&quot;name&quot; : &quot;mongodb&quot;
</code></pre>
<h3 id="2、文档"><a href="#2、文档" class="headerlink" title="2、文档"></a>2、文档</h3><p>文档是 MongoDB 的核心概念，是数据的基本单元，与关系数据库中的行十分类似，但是比行要复杂。文档是一组有序的键值对集合。文档的数据结构与 JSON 基本相同，所有存储在集合中的数据都是 BSON 格式。BSON 是一种类 JSON 的二进制存储格式，是 Binary JSON 的简称。</p>
<pre><code class="json">&#123;&quot;country&quot; : &quot;China&quot;, &quot;city&quot;: &quot;BeiJing&quot;&#125;
</code></pre>
<pre><code class="json">&#123;
    _id: &quot;joe&quot;,
    name: &quot;Joe Bookreader&quot;,
    address: &#123;
        street: &quot;123 Fake Street&quot;,
        city: &quot;Faketon”，
        state: nMAnz
        zip: T2345”
    &#125;
&#125;
</code></pre>
<h3 id="3、集合"><a href="#3、集合" class="headerlink" title="3、集合"></a>3、集合</h3><p>MongoDB 将文档存储在集合中，一个集合是一些文档构成的对象。如果说 MongoDB 中的文档类似于关系型数据库中的“行”，那么集合就如同“表”。</p>
<p>集合存在于数据库中，没有固定的结构，这意味着用户对集合可以插入不同格式和类型的数据。但通常情况下插入集合的数据都会有一定的关联性，即一个集合中的文档应该具有相关性。</p>
<p><img src="https://gitee.com/liusuixing/blog_images/raw/master/20201212120354.png"></p>
<h3 id="4、数据库"><a href="#4、数据库" class="headerlink" title="4、数据库"></a>4、数据库</h3><p>在 MongoDB 中，数据库由集合组成。一个 MongoDB 实例可承载多个数据库，互相之间彼此独立，在开发过程中，通常将一个应用的所有数据存储到同一个数据库中，MongoDB 将不同数据库存放在不同文件中。</p>
<p><img src="https://gitee.com/liusuixing/blog_images/raw/master/20201212120355.png"></p>
<h2 id="03、基本数据类型"><a href="#03、基本数据类型" class="headerlink" title="03、基本数据类型"></a>03、基本数据类型</h2><p>BSON 支持的数据类型</p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>String</td>
<td>字符串。存储数据常用的数据类型。在 MongoDB 中，UTF-8 编码的字符串才是合法的。</td>
</tr>
<tr>
<td>Integer</td>
<td>整型数值。用于存储数值。根据你所采用的服务器，可分为 32 位或 64 位。</td>
</tr>
<tr>
<td>Boolean</td>
<td>布尔值。用于存储布尔值（真&#x2F;假）。</td>
</tr>
<tr>
<td>Double</td>
<td>双精度浮点值。用于存储浮点值。</td>
</tr>
<tr>
<td>Min&#x2F;Max keys</td>
<td>将一个值与 BSON（二进制的 JSON）元素的最低值和最高值相对比。</td>
</tr>
<tr>
<td>Array</td>
<td>用于将数组或列表或多个值存储为一个键。表示，{“x” : [“a”, “b”, “c”]}</td>
</tr>
<tr>
<td>Object</td>
<td>用于内嵌文档。</td>
</tr>
<tr>
<td>Null</td>
<td>用于创建空值。</td>
</tr>
<tr>
<td>Symbol</td>
<td>符号。该数据类型基本上等同于字符串类型，但不同的是，它一般用于采用特殊符号类型的语言。</td>
</tr>
<tr>
<td>Date</td>
<td>日期时间。用 UNIX 时间格式来存储当前日期或时间。你可以指定自己的日期时间：创建 Date 对象，传入年月日信息。</td>
</tr>
<tr>
<td>Timestamp</td>
<td>时间戳：var a &#x3D; new Timestamp()</td>
</tr>
<tr>
<td>Object ID</td>
<td>对象 ID。用于创建文档的 ID。(如果不指定的话，mongodb默认会给一个 _id)</td>
</tr>
<tr>
<td>Binary Data</td>
<td>二进制数据。用于存储二进制数据。</td>
</tr>
<tr>
<td>Code</td>
<td>代码类型。用于在文档中存储 JavaScript 代码。</td>
</tr>
<tr>
<td>Regular expression</td>
<td>正则表达式</td>
</tr>
</tbody></table>
<h1 id="MongoDB-下载与安装"><a href="#MongoDB-下载与安装" class="headerlink" title="MongoDB 下载与安装"></a>MongoDB 下载与安装</h1><h2 id="01、Win10-安装"><a href="#01、Win10-安装" class="headerlink" title="01、Win10 安装"></a>01、Win10 安装</h2><blockquote>
<p>官网下载地址：<a target="_blank" rel="noopener" href="https://www.mongodb.com/try/download/community">https://www.mongodb.com/try/download/community</a></p>
<p>历史版本下载：<a target="_blank" rel="noopener" href="http://www.mongodb.org/dl/win32">全部版本下载地址</a>、<a target="_blank" rel="noopener" href="http://www.mongodb.org/dl/win32/i386">32位下载地址</a>、<a target="_blank" rel="noopener" href="http://www.mongodb.org/dl/win32/x86_64">64位下载地址</a></p>
</blockquote>
<h3 id="1、下载指定版本"><a href="#1、下载指定版本" class="headerlink" title="1、下载指定版本"></a>1、下载指定版本</h3><p><img src="https://gitee.com/liusuixing/blog_images/raw/master/20201210220729.png"></p>
<ul>
<li>MongoDB Enterprise Server：企业版（收费版）、MongoDB Community Server：社区版（免费版）</li>
<li>下载完成后，获得安装包：<code>mongodb-windows-x86_64-4.4.2-signed.msi</code>，双击即可安装。</li>
</ul>
<h3 id="2、选择安装方式"><a href="#2、选择安装方式" class="headerlink" title="2、选择安装方式"></a>2、选择安装方式</h3><ul>
<li>如果已经安装过该版本的MongoDB，会是这个界面（如果没有安装过忽略此步骤）</li>
</ul>
<p><img src="https://gitee.com/liusuixing/blog_images/raw/master/20201211231045.png"></p>
<ul>
<li><p>选择Complete，表示安装到默认路径（不推荐，C盘懂的都懂）</p>
</li>
<li><p>选择Custom，表示自定义安装路径（推荐）</p>
</li>
</ul>
<p><img src="https://gitee.com/liusuixing/blog_images/raw/master/20201211231046.png"></p>
<h3 id="3、选择安装路径"><a href="#3、选择安装路径" class="headerlink" title="3、选择安装路径"></a>3、选择安装路径</h3><p><img src="https://gitee.com/liusuixing/blog_images/raw/master/20201211231456.png"></p>
<p><img src="https://gitee.com/liusuixing/blog_images/raw/master/20201211232513.png"></p>
<blockquote>
<p>注意：MongoDB 3.x 系列版本的数据库，在安装成功后，每次在使用前都需要手动启动MongoDB服务！</p>
<p>现在：MongoDB 4.x 系列版本的数据库，在安装时默认安装(选中了 Install MongoD as a Service)服务 ，就是在开机时自动启动 MongoDB 服务，然后就可以直接使用啦！</p>
</blockquote>
<p><img src="https://gitee.com/liusuixing/blog_images/raw/master/20201211233227.png"></p>
<p>然后就一直下一步、Next 直到 Flnish 安装完毕，到此就MongoDB就安装结束啦！</p>
<h3 id="4、检查是否安装成功"><a href="#4、检查是否安装成功" class="headerlink" title="4、检查是否安装成功"></a>4、检查是否安装成功</h3><ul>
<li>方式一：</li>
</ul>
<pre><code class="bash">1、运行 Win + R
2、输入 services.msc 命令便可以查看到 MongoDB Server (MongoDB) 服务啦！！
</code></pre>
<ul>
<li>方式二：</li>
</ul>
<pre><code class="bash">1、打开任意浏览器输入：http://127.0.0.1:27017/
2、返回如下信息代表安装成功：
It looks like you are trying to access MongoDB over HTTP on the native driver port.
</code></pre>
<ul>
<li>方式三：</li>
</ul>
<pre><code class="bash">C:\Users\lenovo&gt;mongod -version
db version v4.4.2
Build Info: &#123;
    &quot;version&quot;: &quot;4.4.2&quot;,
    &quot;gitVersion&quot;: &quot;15e73dc5738d2278b688f8929aee605fe4279b0e&quot;,
    &quot;modules&quot;: [],
    &quot;allocator&quot;: &quot;tcmalloc&quot;,
    &quot;environment&quot;: &#123;
        &quot;distmod&quot;: &quot;windows&quot;,
        &quot;distarch&quot;: &quot;x86_64&quot;,
        &quot;target_arch&quot;: &quot;x86_64&quot;
    &#125;
&#125;
</code></pre>
<blockquote>
<p><strong>到此位置：windows安装mongodb已经成功了。</strong></p>
<p><strong>备注</strong>：由于我们是用.msi方式安装的，所以可以省略掉MongoDB服务的安装，还有data目录和logs文件的创建。</p>
<p>如果是下载 ***.zip** 文件安装的话，请参考下面：mongod 命令启动服务端。</p>
</blockquote>
<h3 id="5、配置系统环境变量"><a href="#5、配置系统环境变量" class="headerlink" title="5、配置系统环境变量"></a>5、配置系统环境变量</h3><p>如果.msi安装的话默认已经配置好环境变量了</p>
<p><img src="https://gitee.com/liusuixing/blog_images/raw/master/20201212110639.png"></p>
<h3 id="6、目录与配置文件说明"><a href="#6、目录与配置文件说明" class="headerlink" title="6、目录与配置文件说明"></a>6、目录与配置文件说明</h3><p><img src="https://gitee.com/liusuixing/blog_images/raw/master/20201212120352.png"></p>
<p>安装成功后默认生成配置文件：bin&#x2F;mongod.cfg</p>
<pre><code class="yaml"># http://docs.mongodb.org/manual/reference/configuration-options/
# Where and how to store data.
storage:
  dbPath: D:\Environment\MongoDB\Server\4.4\data # 数据存储目录
  journal:
    enabled: true

# where to write logging data.
systemLog:
  destination: file
  logAppend: true # 日志采用追加模式
  path:  D:\Environment\MongoDB\Server\4.4\log\mongod.log # 日志文件地址

# network interfaces
net:
  port: 27017
  bindIp: 127.0.0.1 # 数据库端口号
  
# 开启数据库访问权限验证(注意：换行、缩进格式哦！！)默认是没有这个的
#security: 
#  authorization: enabled
</code></pre>
<h3 id="7、mongod-与-mongo-命令"><a href="#7、mongod-与-mongo-命令" class="headerlink" title="7、mongod 与 mongo 命令"></a>7、mongod 与 mongo 命令</h3><blockquote>
<p><strong>一定要以管理员身份启动CMD！一定要以管理员身份启动CMD！一定要以管理员身份启动CMD！</strong></p>
</blockquote>
<p>这两个命令的作用分别是：</p>
<ul>
<li>mongod 启动 MongoDB 服务器</li>
<li>mongo 在启动服务器后，帮助我们连接到 MongoDB 实例，也就是进入 Mongo shell（相当于让我们进入后台操作数据库）</li>
</ul>
<p>mongod 命令启动参数：</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-f、–config</td>
<td align="left">指定配置文件路径</td>
</tr>
<tr>
<td align="left">–bind_ip</td>
<td align="left">绑定服务IP，若绑定127.0.0.1，则只能本机访问，不指定默认本地所有IP（0.0.0.0）</td>
</tr>
<tr>
<td align="left">–dbpath</td>
<td align="left">指定数据库路径</td>
</tr>
<tr>
<td align="left">–logpath</td>
<td align="left">指定MongoDB日志文件，注意是指定文件不是目录</td>
</tr>
<tr>
<td align="left">–logappend</td>
<td align="left">使用追加的方式写日志</td>
</tr>
<tr>
<td align="left">–port</td>
<td align="left">指定服务端口号，默认端口27017</td>
</tr>
<tr>
<td align="left">–serviceName</td>
<td align="left">指定服务名称</td>
</tr>
<tr>
<td align="left">–serviceDisplayName</td>
<td align="left">指定服务名称，有多个mongodb服务时执行。</td>
</tr>
<tr>
<td align="left">–install</td>
<td align="left">指定作为一个Windows服务安装。</td>
</tr>
<tr>
<td align="left">–remove</td>
<td align="left">移除MongoDB服务（Windows上使用）</td>
</tr>
<tr>
<td align="left">–auth</td>
<td align="left">表示加载认证功能</td>
</tr>
</tbody></table>
<p>MongoDB Windows 服务安装：</p>
<pre><code class="bash">######################## MongoDB方式创建win服务：########################
# 安装 MongoDB 服务，指定配置文件安装（没有指定服务名的话默认服务名为：MongoDB）
mongod --config &quot;D:\Environment\MongoDB\Server\4.4\bin\mongod.cfg&quot; --install
# 命令行参数指定安装 MongoDB 服务
mongod --bind_ip 0.0.0.0 --dbpath &quot;D:\Environment\MongoDB\Server\4.4\data\db&quot; --logpath &quot;D:\Environment\MongoDB\Server\4.4\log\mongod.log&quot; --logappend --serviceName &quot;MongoDB&quot; --install

# 移除 MongoDB 服务，必须先关闭 MongoDB 服务
mongod --remove

# 启动和关闭 MongoDB 服务，该名称为--serviceName设置的名称
net start MongoDB
net stop MongoDB


######################## windows自带创建win服务方式：########################
# 创建 MongoDB 服务（中间几个引号很关键）
sc.exe create MongoDB binPath= &quot;\&quot;D:\Environment\MongoDB\bin\mongod.exe\&quot; --service --config= \&quot;E:\Environment\MongoDB\mongo.config&quot;&quot; DisplayName= &quot;MongoDB&quot; start= &quot;auto&quot;

# 删除 MongoDB 服务
sc delete MongoDB
</code></pre>
<p>mongo 命令：进入 MongoDB Shell界面（登录）</p>
<pre><code class="bash"># 1、直接进入
mongo

# 2、连接到config(任何)数据库
mongo 127.0.0.1:27017/config

# 3、不连接到任何数据库
mongo --nodb

# 4、启动之后，在需要时运行new Mongo(hostname)命令就可以连接到想要的mongod了：
&gt; conn=new Mongo(&#39;127.0.0.1:27017&#39;)
connection to 127.0.0.1:27017
&gt; db=conn.getDB(&#39;admin&#39;)
admin
# 4、help查看帮助


# mongo -u admin -p password # 连接本地数据库，使用了--auth启动，输入账号密码
# 连接运程MongoDB数据库：（必须指定 绑定IP 和 端口号）
# 格式：mongo 绑定IP:端口号/数据库名 -u 用户名 -p 密码
mongo 127.0.0.1:27017/test -u admin -p password
或者
mongo --host 127.0.0.1 --port 27017

# 也可以登录shell后输入用户名和密码登录
db.auth(&quot;admin&quot;, &quot;password&quot;)
</code></pre>
<h2 id="02、Linux-安装"><a href="#02、Linux-安装" class="headerlink" title="02、Linux 安装"></a>02、Linux 安装</h2><blockquote>
<p>MongoDB官网下载地址：<a target="_blank" rel="noopener" href="https://www.mongodb.com/try/download/community">https://www.mongodb.com/try/download/community</a></p>
</blockquote>
<h3 id="1、MongoDB-安装步骤"><a href="#1、MongoDB-安装步骤" class="headerlink" title="1、MongoDB 安装步骤"></a>1、MongoDB 安装步骤</h3><pre><code class="bash"># 1.切换opt目录
$ cd /opt/

# 2.wget下载安装包
$ wget -P /opt/ https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-amazon-4.4.2.tgz

# 3.解压
$ tar -xzvf /opt/mongodb-linux-x86_64-amazon-4.4.2.tgz

# 4.移动目录并且重命名
$ mv /opt/mongodb-linux-x86_64-amazon-4.4.2 /usr/local/mongodb

# 5.新建data和logs目录
$ mkdir -p /usr/local/mongodb/&#123;data,logs&#125;

# 6.授权目录
$ chmod 777 /usr/local/mongodb/&#123;data,logs&#125;

# 7.profile配置文件中增加环境变量，然后刷新配置
$ echo &quot;export PATH=\$PATH:/usr/local/mongodb/bin&quot; &gt;&gt; /etc/profile &amp;&amp; source /etc/profile
</code></pre>
<h3 id="2、启动-MongoDB"><a href="#2、启动-MongoDB" class="headerlink" title="2、启动 MongoDB"></a>2、启动 MongoDB</h3><p>MongoDB 的启动方式分为两种：前置启动、后置启动</p>
<p>无论哪种启动方式都需要执行 bin 目录中的 mongod 命令。MongoDB 在启动时默认的查找数据库的路径为&#x2F;data&#x2F;db。如果我们数据库路径有变化，需要在该命令中通过–dbpath 参<strong>数来指定 db 目录的路径(该路径可以是绝对路径，也可是相对路径)</strong></p>
<p>2.1、前置启动（配置参数）</p>
<pre><code class="bash"># data 目录需要提前创建
mongod --dbpath /usr/local/mongodb/data
</code></pre>
<p>2.2、后置启动（配置参数）</p>
<p>所谓后置启动就是以守护进程的方式启动 MongoDB。</p>
<p>我们需要在执行 mongod 命令中添加 –fork 参数。需要注意的是，–fork 参数需要配合着–logpath 或者是–syslog 参数使用。–logpath 与–syslog 参数是指定 MongoDB 的日志文件。MongoDB 的日志文件可以在系统中*的任意位置，本文章中我们在 mongodb 目录下创建 log 目录，在该目录中创建一个名为mongodb.log 的日志文件。</p>
<pre><code class="bash"># data和logs目录需要提交创建，mongodb.log文件可不创建。--fork后台启动
mongod --dbpath /usr/local/mongodb/data --logpath /usr/local/mongodb/logs/mongodb.log --fork
</code></pre>
<p>2.3、配置文件方式启动</p>
<p>如果觉得在启动 MongoDB 时给定的参数项太多，那么我们也可以通过配置文件来配置启动参数，配置文件可以在任意目录中，配置文件的扩展名应为.conf，配置文件中使用key&#x3D;value 结构。在执行 MongoDB 时通过–config 参数来指定需要加载的配置文件。我们在 &#x2F;bin 目录中创建一个名为 mongodb.conf 配置文件</p>
<pre><code class="bash"># 1.创建配置文件 mongodb.conf 
$ sudo tee /usr/local/mongodb/bin/mongodb.conf &lt;&lt;-&#39;EOF&#39;
dbpath=/usr/local/mongodb/data
logpath=/usr/local/mongodb/logs/mongodb.log
port=27017
fork=true
bind_ip=0.0.0.0
#auth=true
EOF

# 1.或vim 编辑
$ vim /usr/local/mongodb/bin/mongodb.conf
# 增加如下配置
dbpath=/usr/local/mongodb/data                 # 指定 db 路径
logpath=/usr/local/mongodb/logs/mongodb.log    # 指定日志文件
logappend=true                                 # 使用追加的方式写日志
port=27017                                     # 配置端口
fork=true                                      # 配置后端启动
bind_ip=0.0.0.0                                # 设置所有ip都可以访问
journal=true      # 每次写入会记录一条操作日志（通过journal可以重新构造出写入的数据）。
directoryperdb=true
quiet=true
bind_ip_all=true
auth=true   # 启动验证
#noauth=true # 不启用验证

# 2.通过加载配置文件启动MongoDB。-f --config.效果一样
$ mongod -f /usr/local/mongodb/bin/mongodb.conf
$ mongod --config /usr/local/mongodb/bin/mongodb.conf
</code></pre>
<h3 id="3、关闭-MongoDB"><a href="#3、关闭-MongoDB" class="headerlink" title="3、关闭 MongoDB"></a>3、关闭 MongoDB</h3><ul>
<li><p>Ctrl + C 关闭（安全关闭）：前置启动的话可以直接使用快捷键 Ctrl + C 就可以关闭 MongoDB</p>
</li>
<li><p>kill 命令关闭（非安全关闭）：kill -9 PID、kill -2 PID、kill -4 PID</p>
</li>
<li><p>MongoDB 函数关闭（安全关闭，要在admin库执行）：db.shutdownServer()、db.runCommand(“shutdown”)</p>
</li>
<li><p>mongod 命令关闭（安全关闭）：.&#x2F;mongod –shutdown –dbpath&lt;数据库路径&gt;</p>
</li>
</ul>
<p>示例：</p>
<pre><code class="bash">## 方式一
&gt; use admin
switched to db admin
&gt; db.shutdownServer()
server should be down...
&gt; 

## 方式二
$ mongod --shutdown --dbpath /usr/local/mongodb/data/db
</code></pre>
<h2 id="03、Docker-安装"><a href="#03、Docker-安装" class="headerlink" title="03、Docker 安装"></a>03、Docker 安装</h2><h3 id="1、docker-安装"><a href="#1、docker-安装" class="headerlink" title="1、docker 安装"></a>1、docker 安装</h3><pre><code class="bash"># 1.下载MongoDB Docker镜像
$ docker pull mongo:4.4.2
$ docker pull mongo:latest

# 2.启动MongoDB服务
$ docker run -itd -p 27017:27017 --name mongodb mongo:4.4.2
$ docker run -itd -p 27017:27017 --name mongodb -v /mydata/mongo/db:/data/db mongo:4.4.2

# 3.启动MongoDB服务并设置账号
$ docker run -itd -p 27017:27017 --name mongodb mongo:4.4.2 --auth
$ docker run -itd -p 27017:27017 --name mongodb -v /mydata/mongo/db:/data/db mongo:4.4.2 --auth

# 4.进入容器中的MongoDB客户端
$ docker exec -it mongodb mongo

# 5.在admin数据库中创建超级管理员账号
&gt; use admin
&gt; db.createUser(&#123;
    user: &#39;admin&#39;,
    pwd: &#39;password&#39;,
    roles: [&#123; role: &quot;userAdminAnyDatabase&quot;, db: &quot;admin&quot; &#125;] 
&#125;);
&gt; 
# 6.创建完成后验证是否可以登录
&gt; db.auth(&quot;admin&quot;,&quot;password&quot;)
</code></pre>
<h3 id="2、docker-compose-安装"><a href="#2、docker-compose-安装" class="headerlink" title="2、docker-compose 安装"></a>2、docker-compose 安装</h3><blockquote>
<p><strong>参考：</strong><a target="_blank" rel="noopener" href="http://www.apgblogs.com/docker-mongodb/#4mongoDb">http://www.apgblogs.com/docker-mongodb/#4mongoDb</a></p>
</blockquote>
<ul>
<li><strong>docker-compose.yml</strong></li>
</ul>
<pre><code class="yaml">version: &#39;3&#39;
    services:
    mongodb:
      image: mongo:4.4.2        # 镜像:版本
      container_name: mongo_db  # 容器名
      environment:
        - MONGO_INITDB_ROOT_USERNAME=admin     # root管理员账户
        - MONGO_INITDB_ROOT_PASSWORD=password  # root管理员密码
        - MONGO_INITDB_DATABASE=admin          # 默认的数据库
      volumes:
        - ./mongo/init-mongo.js:/docker-entrypoint-initdb.d/init-mongo.js:ro
        - ./mongo/mongo-volume:/data/db
      ports:
        - &quot;27017-27019:27017-27019&quot;
      restart: always
</code></pre>
<ul>
<li><strong>init-mongo.js</strong></li>
</ul>
<pre><code class="javascript">// db.getSiblingDB(&quot;admin&quot;) 相当于 use admin;
db.getSiblingDB(&#39;admin&#39;).createUser(&#123;
        user: &#39;user&#39;,
        pwd: &#39;user&#39;,
        roles: [&#39;readWrite&#39;]
&#125;);
</code></pre>
<ul>
<li>执行启动命令即可</li>
</ul>
<pre><code class="bash">docker-compose up -d
</code></pre>
<h1 id="账户及权限管理"><a href="#账户及权限管理" class="headerlink" title="账户及权限管理"></a>账户及权限管理</h1><blockquote>
<p>注意：安装好MongoDB数据库后，默认是<strong>【非授权模式】</strong>（也就是不需要任何权限验证、不需要验证账户，直接输入 mongo 命令就可以进行相关操作）</p>
<p>所以：为了数据的安全，我们都应该去配置数据库的访问权限 和 修改默认（mongodb:&#x2F;&#x2F;127.0.0.1:27017）连接绑定IP 和 端口号！</p>
<hr>
<p>MongoDB是基于角色的访问控制，所以创建用户需要指定用户的角色，在创建用户之前需要满足：</p>
<ol>
<li>先在admin数据库中创建角色为 <strong>userAdmin</strong> 或 <strong>userAdminAnyDatabase</strong> 的用户作为管理用户的用户</li>
<li>启用访问控制，进行登录用户验证，这样创建用户才有意义</li>
</ol>
</blockquote>
<h2 id="00、用户角色介绍"><a href="#00、用户角色介绍" class="headerlink" title="00、用户角色介绍"></a>00、用户角色介绍</h2><p><strong>数据库角色分类（Built-In Roles—内置角色）：</strong></p>
<ul>
<li>数据库用户角色：read、readWrite</li>
<li>数据库管理角色：dbAdmin、dbOwner、userAdmin</li>
<li>集群管理角色：clusterAdmin、clusterManager、clusterMonitor、hostManager</li>
<li>备份恢复角色：backup、restore</li>
<li>所有数据库角色：readAnyDatabase、readWriteAnyDatabase、userAdminAnyDatabase、dbAdminAnyDatabase</li>
<li>超级用户角色：root</li>
<li>内部角色：__system</li>
<li>这几个角色直接或间接提供系统超级用户的访问权限：dbOwner 、userAdmin、userAdminAnyDatabase</li>
</ul>
<p><strong>各角色说明：</strong></p>
<ul>
<li><p>read：允许用户读取指定数据库</p>
</li>
<li><p>readWrite：允许用户读写指定数据库</p>
</li>
<li><p>dbAdmin：允许用户在指定数据库中执行管理函数，如索引创建、删除，查看统计或访问 system.profile</p>
</li>
<li><p>userAdmin：允许用户向 system.users 集合写入，可以找指定数据库里创建、删除和管理用户</p>
</li>
<li><p>clusterAdmin：只在 admin 数据库中可用，赋予用户所有分片和复制集相关函数的管理权限</p>
</li>
<li><p>readAnyDatabase：只在 admin 数据库中可用，赋予用户所有数据库的读权限</p>
</li>
<li><p>readWriteAnyDatabase：只在 admin 数据库中可用，赋予用户所有数据库的读写权限</p>
</li>
<li><p>userAdminAnyDatabase：只在 admin 数据库中可用，赋予用户所有数据库的 userAdmin 权限</p>
</li>
<li><p>dbAdminAnyDatabase：只在 admin 数据库中可用，赋予用户所有数据库的 dbAdmin 权限</p>
</li>
<li><p>root：只在 admin 数据库中可用。超级账号，超级权限</p>
</li>
<li><p><strong>MongoDB数据库中的内置角色：</strong></p>
</li>
</ul>
<pre><code>(1)、【数据库用户角色】针对每一个数据库进行控制。
read：提供了读取所有非系统集合，以及系统集合中的system.indexes, system.js, system.namespaces
readWrite：包含了所有read权限，以及修改所有非系统集合的和系统集合中的system.js的权限.
 
 
(2)、【数据库管理角色】每一个数据库包含了下面的数据库管理角色。
dbOwner：该数据库的所有者，具有该数据库的全部权限。
dbAdmin：一些数据库对象的管理操作，但是没有数据库的读写权限。（参考：http://docs.mongodb.org/manual/reference/built-in-roles/#dbAdmin）
userAdmin：为当前用户创建、修改用户和角色。拥有userAdmin权限的用户可以将该数据库的任意权限赋予任意的用户。
 
 
(3)、【集群管理权限】admin数据库包含了下面的角色，用户管理整个系统，而非单个数据库。这些权限包含了复制集和共享集群的管理函数。
clusterAdmin：提供了最大的集群管理功能。相当于clusterManager, clusterMonitor, and hostManager和dropDatabase的权限组合。
clusterManager：提供了集群和复制集管理和监控操作。拥有该权限的用户可以操作config和local数据库（即分片和复制功能）
clusterMonitor：仅仅监控集群和复制集。
hostManager：提供了监控和管理服务器的权限，包括shutdown节点，logrotate, repairDatabase等。
备份恢复权限：admin数据库中包含了备份恢复数据的角色。包括backup、restore等等。
 
 
(4)、【所有数据库角色】
admin：数据库提供了一个mongod实例中所有数据库的权限角色：
readAnyDatabase：具有read每一个数据库权限。但是不包括应用到集群中的数据库。
readWriteAnyDatabase：具有readWrite每一个数据库权限。但是不包括应用到集群中的数据库。
userAdminAnyDatabase：具有userAdmin每一个数据库权限，但是不包括应用到集群中的数据库。
dbAdminAnyDatabase：提供了dbAdmin每一个数据库权限，但是不包括应用到集群中的数据库。
 
 
(5)、【超级管理员权限】
root: dbadmin到admin数据库、useradmin到admin数据库以及UserAdminAnyDatabase。但它不具有备份恢复、直接操作system.*集合的权限，但是拥有root权限的超级用户可以自己给自己赋予这些权限。
 
 
(6)、【备份恢复角色】
backup：数据库备份
restore：数据库恢复

 
(7)、【内部角色】
__system
</code></pre>
<h2 id="01、创建管理员用户"><a href="#01、创建管理员用户" class="headerlink" title="01、创建管理员用户"></a>01、创建管理员用户</h2><p>启用访问控制登录之前，首先需要在admin数据库中创建角色为 <strong>userAdmin</strong> 或 <strong>userAdminAnyDatabase</strong> 作为用户管理的用户，之后才能通过这个用户创建其它角色的用户，这个用户作为其它所有用户的管理者。</p>
<pre><code class="cmd">&gt; # 1.切换admin数据库
&gt; use admin

&gt; # 2.添加管理员用户：user/pwd 分别代表用户名和密码，role 代表角色，db 代表要设置的数据库。
&gt; db.createUser(&#123;user:&quot;admin&quot;, pwd:&quot;password&quot;, roles:[&#123;role: &quot;userAdminAnyDatabase&quot;, db: &quot;admin&quot; &#125;]&#125;)
&gt; db.createUser(&#123;
        user: &quot;admin&quot;,
        pwd: &quot;password&quot;,
        roles: [&#123; role: &quot;userAdminAnyDatabase&quot;, db: &quot;admin&quot; &#125;]
    &#125;
)

Successfully added user: &#123;
    &quot;user&quot; : &quot;admin&quot;,
    &quot;roles&quot; : [
        &#123;
            &quot;role&quot; : &quot;userAdminAnyDatabase&quot;,
            &quot;db&quot; : &quot;admin&quot;
        &#125;
    ]
&#125;
</code></pre>
<h2 id="02、开启授权访问控制"><a href="#02、开启授权访问控制" class="headerlink" title="02、开启授权访问控制"></a>02、开启授权访问控制</h2><p>要开启访问控制，则需要在mongod进程启动时加上选项<code>--auth</code>或在启动配置文件加入选项<code>auth=true</code>，并重启mongodb实例。</p>
<blockquote>
<p>Windows 环境下</p>
</blockquote>
<p><strong>方式一：配置文件方式启动</strong></p>
<p>MongoDB数据库的相关配置信息，是存储在mongodb安装目录bin目录中的<strong>mongod.cfg文件</strong>中，</p>
<ul>
<li>找到<code>mongod.cfg</code>文件，然后增加如下配置：</li>
</ul>
<pre><code class="yaml"># 开启数据库访问权限验证(注意：换行、缩进格式哦！！)
security: 
  authorization: enabled
</code></pre>
<ul>
<li>然后重新启动MongoDB服务.</li>
</ul>
<p><strong>方式二：启动时添加授权参数（以管理员身份启动CMD）</strong></p>
<pre><code class="bash"># 先关闭MongoDB服务，然后移除，最后重新安装MongoDB服务，带上--auth参数
net stop MongoDB
mongod --remove
mongod --config &quot;D:\Environment\MongoDB\Server\4.4\bin\mongod.cfg&quot; --install --auth
net start MongoDB
</code></pre>
<blockquote>
<p>Linux 环境下</p>
</blockquote>
<p><strong>方式一：配置文件方式启动</strong></p>
<pre><code class="bash"># 1.mongod配置文件追加如下配置：
$ echo &quot;auth=true&quot; &gt;&gt; /usr/local/mongodb/bin/mongodb.conf

# 2.启动mongodb实例
$ mongod --conf mongodb.cnf

# 3.使用mongo shell登录mongodb实例：
$ mongo 127.0.0.1:27017
MongoDB shell version v4.4.2
connecting to: mongodb://192.168.58.2:27017/test?gssapiServiceName=mongodb
Implicit session: session &#123; &quot;id&quot; : UUID(&quot;428c215c-2927-49ee-8507-573efc4a1185&quot;) &#125;
MongoDB server version: 4.0.9
&gt;

# 如果没有开启访问控制，则在登录时会提示如下警告信息
** WARNING: Access control is not enabled for the database.
**          Read and write access to data and configuration is unrestricted.
</code></pre>
<p><strong>方式二：启动时添加授权参数</strong></p>
<pre><code class="bash"># 前台启动
mongod --dbpath /usr/local/mongodb/data --auth
# 后台启动
mongod --dbpath /usr/local/mongodb/data --logpath /usr/local/mongodb/logs/mongodb.log --fork --auth
</code></pre>
<h2 id="03、用户认证登陆"><a href="#03、用户认证登陆" class="headerlink" title="03、用户认证登陆"></a>03、用户认证登陆</h2><blockquote>
<p>注：重新启动mongodb服务后，用一个新的命令窗口来做操作，在配置账户权限后，直接在命令窗口中用 mongo 命令，运行相关的操作是没有响应的，只有在正确的输入账户和密码后才进行相关操作！！</p>
</blockquote>
<p>可以在使用mongo shell登录时添加选项<code>--authenticationDatabase</code>或登录完后在admin数据库下进行验证。</p>
<ul>
<li>在mongo shell登录时同时进行验证：</li>
</ul>
<pre><code class="bash">$ mongo 127.0.0.1:27017 -uuser_admin -p --authenticationDatabase admin
MongoDB shell version v4.0.9
Enter password:  # 输入密码admin

connecting to: mongodb://192.168.58.2:27017/test?authSource=admin&amp;gssapiServiceName=mongodb
Implicit session: session &#123; &quot;id&quot; : UUID(&quot;94663b8d-7d88-4c97-ad1c-c3c24262ad39&quot;) &#125;
MongoDB server version: 4.0.9
&gt; 
</code></pre>
<ul>
<li>mongo shell 登录完成之后进行验证：</li>
</ul>
<pre><code class="bash">$ mongo 127.0.0.1:27017
MongoDB shell version v4.0.9
connecting to: mongodb://192.168.58.2:27017/test?gssapiServiceName=mongodb
Implicit session: session &#123; &quot;id&quot; : UUID(&quot;531e75df-3a5d-4f35-9e18-d7a6e090df63&quot;) &#125;
MongoDB server version: 4.0.9

&gt; use admin
switched to db admin

&gt; # 登录认证，返回1，代表登录成功
&gt; db.auth(&#39;user_admin&#39;,&#39;admin&#39;)
1
</code></pre>
<ul>
<li>连接本地MongoDB数据库（不指定IP 和端口号）：<code>mongo -u admin -p password</code></li>
<li>连接远程MongoDB数据库（指定IP 和 端口号）：<ul>
<li>不指定数据库名（没有输入账号登录）：<code>mongo --host 127.0.0.1 --port 27017</code></li>
<li>不指定数据库名（输入账号登录）：<code>mongo --host 127.0.0.1 --port 27017 -u admin -p password</code></li>
<li>指定登录数据库（输入账号登录）：<code>mongo 127.0.0.1:27017/admin -u admin -p password</code></li>
</ul>
</li>
</ul>
<h2 id="04、创建普通用户"><a href="#04、创建普通用户" class="headerlink" title="04、创建普通用户"></a>04、创建普通用户</h2><blockquote>
<p>注：各个不同的数据库之间，可以创建有一个 或 多个账户，各数据库之间账户、密码都是独立的，不能互相访问！</p>
</blockquote>
<ul>
<li>使用admin用户在admin数据库中创建基于角色dbOwner的用户test</li>
</ul>
<pre><code class="bash"># 方式一：
# customData 内可以设置任何描述该用户的信息
&gt; use admin
&gt; db.createUser(&#123;
        user: &quot;test&quot;,
        pwd: &quot;password&quot;,
        roles: [&#123;role: &quot;dbOwner&quot;, db: &quot;test&quot;&#125;],
        customData: &#123;info: &quot;user for dbOwner&quot;&#125;
    &#125;
)

# 方式二：
&gt; db.getSiblingDB(&quot;admin&quot;).runCommand(&#123;
        createUser: &quot;test&quot;,
        pwd: &quot;password&quot;,
        roles: [&#123;role: &quot;dbOwner&quot;, db: &quot;test&quot;&#125;],
        customData: &#123; info: &quot;user for dbOwner&quot;&#125;
    &#125;
)
&#123; &quot;ok&quot; : 1 &#125;
</code></pre>
<ul>
<li>登录test数据库给创建test用户，并且赋予该用户权限</li>
</ul>
<pre><code class="bash">&gt; use test
&gt; db.createUser(&#123;
    user: &quot;test_admin&quot;,
    pwd: &quot;password&quot;,
    roles: [
        &#123;role: &quot;read&quot;, db: &quot;test&quot;&#125;,
        &#123;role: &quot;readWrite&quot;, db: &quot;test&quot;&#125;]
&#125;)
</code></pre>
<h2 id="05、查看用户信息"><a href="#05、查看用户信息" class="headerlink" title="05、查看用户信息"></a>05、查看用户信息</h2><p>1、查询当前数据库的指定用户：db.getUser(‘用户名’, args)</p>
<p>2、查看当前数据库的所有用户：db.getUsers()、show users</p>
<p>参数说明：</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>showCredentials</code></td>
<td>boolean</td>
<td>可选的。将字段设置为 true 以显示用户的密码哈希。默认情况下，此字段为<code>false</code>。</td>
</tr>
<tr>
<td><code>showPrivileges</code></td>
<td>boolean</td>
<td>可选的。将字段设置为 true 以显示用户的完整特权集，包括继承角色的扩展信息。默认情况下，此字段为<code>false</code>。如果查看所有用户，则不能指定此字段。</td>
</tr>
<tr>
<td><code>showAuthenticationRestrictions</code></td>
<td>boolean</td>
<td>可选的。将字段设置为 true 以显示用户的身份验证限制。默认情况下，此字段为<code>false</code>。如果查看所有用户，则不能指定此字段。</td>
</tr>
</tbody></table>
<ul>
<li>查询指定用户</li>
</ul>
<pre><code class="bash"># 方式一：
&gt; use admin
&gt; db.getUser(&quot;admin&quot;, &#123; showPrivileges: true &#125;)

# 方式二：
&gt; db.getSiblingDB(&quot;admin&quot;).runCommand(&#123;
        usersInfo: &quot;admin&quot;,
        showPrivileges: true
    &#125;
)
</code></pre>
<ul>
<li>查询所有用户：</li>
</ul>
<pre><code class="bash">&gt; show users
&#123;
        &quot;_id&quot; : &quot;admin.admin&quot;,
        &quot;userId&quot; : UUID(&quot;f4000321-33d7-43bd-b791-a42294c4a004&quot;),
        &quot;user&quot; : &quot;admin&quot;,
        &quot;db&quot; : &quot;admin&quot;,
        &quot;roles&quot; : [
                &#123;
                        &quot;role&quot; : &quot;root&quot;,
                        &quot;db&quot; : &quot;admin&quot;
                &#125;
        ],
        &quot;mechanisms&quot; : [
                &quot;SCRAM-SHA-1&quot;,
                &quot;SCRAM-SHA-256&quot;
        ]
&#125;
&#123;
        &quot;_id&quot; : &quot;admin.test&quot;,
        &quot;userId&quot; : UUID(&quot;c6788e01-a812-4bb8-8d57-0553731e27c4&quot;),
        &quot;user&quot; : &quot;test&quot;,
        &quot;db&quot; : &quot;admin&quot;,
        &quot;roles&quot; : [
                &#123;
                        &quot;role&quot; : &quot;dbOwner&quot;,
                        &quot;db&quot; : &quot;test&quot;
                &#125;
        ],
        &quot;mechanisms&quot; : [
                &quot;SCRAM-SHA-1&quot;,
                &quot;SCRAM-SHA-256&quot;
        ]
&#125;
</code></pre>
<h2 id="06、更新用户信息"><a href="#06、更新用户信息" class="headerlink" title="06、更新用户信息"></a>06、更新用户信息</h2><blockquote>
<p>updateuser()它是完全替换之前的值：</p>
<p>如果要新增或添加roles而不是代替它 则使用方法： db.grantRolesToUser() 和 db.revokeRolesFromUser(）</p>
<p>如果只是更新密码也可以只用此方式：db.changeUserPassword()</p>
</blockquote>
<p>更新用户 test 具有 admin 数据库 readWrite 角色为read角色。</p>
<pre><code class="bash">&gt; use admin
&gt; db.updateUser(&quot;test&quot;,&#123;
        customData: &#123; info: &quot;user for test&quot; &#125;,
        roles: [&#123;role: &quot;read&quot;, db: &quot;test&quot; &#125;]
&#125;)

&gt; use admin
&gt; db.runCommand(&#123;
        updateUser: &quot;test&quot;,
        roles: [&#123; role: &quot;read&quot;, db: &quot;test&quot; &#125;],
        customData: &#123; info: &quot;user for test&quot; &#125;
&#125;)
</code></pre>
<h2 id="07、更新用户角色"><a href="#07、更新用户角色" class="headerlink" title="07、更新用户角色"></a>07、更新用户角色</h2><p>1、<code>db.grantRolesToUser()</code>：为用户增加角色</p>
<p>2、<code>db.revokeRolesFromUser()</code>：为用户回收角色</p>
<ul>
<li>为用户test添加admin数据库的readWrite角色。</li>
</ul>
<pre><code class="bash"># 方式一：
&gt; use admin
&gt; db.grantRolesToUser(&quot;test&quot;,
    [
        &#123;role: &quot;readWrite&quot;, db: &quot;admin&quot;&#125;,
        &#123;role: &quot;dbOwner&quot;, db: &quot;admin&quot;&#125;
    ]
)

# 方式二：
&gt; use admin
&gt; db.runCommand(&#123;
        grantRolesToUser: &quot;test&quot;,
        roles:
            [
                &#123;role: &quot;readWrite&quot;, db: &quot;admin&quot; &#125;,
                &#123;role: &quot;dbOwner&quot;, db: &quot;admin&quot; &#125;
            ]
    &#125;
)
</code></pre>
<ul>
<li>用户dbabd_user回收admin数据库的read角色。</li>
</ul>
<pre><code class="bash"># 方式一：
&gt; use admin
&gt; db.revokeRolesFromUser(&quot;test&quot;, [&#123; role: &quot;dbOwner&quot;, db: &quot;test&quot;&#125;])

# 方式二：
&gt; use admin
&gt; db.runCommand(&#123;
        revokeRolesFromUser: &quot;test&quot;,
        roles:[&#123; role: &quot;dbOwner&quot;, db: &quot;test&quot;&#125;]
&#125;)
</code></pre>
<h2 id="08、更改用户密码"><a href="#08、更改用户密码" class="headerlink" title="08、更改用户密码"></a>08、更改用户密码</h2><ul>
<li><p><code>db.updateUser(&#39;username&#39;,&#123;&#39;pwd&#39;:&#39;newpassword&#39;&#125;)</code>。必须有用户管理权限才能使用。这个方式不止可以更新密码。</p>
</li>
<li><p><code>db.changeUserPassword(&#39;username&#39;,&#39;newpassword&#39;)</code>。必须有用户管理全出现才能使用</p>
</li>
</ul>
<pre><code class="bash">use admin
db.changeUserPassword(&quot;addmin&quot;, &quot;admin123&quot;)
&gt;
use admin
db.updateUser(&#39;addmin&#39;,&#123;&#39;pwd&#39;:&#39;admin123&#39;&#125;)
</code></pre>
<h2 id="09、删除用户"><a href="#09、删除用户" class="headerlink" title="09、删除用户"></a>09、删除用户</h2><pre><code class="bash">use admin
db.dropUser(&quot;test&quot;)
&gt;
use admin
db.runCommand(&#123; dropUser: &quot;test&quot; &#125;)
</code></pre>
<h1 id="数据库操作-Database"><a href="#数据库操作-Database" class="headerlink" title="数据库操作-Database"></a>数据库操作-Database</h1><h2 id="01、数据库命名规则"><a href="#01、数据库命名规则" class="headerlink" title="01、数据库命名规则"></a>01、数据库命名规则</h2><p><strong>MongoDB</strong> 数据库的命名要符合 UTF-8 标准的字符串，同时要遵循下表所示的注意事项。</p>
<table>
<thead>
<tr>
<th>序号</th>
<th>注意事项</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>不能是空串</td>
</tr>
<tr>
<td>2</td>
<td>不得含有 &#x2F;、\、?、$、空格、空字符等，基本只能使用 ASCII 中的字母和数字</td>
</tr>
<tr>
<td>3</td>
<td>区分大小写，建议全部小写</td>
</tr>
<tr>
<td>4</td>
<td>名称最多为 64 字节</td>
</tr>
<tr>
<td>5</td>
<td>不得使用保留的数据库名，如：admin、local、config</td>
</tr>
</tbody></table>
<p><strong>注意</strong>：数据库最终会成为文件，数据库名就是文件的名称。</p>
<ul>
<li>由于数据库名称在 MongoDB 中不区分大小写，因此数据库名称不能仅仅区别于字符。</li>
<li>对于在 Windows 上运行的 MongoDB，数据库名称不能包含以下字符：&#x2F;、\、“、$、*、＜ ＞、：、|、? 。</li>
<li>对于在 UNIX 和 Linux 系统上运行的 MongoDB，数据库名称不能包含以下字符：&#x2F;、\、。、”、$。</li>
<li>虽然 UTF-8 可以提供很多国家的语言的命名格式，在 MongoDB 数据库命名时也可以使用汉字作为数据库名，但是最好尽量采用英文字母、数字、字符等为主的命名格式。</li>
</ul>
<p><strong>示例：</strong></p>
<ul>
<li><p>正确的命名格式：myDB、my_NewDB、myDB12</p>
</li>
<li><p>错误的命名格式：.myDB、&#x2F;123</p>
</li>
</ul>
<p><strong>保留数据库</strong>：MongoDB 系统保留的数据库如下：</p>
<table>
<thead>
<tr>
<th>库名</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>admin</td>
<td>权限数据库，添加用户到该数据库中，该用户会自动继承数据库的所有权限</td>
</tr>
<tr>
<td>local</td>
<td>数据库中的数据永远不会被复制</td>
</tr>
<tr>
<td>config</td>
<td>分片时，config 数据库在内部使用，保存分子信息</td>
</tr>
<tr>
<td>test</td>
<td>默认数据库，可以用来做各种测试等</td>
</tr>
</tbody></table>
<h2 id="02、创建切换数据库"><a href="#02、创建切换数据库" class="headerlink" title="02、创建切换数据库"></a>02、创建切换数据库</h2><p>创建、打开、切换 数据库命令：use dbname</p>
<pre><code class="cmd">use 
&gt; use mydb
switched to db mydb
</code></pre>
<p><strong>注意：</strong></p>
<ol>
<li>如果打开的这个数据库存在就是打开这个数据库。</li>
<li>如果打开的是一个不存在的数据库(没有这个数据库名字)，那么就会创建一个同名的数据库。</li>
<li>创建一个新的数据库时，需要向数据库中创建集合并且插入一条数据，这个数据库才能创建成功！否则show dbs查询不到此数据库</li>
</ol>
<p><strong>示例：</strong>往集合中插入一条数据。可以不用先创建集合，直接往里添加数据即可：</p>
<pre><code class="bash"># user 就是集合(表)名
db.user.insert(&#123;&quot;name&quot;: &quot;xiaoming&quot;&#125;)     
</code></pre>
<p>当命令执行后，数据库系统发现 user 是一个数据集合不存的，就自动创建一个集合，并随着数据的插入，数据库和集合也就真正的创建成功了。</p>
<blockquote>
<p>要在不切换当前数据库访问其他的数据库使用 db.getSiblingDB(“db_name”) .xxx方法。</p>
</blockquote>
<h2 id="03、查看数据库"><a href="#03、查看数据库" class="headerlink" title="03、查看数据库"></a>03、查看数据库</h2><ul>
<li><p>查看当前所在数据库（默认为test）：db</p>
</li>
<li><p>查看所有数据库：show dbs</p>
</li>
<li><p>查看当前数据库相关信息（名称、文档个数、视图、索引、大小等）：db.stats()</p>
</li>
</ul>
<p>示例：</p>
<pre><code class="cmd">&gt; db
test
</code></pre>
<pre><code class="cmd">&gt; show dbs               # 可以在任意当前数据库上执行该命令
admin   0.000GB          # 保留数据库，admin
config  0.000GB          # 保留数据库，config
local   0.000GB          # 保留数据库，local
</code></pre>
<p><strong>备注：</strong>为什么查询所有数据库时没有看到当前默认的test数据库呢？因为test数据库内没有数据，实际上不算真正意义上的存在</p>
<pre><code class="cmd">&gt; db.stats()                       # 统计数据信息
&#123;
        &quot;db&quot; : &quot;test&quot;,             # 数据库名
        &quot;collections&quot; : 0,         # 集合数量
        &quot;views&quot; : 0,
        &quot;objects&quot; : 0,             # 文档数量
        &quot;avgObjSize&quot; : 0,          # 平均每个文档的大小
        &quot;dataSize&quot; : 0,            # 数据占用空间大小，不包括索引，单位为字节
        &quot;storageSize&quot; : 0,         # 分配的存储空间
        &quot;totalSize&quot; : 0,           # 总共空间大小
        &quot;indexes&quot; : 0,             # 索引个数
        &quot;indexSize&quot; : 0,           # 索引占用空间大小
        &quot;scaleFactor&quot; : 1,
        &quot;fileSize&quot; : 0,            # 物理存储文件的大小
        &quot;fsUsedSize&quot; : 0,
        &quot;fsTotalSize&quot; : 0,
        &quot;ok&quot; : 1
&#125;
</code></pre>
<h2 id="04、删除数据库"><a href="#04、删除数据库" class="headerlink" title="04、删除数据库"></a>04、删除数据库</h2><p>删除当前所在的数据库：db.dropDatabase()</p>
<pre><code class="sql">&gt; db.dropDatabase()
&#123; &quot;ok&quot; : 1 &#125;
</code></pre>
<p><strong>注：删除后集合中的所以文档、以及相关的索引等都会被删除！！</strong></p>
<h2 id="05、查看帮助文档"><a href="#05、查看帮助文档" class="headerlink" title="05、查看帮助文档"></a>05、查看帮助文档</h2><p>数据库帮助命令</p>
<ul>
<li><p>导入工具所有操作方法：<code>mongoexport --help</code></p>
</li>
<li><p>导出工具所有操作方法：<code>mongoimport --help</code></p>
</li>
<li><p>备份工具所有操作方法：<code>mongodump --help</code></p>
</li>
<li><p>恢复工具所有操作方法：<code>mongorestore --help</code></p>
</li>
<li><p>列出MongoDB数据库所有的操作方法：<code>db.help()</code></p>
</li>
<li><p>列出MongoDB文档（表）所有的操作方法：<code>db.collection.help()</code></p>
</li>
</ul>
<h1 id="集合操作-Collection"><a href="#集合操作-Collection" class="headerlink" title="集合操作-Collection"></a>集合操作-Collection</h1><h2 id="01、集合命名规则"><a href="#01、集合命名规则" class="headerlink" title="01、集合命名规则"></a>01、集合命名规则</h2><p><strong>MongoDB</strong> 的集合就相当于 <strong>MySQL</strong> 的一个表 <strong>Table</strong>，集合是一组文档，是无模式的，集合名称要求符合 UTF-8 标准的字符串，同时要遵循下表所示的注意事项。</p>
<table>
<thead>
<tr>
<th>序号</th>
<th>注意事项</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>集合名不能是空串</td>
</tr>
<tr>
<td>2</td>
<td>不能含有空字符 \0</td>
</tr>
<tr>
<td>3</td>
<td>不能以“system.”开头，这是系统集合保留的前缀</td>
</tr>
<tr>
<td>4</td>
<td>集合名不能含保留字符“$”</td>
</tr>
</tbody></table>
<p>对于分别部署在 Windows、Linux、UNIX 系统上的 MongoDB，集合的命名方式与数据库命名方式一致。</p>
<h2 id="02、集合创建"><a href="#02、集合创建" class="headerlink" title="02、集合创建"></a>02、集合创建</h2><blockquote>
<p>MongoDB 集合的创建有显式和隐式（推荐）两种方法。</p>
</blockquote>
<p><strong>1、显示创建集合函数</strong>：db.createCollection(name,  options)</p>
<pre><code class="sql">语法格式：db.createCollection(name, options)

name:要创建的集合名称
options:可选参数，指定有关内存大小及索引的选项
</code></pre>
<ul>
<li>options 可以是如下参数：</li>
</ul>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>capped</td>
<td>Boolean</td>
<td>（可选）如果为 true，则启用封闭的集合。上限集合是固定大小的集合，它在达到其最大时自动覆盖其最旧的条目。如果指定 true，则还需要指定 size 参数</td>
</tr>
<tr>
<td>autoindexid</td>
<td>Boolean</td>
<td>（可选）如果为 true，自动在 _id 字段创建索引。默认为false。</td>
</tr>
<tr>
<td>size</td>
<td>数字</td>
<td>（可选）指定上限集合的最大大小（以字节为单位）如果 capped 为 true，那么还需要指定此字段的值</td>
</tr>
<tr>
<td>max</td>
<td>数字</td>
<td>（可选）指定上限集合中允许的最大文档数</td>
</tr>
</tbody></table>
<ul>
<li>创建无参数的集合：</li>
</ul>
<pre><code class="cmd">db.createCollection(&#39;day1&#39;)
</code></pre>
<ul>
<li>创建带参数的集合：</li>
</ul>
<pre><code class="cmd"># 创建名为 day2 的固定集合,集合空间大小为：2000000kb(大约1.9g)，文档最大个数为：1000
db.createCollection(&#39;day2&#39;,&#123; capped:true, autoIndexId:true, size:2000000, max:1000 &#125;)
</code></pre>
<ul>
<li>示例：</li>
</ul>
<pre><code class="cmd">&gt; db.createCollection(&#39;day1&#39;)
&#123; &quot;ok&quot; : 1 &#125;
&gt; 
&gt; db.createCollection(&#39;day2&#39;,&#123;capped:true,autoIndexId:true,size:2000000,max:1000&#125;)
&#123;
        &quot;note&quot; : &quot;The autoIndexId option is deprecated and will be removed in a future release&quot;,
        &quot;ok&quot; : 1
&#125;
&gt; show collections
day1
day2
</code></pre>
<p><strong>2、隐式创建集合（推荐）：</strong></p>
<p>当插入文档时，如果集合不存在，则 MongoDB会隐式地自动创建集合：</p>
<pre><code class="cmd">db.myDB.insert(&#123;&quot;name&quot;: &quot;tom&quot;&#125;)
</code></pre>
<h2 id="03、集合查询"><a href="#03、集合查询" class="headerlink" title="03、集合查询"></a>03、集合查询</h2><p>MySQL 列出的所有表都可以使用 show tables。MongoDB 列出所有集合可以使用如下三种方式：</p>
<ol>
<li>show tables</li>
<li>show collections</li>
<li>db.getCollectionNames()</li>
</ol>
<pre><code class="cmd">&gt; db
test
&gt;  
&gt; show tables
day1
day2
&gt;  
&gt; show collections
day1
day2
&gt;  
&gt; db.getCollectionNames()
[ &quot;day1&quot;, &quot;day2&quot; ]   
</code></pre>
<h2 id="04、集合删除"><a href="#04、集合删除" class="headerlink" title="04、集合删除"></a>04、集合删除</h2><p>集合删除（当前集合）：<code>db.collection.drop();</code></p>
<pre><code class="cmd">&gt; db.day1.drop()
true
</code></pre>
<h2 id="05、集合修改"><a href="#05、集合修改" class="headerlink" title="05、集合修改"></a>05、集合修改</h2><p>集合重新命名：<code>db.collection.renameCollection();</code></p>
<pre><code class="cmd">&gt; db.students.renameCollection(&quot;student&quot;)
&#123; &quot;ok&quot; : 1 &#125;
</code></pre>
<h1 id="文档操作-Document"><a href="#文档操作-Document" class="headerlink" title="文档操作-Document"></a>文档操作-Document</h1><h2 id="01、文档命名规则"><a href="#01、文档命名规则" class="headerlink" title="01、文档命名规则"></a>01、文档命名规则</h2><p>文档是 <strong>MongoDB</strong> 中存储的基本单元，是一组有序的键值对集合。文档中存储的文档键的格式必须是符合 UTF-8 标准的字符串，同时要遵循以下注意事项：</p>
<ul>
<li>不能包含<code>\0</code>字符（空字符），因为这个字符表示键的结束；</li>
<li>不能包含<code>$</code>和<code>.</code>，因为<code>.</code>和<code>$</code>是被保留的，只能在特定环境下使用；</li>
<li>键名区分大小写；</li>
<li>键的值区分类型（如字符串和整数等）；</li>
<li>键不能重复，在一条文档里起唯一的作用。</li>
</ul>
<blockquote>
<p><strong>注意：</strong>以上所有命名规范必须符合 UTF-8 标准的字符串，文档的键值对是有顺序的，相同的键值对如果有不同顺序，也是不同的文档。</p>
</blockquote>
<p><strong>示例：</strong></p>
<ul>
<li>例1：以下两组文档是不同的，因为值的类型不同。</li>
</ul>
<pre><code class="javascript">&#123; &quot;recommend&quot; : &quot;5&quot; &#125;
&#123; &quot;recommend&quot; : 5 &#125;
</code></pre>
<p>-<br>  例2：以下两组文档也是不同的，因为键名是区分大小写的。</p>
<pre><code class="javascript">&#123; &quot;Recommend&quot; : &quot; 5 &quot;&#125;
&#123; &quot;recommend&quot; : &quot;5&quot; &#125;
</code></pre>
<h2 id="02、数据插入"><a href="#02、数据插入" class="headerlink" title="02、数据插入"></a>02、数据插入</h2><blockquote>
<p><strong>注：插入数据时不需要专门去创建集合（表），因为插入数据时会自动创建集合！！！</strong></p>
<ul>
<li><p>save()：如果 _id 主键存在则更新数据，如果不存在就插入数据。该方法新版本中已废弃，已使用 <strong>insertOne()</strong> 或 <strong>replaceOne()</strong> 来代替。</p>
</li>
<li><p>insert()：若插入的数据主键已经存在，则会抛 <strong>org.springframework.dao.DuplicateKeyException</strong> 异常，提示主键重复，不保存当前数据.</p>
</li>
</ul>
</blockquote>
<ul>
<li>db.collection.insert()：在指定集合中插入一个或者多个文档</li>
<li>db.collection.insertOne()：在指定集合插入一个新文档</li>
<li>db.collection.insertMany()：在指定集合插入一个多个文档</li>
</ul>
<h3 id="1、insert-方法"><a href="#1、insert-方法" class="headerlink" title="1、insert() 方法"></a>1、insert() 方法</h3><blockquote>
<p><strong>db.collection.insert()</strong></p>
</blockquote>
<p>在平时的使用当中，**db.collection.insert()**是我用得最多的文档插入方式，具体的语法格式如下：</p>
<pre><code class="javascript">db.collection.insert(
   &lt;document or array of documents&gt;,
   &#123;
     writeConcern: &lt;document&gt;,
     ordered: &lt;boolean&gt;
   &#125;
)
</code></pre>
<p>参数说明：</p>
<ul>
<li><strong>document</strong>：指定写入的文档，可以一个或多个</li>
<li><strong>writeConcern</strong>：写入策略，默认为 1，即要求确认写操作，0 是不要求</li>
<li><strong>ordered</strong>：指定是否按顺序写入（可选），默认 true<ul>
<li>当指定为true时，插入多个文档时将文档排序保存在一个数组中进行插入，如果其中有一个文档插入失败，则会导致数组中余下的文档不进行插入操作；</li>
<li>当指定为false时，插入多个文档时将文档不进行排序保存在一个数组中进行插入，如果其中有一个文档插入失败，则不影响数组中余下的文档进行插入操作。</li>
</ul>
</li>
</ul>
<p>如果插入的文档当中没有指定<code>_id</code>字段，则MongoDB会自动为文档生成具有唯一<code>ObjectId</code>值的字段<code>_id</code>。</p>
<p>示例：</p>
<pre><code class="javascript">// insert 插入一条数据
db.student.insert(&#123;&quot;name&quot;: &quot;zhangsan&quot;, &quot;age&quot;: 28, addr: &quot;ShenZhen&quot;&#125;);

// insert 插入一条数据，并指定_id
db.student.insert(&#123;_id: 1, &quot;name&quot;: &quot;zhangsan&quot;, &quot;age&quot;: 28, addr: &quot;ShenZhen&quot;&#125;);

// insert 插入多条数据,不进行排序
db.student.insert([
    &#123;&quot;name&quot;: &quot;zhangsan&quot;, &quot;age&quot;: 32, addr: &quot;GuangZhou&quot;&#125;,
    &#123;&quot;name&quot;: &quot;wangwu&quot;, &quot;age&quot;: 16, addr: &quot;ShangHai&quot;&#125;
]);

// insert 插入多条数据,并进行排序
db.student.insert(
    [
        &#123;&quot;name&quot;: &quot;zhangsan&quot;, &quot;age&quot;: 32, addr: &quot;GuangZhou&quot;&#125;,
        &#123;&quot;name&quot;: &quot;wangwu&quot;, &quot;age&quot;: 16, addr: &quot;ShangHai&quot;&#125;
    ],
    &#123;ordered: false&#125;
);
</code></pre>
<h3 id="2、insertXxx-方法"><a href="#2、insertXxx-方法" class="headerlink" title="2、insertXxx() 方法"></a>2、insertXxx() 方法</h3><blockquote>
<p><strong>db.collection.insertOne() 与 db.collection.insertMany()</strong></p>
</blockquote>
<p>语法格式如下：</p>
<pre><code class="javascript">// 单行插入
db.collection.insertOne(
    &lt;document&gt;,
    &#123;
        writeConcern: &lt;document&gt;
    &#125;
)
// 多行插入
db.collection.insertMany(
    [ &lt;document1&gt; , &lt;document2&gt;, ... ],
    &#123;
        writeConcern: &lt;document&gt;,
        ordered: &lt;boolean&gt;
    &#125;
)
</code></pre>
<ul>
<li>参数说明：<ul>
<li><strong>document</strong>：要写入的文档。</li>
<li><strong>writeConcern</strong>：写入策略，默认为 1，即要求确认写操作，0 是不要求。</li>
<li><strong>ordered</strong>：指定是否按顺序写入，默认 true，按顺序写入。</li>
</ul>
</li>
</ul>
<p>使用示例：</p>
<pre><code class="javascript">// 单行插入文档，关于_id字段指定与否也与db.collection.insert()一致
db.student.insertOne(&#123;&quot;name&quot;: &quot;zhangsan&quot;, &quot;age&quot;: 28, addr: &quot;ShenZhen&quot;&#125;);

// 插入多条数据
db.student.insertMany([
    &#123;&quot;name&quot;: &quot;zhangsan&quot;, &quot;age&quot;: 32, addr: &quot;GuangZhou&quot;&#125;,
    &#123;&quot;name&quot;: &quot;wangwu&quot;, &quot;age&quot;: 16, addr: &quot;ShangHai&quot;&#125;
]);
</code></pre>
<blockquote>
<p><strong>测试：关于返回确认信息</strong></p>
</blockquote>
<pre><code class="cmd">&gt; # insert 插入一条数据
&gt; db.student.insert(&#123;&quot;name&quot;: &quot;zhangsan&quot;, &quot;age&quot;: 28, addr: &quot;ShenZhen&quot;&#125;);
WriteResult(&#123; &quot;nInserted&quot; : 1 &#125;)
&gt;
&gt; # insert 插入多条数据
&gt; db.student.insert([
...     &#123;&quot;name&quot;: &quot;zhangsan&quot;, &quot;age&quot;: 32, addr: &quot;GuangZhou&quot;&#125;,
...     &#123;&quot;name&quot;: &quot;wangwu&quot;, &quot;age&quot;: 16, addr: &quot;ShangHai&quot;&#125;
... ]);
BulkWriteResult(&#123;
        &quot;writeErrors&quot; : [ ],
        &quot;writeConcernErrors&quot; : [ ],
        &quot;nInserted&quot; : 2,
        &quot;nUpserted&quot; : 0,
        &quot;nMatched&quot; : 0,
        &quot;nModified&quot; : 0,
        &quot;nRemoved&quot; : 0,
        &quot;upserted&quot; : [ ]
&#125;)
&gt;
&gt; # 插入1条数据
&gt; db.student.insertOne(&#123;&quot;name&quot;: &quot;zhangsan&quot;, &quot;age&quot;: 28, addr: &quot;ShenZhen&quot;&#125;);
&#123;
        &quot;acknowledged&quot; : true,
        &quot;insertedId&quot; : ObjectId(&quot;5fd4c7676817e7a0fa646b85&quot;)
&#125;
&gt;
&gt; # 插入多条数据
&gt; db.student.insertMany([
...     &#123;&quot;name&quot;: &quot;zhangsan&quot;, &quot;age&quot;: 32, addr: &quot;GuangZhou&quot;&#125;,
...     &#123;&quot;name&quot;: &quot;wangwu&quot;, &quot;age&quot;: 16, addr: &quot;ShangHai&quot;&#125;
... ]);
&#123;
        &quot;acknowledged&quot; : true,
        &quot;insertedIds&quot; : [
                ObjectId(&quot;5fd4c7706817e7a0fa646b86&quot;),
                ObjectId(&quot;5fd4c7706817e7a0fa646b87&quot;)
        ]
&#125;
&gt;
</code></pre>
<h2 id="03、数据更新"><a href="#03、数据更新" class="headerlink" title="03、数据更新"></a>03、数据更新</h2><ul>
<li>**db.collection.update()**：更新或替换集合中符合条件的一个或多个文档；</li>
<li>**db.collection.updateOne()**：只更新集合中符合条件的第一个文档，即使有多个文档（版本3.2新增）</li>
<li>**db.collection.updateMany()**：更新集合中所有符合条件的文档（版本3.2新增）</li>
<li>**db.collection.replaceOne()**：替换除 <code>_id</code> 字段以外的文档的所有内容</li>
</ul>
<h3 id="1、update-方法"><a href="#1、update-方法" class="headerlink" title="1、update() 方法"></a>1、update() 方法</h3><blockquote>
<p><strong>db.collection.update()</strong></p>
</blockquote>
<p>根据<code>update</code>指定的表达式可以修改文档中符合条件的字段或代替整个文档。具体的语法格式如下：</p>
<pre><code class="javascript">db.collection.update(
   &lt;query&gt;,   //查询表达式
   &lt;update&gt;,  //更新表达式
   &#123;
     upsert: &lt;boolean&gt;,
     multi: &lt;boolean&gt;,
     writeConcern: &lt;document&gt;,
     collation: &lt;document&gt;,
     arrayFilters: [ &lt;filterdocument1&gt;, ... ],
     hint:  &lt;document|string&gt;                   // 版本4.2新增
   &#125;
)
</code></pre>
<p>参数说明：</p>
<ul>
<li><p><strong>query</strong>：更新文档的查询表达式；如果指定了参数<code>upsert: true</code>并且集合中没有符合查询条件的文档，查询条件中有关于字段<code>_id</code>指定了<code>.</code>分隔符的，并不会插入新的文档；</p>
</li>
<li><p><strong>update</strong>：主要包含三种格式</p>
<ul>
<li>1.更新文档：只包含更新操作符表达式；</li>
<li>2.替换文档：只包含<code>&lt;field1&gt;: &lt;value1&gt;</code>对；</li>
<li>3.聚合管道：版本4.2新增，详细参考官方文档。</li>
</ul>
</li>
<li><p><strong>upsert</strong>：当query查询条件没符合更新的文档，就新创建文档(可选)，默认值为<strong>false</strong>；</p>
</li>
<li><p><strong>multi</strong>：是否更新多个符合条件的文档(可选)，默认值为<strong>false</strong>，只更新符合条件的第一个文档；</p>
</li>
<li><p><strong>writeConcern</strong>：参考**db.collection.insert()**相同参数说明；</p>
</li>
<li><p><strong>collation</strong>：指定校对规则(可选，版本3.4新增)；</p>
</li>
<li><p><strong>arrayFilters</strong>：文档数组更新过滤操作符(可选，版本3.6新增)；详细参考：<a target="_blank" rel="noopener" href="https://docs.mongodb.com/manual/reference/method/db.collection.update/#specify-arrayfilters-for-array-update-operations">官方文档</a></p>
</li>
<li><p><strong>hint</strong>：采用文档或字符串的形式指定适用于查询表达式的索引，如果索引不存在则报错(可选，版本4.2新增)。</p>
</li>
</ul>
<p>使用示例：</p>
<p>使用示例将通过使用两种场景进行，一是没有使用参数选项<code>upsert</code>，二是使用参数选项<code>upsert</code>。</p>
<ul>
<li><strong>不使用选项upsert</strong></li>
</ul>
<pre><code class="javascript">// 测试数据
db.books.remove(&#123;&#125;);

db.books.insertMany([
  &#123;
    &quot;_id&quot; : 1,
    &quot;item&quot; : &quot;TBD&quot;,
    &quot;stock&quot; : 0,
    &quot;info&quot; : &#123; &quot;publisher&quot; : &quot;1111&quot;, &quot;pages&quot; : 430 &#125;,
    &quot;tags&quot; : [ &quot;technology&quot;, &quot;computer&quot; ],
    &quot;ratings&quot; : [ &#123; &quot;by&quot; : &quot;ijk&quot;, &quot;rating&quot; : 4 &#125;, &#123; &quot;by&quot; : &quot;lmn&quot;, &quot;rating&quot; : 5 &#125; ],
    &quot;reorder&quot; : false
   &#125;,
   &#123;
    &quot;_id&quot; : 2,
    &quot;item&quot; : &quot;XYZ123&quot;,
    &quot;stock&quot; : 15,
    &quot;info&quot; : &#123; &quot;publisher&quot; : &quot;5555&quot;, &quot;pages&quot; : 150 &#125;,
    &quot;tags&quot; : [ ],
    &quot;ratings&quot; : [ &#123; &quot;by&quot; : &quot;xyz&quot;, &quot;rating&quot; : 5 &#125; ],
    &quot;reorder&quot; : false
   &#125;
]);


/* 使用选项参数 upsert: true
1、如果查询表达式找到匹配的文档，则执行更新操作；
2、如果查询表达式没有找到匹配的文档，则执行插入操作；
*/
db.books.update(
   &#123; item: &quot;ZZZ135&quot; &#125;,   // 查询表达式
   &#123;                     // 更新或替换文档
     item: &quot;ZZZ135&quot;,
     stock: 5,
     tags: [ &quot;database&quot; ]
   &#125;,
   &#123; upsert: true &#125;
);

// 1.使用更新操作表达式
/* $set操作符
1、查询表达式指定需要更新的文档 _id;
2、$inc操作符: stock的字段值+5;
3、$set操作符: 替换item字段值，替换嵌入文档info的publisher字段值，替换tags字段值，替换数组ratings的第二个元素值
*/
db.books.update(
   &#123; _id: 1 &#125;,
   &#123;
     $inc: &#123; stock: 5 &#125;,
     $set: &#123;
       item: &quot;ABC123&quot;,
       &quot;info.publisher&quot;: &quot;2222&quot;,
       tags: [ &quot;software&quot; ],
       &quot;ratings.1&quot;: &#123; by: &quot;xyz&quot;, rating: 3 &#125;
     &#125;
   &#125;
);
更新之后的文档：
&#123;

  &quot;_id&quot; : 1,
  &quot;item&quot; : &quot;ABC123&quot;,
  &quot;stock&quot; : 5,
  &quot;info&quot; : &#123; &quot;publisher&quot; : &quot;2222&quot;, &quot;pages&quot; : 430 &#125;,
  &quot;tags&quot; : [ &quot;software&quot; ],
  &quot;ratings&quot; : [ &#123; &quot;by&quot; : &quot;ijk&quot;, &quot;rating&quot; : 4 &#125;, &#123; &quot;by&quot; : &quot;xyz&quot;, &quot;rating&quot; : 3 &#125; ],
  &quot;reorder&quot; : false
&#125;

// 2.为已存在的数组添加元素
// $push操作符： 为指定文档数组ratings添加一个元素
db.books.update(
   &#123; _id: 2 &#125;,
   &#123;
     $push: &#123; ratings: &#123; &quot;by&quot; : &quot;jkl&quot;, &quot;rating&quot; : 2 &#125; &#125;
   &#125;
);
更新之后的文档：
&#123;
  &quot;_id&quot; : 2,
  &quot;item&quot; : &quot;XYZ123&quot;,
  &quot;stock&quot; : 15,
  &quot;info&quot; : &#123;
   &quot;publisher&quot; : &quot;5555&quot;,
   &quot;pages&quot; : 150
  &#125;,
  &quot;tags&quot; : [ ],
  &quot;ratings&quot; : [
   &#123; &quot;by&quot; : &quot;xyz&quot;, &quot;rating&quot; : 5 &#125;,

   &#123; &quot;by&quot; : &quot;jkl&quot;, &quot;rating&quot; : 2 &#125;

  ],
  &quot;reorder&quot; : false
 &#125;

// 3.文档移除字段
// $unset操作符： 移除文档的指定字段，为_id:1文档移除tags字段
db.books.update( &#123; _id: 1 &#125;, &#123; $unset: &#123; tags: 1 &#125; &#125; );
更新后的文档：
&#123;
  &quot;_id&quot; : 1,
  &quot;item&quot; : &quot;TBD&quot;,
  &quot;stock&quot; : 0,
  &quot;info&quot; : &#123;
   &quot;publisher&quot; : &quot;1111&quot;,
   &quot;pages&quot; : 430
  &#125;,
  &quot;ratings&quot; : [ &#123; &quot;by&quot; : &quot;ijk&quot;, &quot;rating&quot; : 4 &#125;, &#123; &quot;by&quot; : &quot;lmn&quot;, &quot;rating&quot; : 5 &#125; ],
  &quot;reorder&quot; : false
 &#125;

// 4.替换整个文档
// 替换_id：2的文档
db.books.update(
   &#123; _id: 2 &#125;,
   &#123;
     item: &quot;XYZ123&quot;,
     stock: 10,
     info: &#123; publisher: &quot;2255&quot;, pages: 150 &#125;,
     tags: [ &quot;baking&quot;, &quot;cooking&quot; ]
   &#125;
);
更新后的文档：
&#123;
   &quot;_id&quot; : 2,
   &quot;item&quot; : &quot;XYZ123&quot;,
   &quot;stock&quot; : 10,
   &quot;info&quot; : &#123; &quot;publisher&quot; : &quot;2255&quot;, &quot;pages&quot; : 150 &#125;,
   &quot;tags&quot; : [ &quot;baking&quot;, &quot;cooking&quot; ]
&#125;

// 5.更新多个文档
db.books.update(
   &#123; stock: &#123; $lte: 10 &#125; &#125;,
   &#123; $set: &#123; reorder: true &#125; &#125;,
   &#123; multi: true &#125;
);
更新后的全部文档：
[
  &#123;
    &quot;_id&quot; : 1,
    &quot;item&quot; : &quot;ABC123&quot;,
    &quot;stock&quot; : 5,
    &quot;info&quot; : &#123;
     &quot;publisher&quot; : &quot;2222&quot;,
     &quot;pages&quot; : 430
    &#125;,
    &quot;ratings&quot; : [ &#123; &quot;by&quot; : &quot;ijk&quot;, &quot;rating&quot; : 4 &#125;, &#123; &quot;by&quot; : &quot;xyz&quot;, &quot;rating&quot; : 3 &#125; ],

    &quot;reorder&quot; : true

   &#125;
   &#123;
     &quot;_id&quot; : 2,
     &quot;item&quot; : &quot;XYZ123&quot;,
     &quot;stock&quot; : 10,
     &quot;info&quot; : &#123; &quot;publisher&quot; : &quot;2255&quot;, &quot;pages&quot; : 150 &#125;,
     &quot;tags&quot; : [ &quot;baking&quot;, &quot;cooking&quot; ],

     &quot;reorder&quot; : true

   &#125;
]
</code></pre>
<ul>
<li><strong>使用upserts选项</strong></li>
</ul>
<pre><code class="javascript">/* 使用选项参数 upsert: true
1、如果查询表达式找到匹配的文档，则执行更新操作；
2、如果查询表达式没有找到匹配的文档，则执行插入操作；
*/

// 1.插入未符合更新条件的文档
db.books.update(
   &#123; item: &quot;ZZZ135&quot; &#125;,   
   &#123;                     
     item: &quot;ZZZ135&quot;,
     stock: 5,
     tags: [ &quot;database&quot; ]
   &#125;,

   &#123; upsert: true &#125;      

);
因为集合并未满足条件的文档，则插入的文档为：
&#123;
  &quot;_id&quot; : ObjectId(&quot;5da78973835b2f1c75347a83&quot;),
  &quot;item&quot; : &quot;ZZZ135&quot;,
  &quot;stock&quot; : 5,
  &quot;tags&quot; : [ &quot;database&quot; ]
&#125;

// 2.插入未符合更新条件并且基于更新操作符的文档
// 如果没有符合更新查询条件，并且使用的是更新操作符，则会基于当前的查询条件和更新操作符字段插入新的文档
db.books.update(
   &#123; item: &quot;BLP921&quot; &#125;,   
   &#123;                     
      $set: &#123; reorder: false &#125;,
      $setOnInsert: &#123; stock: 10 &#125;
   &#125;,
   &#123; upsert: true &#125;      
);
新插入的文档为：
&#123;
  &quot;_id&quot; : ObjectId(&quot;5da79019835b2f1c75348a0a&quot;),
  &quot;item&quot; : &quot;BLP921&quot;,
  &quot;reorder&quot; : false,
  &quot;stock&quot; : 10
&#125;

// 3.插入未符合更新条件并且基于聚合管道的文档
// 关于聚合管道请参考官方文档：https://docs.mongodb.com/manual/reference/method/db.collection.update/#update-with-aggregation-pipeline

// 4.插入未符合更新条件并且同时联合多文档操作符的文档
如果不符合查询条件，则只会插入单个文档
db.books.update(
  &#123; &quot;info.publisher&quot;: &quot;Self-Published&quot; &#125;,   
  &#123;                                         
    $set: &#123; reorder: false, tags: [ &quot;literature&quot;, &quot;hardcover&quot; ], stock: 25 &#125;
  &#125;,
  &#123; upsert: true, multi: true &#125;             
);
新插入的文档：
&#123;
  &quot;_id&quot; : ObjectId(&quot;5db337934f670d584b6ca8e0&quot;),
  &quot;info&quot; : &#123; &quot;publisher&quot; : &quot;Self-Published&quot; &#125;,
  &quot;reorder&quot; : false,
  &quot;stock&quot; : 25,
  &quot;tags&quot; : [ &quot;literature&quot;, &quot;hardcover&quot; ]
&#125;
</code></pre>
<h3 id="2、updateXxx-方法"><a href="#2、updateXxx-方法" class="headerlink" title="2、updateXxx() 方法"></a>2、updateXxx() 方法</h3><blockquote>
<p><strong>db.collection.updateOne() 与 db.collection.updateMany()</strong></p>
</blockquote>
<p>根据<code>update</code>指定的参数可以修改文档中符合条件的字段或代替整个文档，与**db.collection.update()**不同的是每次只更新单个文档。</p>
<p>根据<code>update</code>指定的参数可以修改文档中符合条件的字段或代替整个文档，与**db.collection.updateOne()**不同的是更新所有符合条件的文档。</p>
<p>语法格式如下：</p>
<pre><code class="javascript">// 更新单个文档语法：
db.collection.updateOne(
   &lt;filter&gt;,
   &lt;update&gt;,
   &#123;
     upsert: &lt;boolean&gt;,
     writeConcern: &lt;document&gt;,
     collation: &lt;document&gt;,
     arrayFilters: [ &lt;filterdocument1&gt;, ... ],
     hint:  &lt;document|string&gt;        
   &#125;
)

// 更新单个或多个文档语法：
db.collection.updateMany(
   &lt;filter&gt;,
   &lt;update&gt;,
   &#123;
     upsert: &lt;boolean&gt;,
     writeConcern: &lt;document&gt;,
     collation: &lt;document&gt;,
     arrayFilters: [ &lt;filterdocument1&gt;, ... ],
     hint:  &lt;document|string&gt;        
   &#125;
)
</code></pre>
<p>参数说明：参考**db.collection.update()**的参数说明。</p>
<p>使用示例：</p>
<pre><code class="javascript">// 参考db.collection.update()
</code></pre>
<blockquote>
<p>db.collection.replaceOne( filter , replacement , options )</p>
</blockquote>
<pre><code class="javascript">db.collection.replaceOne(
   &lt;filter&gt;,
   &lt;replacement&gt;,
   &#123;
     upsert: &lt;boolean&gt;,
     writeConcern: &lt;document&gt;,
     collation: &lt;document&gt;
   &#125;
)
</code></pre>
<p>参数说明：参考**db.collection.update()**的参数说明。</p>
<p>使用示例：</p>
<pre><code class="javascript">// 使用一个新的文档来替换name为B的文档
db.user.replaceOne(
    &#123; name: &quot;B&quot; &#125;,
    &#123; name: &quot;newB&quot;, age: 8, addr: &quot;GuangZhou&quot;&#125;
)
</code></pre>
<h2 id="04、数据删除"><a href="#04、数据删除" class="headerlink" title="04、数据删除"></a>04、数据删除</h2><ul>
<li>**db.collection.deleteOne()**：只删除集合中符合条件的一个文档</li>
<li>**db.collection.deleteMany()**：删除集合中所有符合条件的文档</li>
<li>**db.collection.remove()**：删除集合中符合条件的一个或多个文档（<del>已废弃</del>）</li>
</ul>
<h3 id="1、deleteXxx-方法"><a href="#1、deleteXxx-方法" class="headerlink" title="1、deleteXxx() 方法"></a>1、deleteXxx() 方法</h3><blockquote>
<p><strong>db.collection.deleteOne() 与 db.collection.deleteMany()</strong></p>
</blockquote>
<p>根据<code>filter</code>选项条件删除集合中的单个或多个文档，具体语法格式如下：</p>
<pre><code class="javascript">// 删除单个语法
db.collection.deleteOne(
   &lt;filter&gt;,
   &#123;
      writeConcern: &lt;document&gt;,
      collation: &lt;document&gt;
   &#125;
)
// 删除单个或者多个语法
db.collection.deleteMany(
   &lt;filter&gt;,
   &#123;
      writeConcern: &lt;document&gt;,
      collation: &lt;document&gt;
   &#125;
)
</code></pre>
<p>参数说明：</p>
<ul>
<li><strong>filter</strong>：指定基于查询表达式的过滤条件，关于查询表达式可以查看<code>db.collecion.find()</code>中的<code>&lt;query&gt;</code>；</li>
<li><strong>writeConcern</strong>：写入策略，默认为 1，即要求确认写操作，0 是不要求。</li>
<li><strong>collation</strong>：指定校对规则(可选，版本3.4新增)；</li>
</ul>
<p>使用示例：</p>
<pre><code class="javascript">// 删除指定条件的单个文档
db.user.deleteOne( &#123; &quot;_id&quot; : 1 &#125; );
&#123; &quot;acknowledged&quot; : true, &quot;deletedCount&quot; : 1 &#125;

// 删除指定条件的多个文档
db.user.deleteMany( &#123;&quot;addr&quot; : &quot;GuangZhou&quot;&#125; );
&#123; &quot;acknowledged&quot; : true, &quot;deletedCount&quot; : 2 &#125;
</code></pre>
<h3 id="2、remove-方法"><a href="#2、remove-方法" class="headerlink" title="2、remove() 方法"></a>2、remove() 方法</h3><blockquote>
<p><strong>db.collection.remove()</strong></p>
</blockquote>
<p>根据<code>filter</code>选项条件删除集合中的单个或多个文档，具体语法格式如下：</p>
<pre><code class="javascript">db.collection.remove(
    &lt;query&gt;,
    &#123;
        justOne: &lt;boolean&gt;, 
        writeConcern: &lt;document&gt;
    &#125;
)
</code></pre>
<p>参数说明：</p>
<ul>
<li>query：必选项，是设置删除的文档的条件。</li>
<li>justOne：布尔型的可选项，默认为false，删除符合条件的所有文档，如果设为 true，则只删除一个文档。</li>
<li>writeConcem：可选项，设置抛出异常的级别。</li>
</ul>
<p>使用示例：</p>
<pre><code class="javascript">// remove 删除全部
db.day.remove(&#123;&#125;)

// remove 条件删除
db.day.remove(&#123;age:10&#125;)
</code></pre>
<blockquote>
<p><strong>注意</strong>：</p>
<p>此方法已经过时，官方推荐使用deleteOne和deleteMany函数来实现删除操作。且remove()函数并不会真正的释放掉存储空间，需要删除后，再用管理员权限的账户执行db.repairDatabase()函数来释放存储空间！</p>
</blockquote>
<h2 id="05、数据查询"><a href="#05、数据查询" class="headerlink" title="05、数据查询"></a>05、数据查询</h2><p>查询(Read Operations)读操作，是对集合中已存在的文档进行查询，即对应关系型数据库当中的<code>select</code>操作，MongoDB提供以下几种主要查询文档方法：</p>
<ul>
<li>db.collection.find()：查询指定集合中满足条件的一个或多个文档和视图；</li>
<li>db.collection.findOne()：查询指定集合中满足条件的第一个文档</li>
<li>db.collection.findXxx.pretty()：以格式化方式展现，通过<code>pretty()</code>方法</li>
</ul>
<h3 id="1、插入测试数据"><a href="#1、插入测试数据" class="headerlink" title="1、插入测试数据"></a>1、插入测试数据</h3><blockquote>
<p><strong>插入测试数据</strong></p>
</blockquote>
<pre><code class="javascript">db.user.insert([
    &#123; &quot;_id&quot; : 1, &quot;name&quot; : &quot;ZhangSan&quot;, &quot;age&quot; : 25, &quot;addr&quot; : &quot;ShenZhen&quot; &#125;,
    &#123; &quot;_id&quot; : 2, &quot;name&quot; : &quot;XiaoMing&quot;, &quot;age&quot; : 27, &quot;addr&quot; : &quot;GuangZhou&quot; &#125;,
    &#123; &quot;_id&quot; : 3, &quot;name&quot; : &quot;LaoWan&quot;, &quot;age&quot; : 30, &quot;addr&quot; : &quot;BeiJing&quot; &#125;,
    &#123; &quot;_id&quot; : 4, &quot;name&quot; : &quot;WangWu&quot;, &quot;age&quot; : 32, &quot;addr&quot; : &quot;ShangHai&quot; &#125;,
    &#123; &quot;_id&quot; : 5, &quot;name&quot; : &quot;ZhaoSi&quot;, &quot;age&quot; : 28, &quot;addr&quot; : &quot;ShenZhen&quot; &#125;,
    &#123; &quot;_id&quot; : 6, &quot;name&quot; : &quot;LiSi&quot;, &quot;age&quot; : 20, &quot;addr&quot; : &quot;HangZhou&quot; &#125;
])
</code></pre>
<p>此时 <code>user</code> 表中的数据列表如下：</p>
<table>
<thead>
<tr>
<th align="center">id</th>
<th align="center">name</th>
<th align="center">age</th>
<th align="center">addr</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>1</strong></td>
<td align="center">ZhangSan</td>
<td align="center">25</td>
<td align="center">ShenZhen</td>
</tr>
<tr>
<td align="center"><strong>2</strong></td>
<td align="center">XiaoMing</td>
<td align="center">27</td>
<td align="center">GuangZhou</td>
</tr>
<tr>
<td align="center"><strong>3</strong></td>
<td align="center">LaoWan</td>
<td align="center">30</td>
<td align="center">BeiJing</td>
</tr>
<tr>
<td align="center"><strong>4</strong></td>
<td align="center">WangWu</td>
<td align="center">32</td>
<td align="center">ShangHai</td>
</tr>
<tr>
<td align="center"><strong>5</strong></td>
<td align="center">ZhaoSi</td>
<td align="center">28</td>
<td align="center">ShenZhen</td>
</tr>
<tr>
<td align="center"><strong>6</strong></td>
<td align="center">LiSi</td>
<td align="center">20</td>
<td align="center">HangZhou</td>
</tr>
</tbody></table>
<h3 id="2、查询数据方法"><a href="#2、查询数据方法" class="headerlink" title="2、查询数据方法"></a>2、查询数据方法</h3><blockquote>
<p><strong>db.collection.find()  与  db.collection.findOne()</strong></p>
</blockquote>
<p><strong>db.collection.find()</strong> ：是使用频率最高的方法了，可以用来查询数据库集合当中的文档</p>
<p>**db.collection.findOne()**：方法显示符合条件查询的第一条文档</p>
<p>语法格式如下：</p>
<pre><code class="javascript">db.collection.find(&lt;query&gt;, &lt;projection&gt;)
db.collection.findOne(&lt;query&gt;, &lt;projection&gt;)
</code></pre>
<ul>
<li><strong>query</strong>：查询表达式；</li>
<li><strong>projection</strong>：指定查询结果集中需要显示的字段。<ul>
<li>Col_name:1｜true 代表显示该字段;</li>
<li>Col_name:0 | false 代表不显示该字段。</li>
</ul>
</li>
</ul>
<p>_id 字段是默认显示的，如果不想显示，则显式指定 {“_id” : 0}</p>
<p>使用示例：</p>
<pre><code class="javascript">// 查询全部数据的两种方式
db.collection.find()
db.collection.find(&#123;&#125;)

// 查询单个文档：
db.collection.findOne()

//============================查询所有文档数据============================
&gt; db.user.find()
&#123; &quot;_id&quot; : 1, &quot;name&quot; : &quot;ZhangSan&quot;, &quot;age&quot; : 25, &quot;addr&quot; : &quot;ShenZhen&quot; &#125;
&#123; &quot;_id&quot; : 2, &quot;name&quot; : &quot;XiaoMing&quot;, &quot;age&quot; : 27, &quot;addr&quot; : &quot;GuangZhou&quot; &#125;
&#123; &quot;_id&quot; : 3, &quot;name&quot; : &quot;LaoWan&quot;, &quot;age&quot; : 30, &quot;addr&quot; : &quot;BeiJing&quot; &#125;
&#123; &quot;_id&quot; : 4, &quot;name&quot; : &quot;WangWu&quot;, &quot;age&quot; : 32, &quot;addr&quot; : &quot;ShangHai&quot; &#125;
&#123; &quot;_id&quot; : 5, &quot;name&quot; : &quot;ZhaoSi&quot;, &quot;age&quot; : 28, &quot;addr&quot; : &quot;ShenZhen&quot; &#125;
&#123; &quot;_id&quot; : 6, &quot;name&quot; : &quot;LiSi&quot;, &quot;age&quot; : 20, &quot;addr&quot; : &quot;HangZhou&quot; &#125;


//============================查询单个文档数据============================
&gt; db.user.findOne(&#123;addr: &quot;ShenZhen&quot;&#125;)
&#123; &quot;_id&quot; : 1, &quot;name&quot; : &quot;ZhangSan&quot;, &quot;age&quot; : 25, &quot;addr&quot; : &quot;ShenZhen&quot; &#125;
</code></pre>
<h3 id="3、查询指定字段"><a href="#3、查询指定字段" class="headerlink" title="3、查询指定字段"></a>3、查询指定字段</h3><blockquote>
<p><strong>查询返回指定字段</strong></p>
</blockquote>
<pre><code class="javascript">db.getCollection(&#39;user&#39;).find(用于过滤记录的字典，用于限定字段的字典)
</code></pre>
<ul>
<li>如果值为0，则表示在全部字段中剔除值为0的这些字段并返回。</li>
<li>如果值为1，则表示只返回值为1的这些字段。（默认都为1，显示）</li>
</ul>
<p>使用示例：</p>
<pre><code class="javascript">// 只显示name字段和age字段
db.user.find(&#123;&#125;,&#123; name : 1 , age : 1 &#125;).limit(1)
&#123; &quot;_id&quot; : 1, &quot;name&quot; : &quot;ZhangSan&quot;, &quot;age&quot; : 25 &#125;

// 不显示_id字段和name字段，其他字段都显示
db.user.find(&#123;&#125;,&#123; _id : 0 , name : 0 &#125;).limit(1)
&#123; &quot;age&quot; : 25, &quot;addr&quot; : &quot;ShenZhen&quot; &#125;
</code></pre>
<p><strong>注意：不能0（显示字段）和1（剔除字段）在同一个语句中一起使用，不然会报错</strong></p>
<h3 id="4、指定范围查询"><a href="#4、指定范围查询" class="headerlink" title="4、指定范围查询"></a>4、指定范围查询</h3><blockquote>
<p><strong>范围操作符</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th align="center">名称</th>
<th align="center">操作</th>
<th align="center">格式</th>
<th align="center">范例</th>
<th align="center">RDBMS中的类似语句</th>
</tr>
</thead>
<tbody><tr>
<td align="center">$eq</td>
<td align="center">等于</td>
<td align="center">{:}</td>
<td align="center">db.col.find({“by”:”Mongo教程”})</td>
<td align="center">where by &#x3D; ‘Mongo教程’</td>
</tr>
<tr>
<td align="center">$lt</td>
<td align="center">小于</td>
<td align="center">{:{$lt:}}</td>
<td align="center">db.col.find({“likes”:{$lt:50}})</td>
<td align="center">where likes &lt; 50</td>
</tr>
<tr>
<td align="center">$te</td>
<td align="center">小于或等于</td>
<td align="center">{:{$lte:}}</td>
<td align="center">db.col.find({“likes”:{$lte:50}})</td>
<td align="center">where likes &lt;&#x3D; 50</td>
</tr>
<tr>
<td align="center">$gt</td>
<td align="center">大于</td>
<td align="center">{:{$gt:}}</td>
<td align="center">db.col.find({“likes”:{$gt:50}})</td>
<td align="center">where likes &gt; 50</td>
</tr>
<tr>
<td align="center">$gte</td>
<td align="center">大于或等于</td>
<td align="center">{:{$gte:}}</td>
<td align="center">db.col.find({“likes”:{$gte:50}})</td>
<td align="center">where likes &gt;&#x3D; 50</td>
</tr>
<tr>
<td align="center">$ne</td>
<td align="center">不等于</td>
<td align="center">{:{$ne:}}</td>
<td align="center">db.col.find({“likes”:{$ne:50}})</td>
<td align="center">where likes !&#x3D; 50</td>
</tr>
<tr>
<td align="center">$in</td>
<td align="center">指定值在数组中</td>
<td align="center">{:{$in:[]}}</td>
<td align="center">db.col.find({“likes”:{$in:[50]}})</td>
<td align="center">where likes in (50)</td>
</tr>
<tr>
<td align="center">$nin</td>
<td align="center">指定值不在数组中</td>
<td align="center">{:{$nin:[]}}</td>
<td align="center">db.col.find({“likes”:{$nin:[50]}})</td>
<td align="center">where likes not in (50)</td>
</tr>
</tbody></table>
<p>使用示例：</p>
<pre><code class="javascript">// $eq:等值查询 SQL: SELECT * FROM user WHERE name = &quot;XiaoHei&quot;;
db.user.find( &#123; name: &quot;ZhangSan&quot; &#125; )

// $ne:等值查询 SQL: SELECT * FROM user WHERE name != &quot;XiaoHei&quot;;
db.user.find( &#123; name: &#123;$ne: &quot;XiaoHei&quot;&#125; &#125; )

// $gt:范围查询(以大于为例) SQL: SELECT * FROM user WHERE age &gt; 30;
db.user.find( &#123; age: &#123;$gt: 30&#125; &#125; )

// $gte、$lt、$lte 同$gt

// $in:或查询，可使用or代替 SQL: SELECT * FROM user WHERE addr in (&quot;ShenZhen&quot;, &quot;GuangZhou&quot;)
db.user.find( &#123; addr: &#123; $in: [ &quot;ShenZhen&quot;, &quot;GuangZhou&quot; ] &#125; &#125; )

// $nin:SQL: SELECT * FROM user addr not in (&quot;BeiJing&quot;)
db.user.find( &#123; addr: &#123; $nin: [ &quot;BeiJing&quot;] &#125; &#125; )
</code></pre>
<h3 id="5、逻辑判断查询"><a href="#5、逻辑判断查询" class="headerlink" title="5、逻辑判断查询"></a>5、逻辑判断查询</h3><blockquote>
<p><strong>逻辑操作符</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>名称</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>$and</td>
<td>指定查询同时满足多个条件查询子句（默认）</td>
</tr>
<tr>
<td>$not</td>
<td>指定查询不满足条件查询子句</td>
</tr>
<tr>
<td>$or</td>
<td>指定查询满足其中某个条件查询子句</td>
</tr>
<tr>
<td>$nor</td>
<td>指定查询无法满足多个条件查询子句</td>
</tr>
</tbody></table>
<p>使用实例：</p>
<pre><code class="javascript">// $and: 逻辑与查询 SQL: SELECT * FROM user WHERE addr = &quot;ShenZhen&quot; AND age &lt; 30;
db.user.find( &#123; $and: [ &#123; addr: &#123; $eq: &quot;ShenZhen&quot; &#125;,  age: &#123; $lt: 30 &#125; &#125; ] &#125; )

// $and: 或者（一般这种形式更加常用，$and 和 $eq 默认可以省略）
db.user.find( &#123; addr: &quot;ShenZhen&quot;,  age: &#123; $lt: 30 &#125; &#125; )

// $not: 不符合查询 SQL: SELECT * FROM user WHERE addr &lt;&gt; &quot;GuangZhou&quot;;
db.user.find( &#123; addr: &#123; $not: &#123; $eq: &quot;GuangZhou&quot; &#125; &#125; &#125; )

// $or: 逻辑或查询 SQL: SELECT * FROM user WHERE addr = &quot;GuangZhou&quot; OR age &lt; 30;
db.user.find( &#123; $or: [ &#123; addr: &quot;GuangZhou&quot; &#125;, &#123; age: &#123; $lt: 30 &#125; &#125; ] &#125; )

/*
$nor: 无法同时满足多个条件查询,字段不存在时也符合 
SQL: SELECT * FROM user WHERE addr &lt;&gt; &quot;GuangZhou&quot; AND age &gt; 30; 
符合以下条件之一都会出现在结果集中:
1.文档包含addr和age字段并且符合条件;
2.文档包含addr字段并且符合条件，不包含age字段;
3.文档不包含addr字段，包含age字段并且符合条件;
4.文档不包含addr字段和age字段。
*/
db.user.find( &#123; $nor: [ &#123; addr: &#123; $ne: &quot;GuangZhou&quot; &#125; &#125;,  &#123; age: &#123; $gt: 30 &#125; &#125; ] &#125; )
</code></pre>
<h3 id="6、元素操作符查询"><a href="#6、元素操作符查询" class="headerlink" title="6、元素操作符查询"></a>6、元素操作符查询</h3><blockquote>
<p><strong>元素操作符</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>名称</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>$exists</td>
<td>指定查询文档是否有对应的字段</td>
</tr>
<tr>
<td>$type</td>
<td>指定查询文档的某个字段是否是对应类型</td>
</tr>
</tbody></table>
<p>使用示例：</p>
<pre><code class="javascript">// $exists: 是否存在指定字段查询,返回所有存在该字段的数据
db.user.find( &#123; name: &#123; $exists: true &#125; &#125; )

// $type: 字段是否是指定类型查询,返回所有age字段为double的数据
db.user.find( &#123; &quot;age&quot;: &#123; $type: &quot;double&quot; &#125; &#125; )
</code></pre>
<p>$type 可以用来根据数据类型查找数据，比如我想要查找x类型为数字的文档，如下：</p>
<pre><code class="javascript">db.user.find( &#123; &quot;age&quot;: &#123; $type: 1 &#125; &#125; )
</code></pre>
<p>1表示数字，其他数据类型对应的数字参见下表。</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>对应数字</th>
<th>别名</th>
</tr>
</thead>
<tbody><tr>
<td>Double1</td>
<td>1</td>
<td>double</td>
</tr>
<tr>
<td>String</td>
<td>2</td>
<td>string</td>
</tr>
<tr>
<td>Object</td>
<td>3</td>
<td>object</td>
</tr>
<tr>
<td>Array</td>
<td>4</td>
<td>array</td>
</tr>
<tr>
<td>Binary data</td>
<td>5</td>
<td>binData</td>
</tr>
<tr>
<td>Undefined</td>
<td>6</td>
<td>undefined（弃用）</td>
</tr>
<tr>
<td>ObjectId</td>
<td>7</td>
<td>objectId</td>
</tr>
<tr>
<td>Boolean</td>
<td>8</td>
<td>bool</td>
</tr>
<tr>
<td>Date</td>
<td>9</td>
<td>date</td>
</tr>
<tr>
<td>Null</td>
<td>10</td>
<td>null</td>
</tr>
<tr>
<td>Regular Expression</td>
<td>11</td>
<td>regex</td>
</tr>
<tr>
<td>DBPointer</td>
<td>12</td>
<td>dbPointer</td>
</tr>
<tr>
<td>JavaScript</td>
<td>13</td>
<td>javascript</td>
</tr>
<tr>
<td>Symbol</td>
<td>14</td>
<td>symbol</td>
</tr>
<tr>
<td>JavaScript(with scope)</td>
<td>15</td>
<td>javascriptWithScope</td>
</tr>
<tr>
<td>32-bit integer</td>
<td>16</td>
<td>int</td>
</tr>
<tr>
<td>Timestamp</td>
<td>17</td>
<td>timestamp</td>
</tr>
<tr>
<td>64-bit integer</td>
<td>18</td>
<td>long</td>
</tr>
<tr>
<td>Min key</td>
<td>-1</td>
<td>minKey</td>
</tr>
<tr>
<td>Max key</td>
<td>127</td>
<td>maxKey</td>
</tr>
</tbody></table>
<h3 id="7、特定类型查询"><a href="#7、特定类型查询" class="headerlink" title="7、特定类型查询"></a>7、特定类型查询</h3><blockquote>
<p><strong>null 类型查询</strong></p>
</blockquote>
<p>null的查询稍微有点不同，假如我想查询age为null的数据，如下：</p>
<pre><code class="javascript">db.user.find(&#123;age:null&#125;)
</code></pre>
<p>这样不仅会查出age为null的文档，也会查出所有没有age字段的文档，如果只想查询z为null的字段，那就再多加一个条件，判断一下z这个字段存在不，如下：</p>
<pre><code class="javascript">db.user.find(&#123;age:&#123;$in:[null],$exists:true&#125;&#125;)
</code></pre>
<blockquote>
<p><strong>正则表达式查询</strong></p>
</blockquote>
<p>这里的正则表达式语法和JavaScript中的正则表达式语法一致，比如查询所有key为name，value以Li开始的文档且不区分大小写：</p>
<pre><code>db.user.find(&#123;name:/^(Li)(.[a-zA-Z0-9])+/i&#125;)
</code></pre>
<blockquote>
<p><strong>数组查询</strong></p>
</blockquote>
<p>假设我有一个数据集如下：</p>
<pre><code class="javascript">db.books.insert([
    &#123;&quot;_id&quot; : 1, &quot;books&quot; : [&quot;三国演义&quot;, &quot;红楼梦&quot;, &quot;水浒传&quot;]&#125;,
    &#123;&quot;_id&quot; : 2, &quot;books&quot; : [&quot;三国演义&quot;, &quot;西游记&quot;, &quot;水浒传&quot;]&#125;,
    &#123;&quot;_id&quot; : 3, &quot;books&quot; : [ &quot;西游记&quot;, &quot;水浒传&quot;]&#125;,
])

&gt; db.books.find()
&#123; &quot;_id&quot; : 1, &quot;books&quot; : [ &quot;三国演义&quot;, &quot;红楼梦&quot;, &quot;水浒传&quot; ] &#125;
&#123; &quot;_id&quot; : 2, &quot;books&quot; : [ &quot;三国演义&quot;, &quot;西游记&quot;, &quot;水浒传&quot; ] &#125;
&#123; &quot;_id&quot; : 3, &quot;books&quot; : [ &quot;西游记&quot;, &quot;水浒传&quot; ] &#125;
</code></pre>
<p>查询books中含有三国演义的所有文档，如下：</p>
<pre><code class="javascript">db.books.find(&#123;books:&quot;三国演义&quot;&#125;)

&#123; &quot;_id&quot; : 1, &quot;books&quot; : [ &quot;三国演义&quot;, &quot;红楼梦&quot;, &quot;水浒传&quot; ] &#125;
&#123; &quot;_id&quot; : 2, &quot;books&quot; : [ &quot;三国演义&quot;, &quot;西游记&quot;, &quot;水浒传&quot; ] &#125;
</code></pre>
<p>如果要查询既有三国演义又有红楼梦的文档，可以使用$all，如下：</p>
<pre><code class="javascript">db.books.find(&#123;books:&#123;$all:[&quot;三国演义&quot;,&quot;红楼梦&quot;]&#125;&#125;)

&#123; &quot;_id&quot; : 1, &quot;books&quot; : [ &quot;三国演义&quot;, &quot;红楼梦&quot;, &quot;水浒传&quot; ] &#125;
</code></pre>
<p>当然我们也可以使用精确匹配，比如查询books为<code>&quot;三国演义&quot;,&quot;红楼梦&quot;, &quot;水浒传&quot;</code>的数据，如下：</p>
<pre><code class="javascript">db.books.find(&#123;books:[&quot;三国演义&quot;,&quot;红楼梦&quot;, &quot;水浒传&quot;]&#125;)

&#123; &quot;_id&quot; : 1, &quot;books&quot; : [ &quot;三国演义&quot;, &quot;红楼梦&quot;, &quot;水浒传&quot; ] &#125;
</code></pre>
<p>不过这种就会一对一的精确匹配。也可以按照下标匹配，比如我想查询数组中下标为2的项的为<code>&quot;水浒传&quot;</code>的文档，如下：</p>
<pre><code class="javascript">db.books.find(&#123;&quot;books.2&quot;:&quot;水浒传&quot;&#125;)

&#123; &quot;_id&quot; : 1, &quot;books&quot; : [ &quot;三国演义&quot;, &quot;红楼梦&quot;, &quot;水浒传&quot; ] &#125;
&#123; &quot;_id&quot; : 2, &quot;books&quot; : [ &quot;三国演义&quot;, &quot;西游记&quot;, &quot;水浒传&quot; ] &#125;
</code></pre>
<p>也可以按照数组长度来查询，比如我想查询数组长度为3的文档：</p>
<pre><code class="javascript">db.books.find(&#123;books:&#123;$size:2&#125;&#125;)

&#123; &quot;_id&quot; : 3, &quot;books&quot; : [ &quot;西游记&quot;, &quot;水浒传&quot; ] &#125;
</code></pre>
<p>如果想查询数组中的前两条数据，可以使用$slice，如下：</p>
<pre><code class="javascript">db.books.find(&#123;&#125;,&#123;books:&#123;$slice:2&#125;&#125;)

&#123; &quot;_id&quot; : 1, &quot;books&quot; : [ &quot;三国演义&quot;, &quot;红楼梦&quot; ] &#125;
&#123; &quot;_id&quot; : 2, &quot;books&quot; : [ &quot;三国演义&quot;, &quot;西游记&quot; ] &#125;
&#123; &quot;_id&quot; : 3, &quot;books&quot; : [ &quot;西游记&quot;, &quot;水浒传&quot; ] &#125;
</code></pre>
<p>注意这里要写在find的第二个参数的位置。2表示数组中前两个元素，-2表示从后往前数两个元素。也可以截取数组中间的元素，比如查询数组的第二个到第四个元素：</p>
<pre><code class="javascript">db.books.find(&#123;&#125;,&#123;books:&#123;$slice:[1,3]&#125;&#125;)

&#123; &quot;_id&quot; : 1, &quot;books&quot; : [ &quot;红楼梦&quot;, &quot;水浒传&quot; ] &#125;
&#123; &quot;_id&quot; : 2, &quot;books&quot; : [ &quot;西游记&quot;, &quot;水浒传&quot; ] &#125;
&#123; &quot;_id&quot; : 3, &quot;books&quot; : [ &quot;水浒传&quot; ] &#125;
</code></pre>
<p>数组中的与的问题也值得说一下，假设我有如下数据：</p>
<pre><code class="javascript">&#123;
    &quot;_id&quot; : ObjectId(&quot;59f208bc7b00f982986c669c&quot;),
    &quot;x&quot; : [ 
        5.0, 
        25.0
    ]
&#125;
</code></pre>
<p>我想将数组中value取值在(10,20)之间的文档获取到，如下操作：</p>
<pre><code class="javascript">db.sang_collect.find(&#123;x:&#123;$lt:20,$gt:10&#125;&#125;)
</code></pre>
<p>此时上面这个文档虽然不满足条件却依然被查找出来了，因为<code>5&lt;20</code>，而<code>25&gt;10</code>，要解决这个问题，我们可以使用$elemMatch，如下：</p>
<pre><code class="javascript">db.sang_collect.find(&#123;x:&#123;$elemMatch:&#123;$lt:20,$gt:10&#125;&#125;&#125;)
</code></pre>
<p>$elemMatch要求MongoDB同时使用查询条件中的两个语句与一个数组元素进行比较。</p>
<blockquote>
<p><strong>嵌套文档查询</strong></p>
</blockquote>
<p>嵌套文档有两种查询方式，比如我的数据如下：</p>
<pre><code>&#123;
    &quot;_id&quot; : ObjectId(&quot;59f20c9b7b00f982986c669f&quot;),
    &quot;x&quot; : 1.0,
    &quot;y&quot; : &#123;
        &quot;z&quot; : 2.0,
        &quot;k&quot; : 3.0
    &#125;
&#125;
</code></pre>
<p>想要查询上面这个文档，我的查询语句如下：</p>
<pre><code>db.sang_collect.find(&#123;y:&#123;z:2,k:3&#125;&#125;)
</code></pre>
<p>但是这种写法要求严格匹配，顺序都不能变，假如写成了<code>db.sang_collect.find(&#123;y:&#123;k:3,z:2&#125;&#125;)</code>，就匹配不到了，因此这种方法不够灵活，我们一般推荐的是下面这种写法：</p>
<pre><code>db.sang_collect.find(&#123;&quot;y.z&quot;:2,&quot;y.k&quot;:3&#125;)
</code></pre>
<p>这种写法可以任意颠倒顺序。</p>
<h3 id="8、评估操作符查询"><a href="#8、评估操作符查询" class="headerlink" title="8、评估操作符查询"></a>8、评估操作符查询</h3><blockquote>
<p><strong>评估操作符</strong>：参考官方文档：<strong><a target="_blank" rel="noopener" href="https://docs.mongodb.com/manual/reference/operator/query-evaluation/">https://docs.mongodb.com/manual/reference/operator/query-evaluation/</a></strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>名称</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>$expr</td>
<td>为同一个文档中的字段指定表达式并且符合条件的查询，比如比较同一文档当中两个字段的值</td>
</tr>
<tr>
<td>$mod</td>
<td>为字段值取模并且符合条件的查询</td>
</tr>
</tbody></table>
<p>为了更好的使用这两个主要的操作符，额外创建测试文档数据：</p>
<pre><code class="javascript">db.monthlyBudget.insertMany([
    &#123; &quot;_id&quot; : 1, &quot;category&quot; : &quot;food&quot;, &quot;budget&quot;: 400, &quot;spent&quot;: 450 &#125;,
    &#123; &quot;_id&quot; : 2, &quot;category&quot; : &quot;drinks&quot;, &quot;budget&quot;: 100, &quot;spent&quot;: 150 &#125;,
    &#123; &quot;_id&quot; : 3, &quot;category&quot; : &quot;clothes&quot;, &quot;budget&quot;: 100, &quot;spent&quot;: 50 &#125;,
    &#123; &quot;_id&quot; : 4, &quot;category&quot; : &quot;misc&quot;, &quot;budget&quot;: 500, &quot;spent&quot;: 300 &#125;,
    &#123; &quot;_id&quot; : 5, &quot;category&quot; : &quot;travel&quot;, &quot;budget&quot;: 200, &quot;spent&quot;: 650 &#125;
]);
</code></pre>
<p>使用示例：</p>
<pre><code class="javascript">// $expr: 允许使用聚合表达式，这里以$gt为例，更多表达式参考：
// https://docs.mongodb.com/manual/meta/aggregation-quick-reference/#aggregation-expressions
db.monthlyBudget.find( &#123; $expr: &#123; $gt: [ &quot;$spent&quot; , &quot;$budget&quot; ] &#125; &#125; )

// $mod: 对字段所在值进行取模运算，显示符合条件的查询，如qty字段值对4取模，并且余数为0
db.inventory.find( &#123; qty: &#123; $mod: [ 4, 0 ] &#125; &#125; )
</code></pre>
<h3 id="9、游标方法查询"><a href="#9、游标方法查询" class="headerlink" title="9、游标方法查询"></a>9、游标方法查询</h3><p>游标这个概念在很多地方都有，Java中JDBC里的ResultSet，Android中的Cursor等等都是，MongoDB中也有类似的概念。当我们调用find方法时，就可以返回一个游标。<strong>MongoDB 游标的使用：</strong></p>
<table>
<thead>
<tr>
<th>方法名</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>hasNext</td>
<td>判断是否有更多的文档</td>
</tr>
<tr>
<td>next</td>
<td>用来获取下一条文档</td>
</tr>
<tr>
<td>count</td>
<td>查询的结果为文档的总数量</td>
</tr>
<tr>
<td>limit</td>
<td>限制查询结果返回数量</td>
</tr>
<tr>
<td>skip</td>
<td>跳过指定数目的文档</td>
</tr>
<tr>
<td>sort</td>
<td>对查询结果进行排序</td>
</tr>
<tr>
<td>distinct</td>
<td>对查询结果进行去重</td>
</tr>
<tr>
<td>toArray</td>
<td>将查询结构放到数组中</td>
</tr>
<tr>
<td>objsLeftlnBatch</td>
<td>查看当前批次剩余的未被迭代的文档数量</td>
</tr>
<tr>
<td>addOption</td>
<td>为游标设置辅助选项，修改游标的默认行为</td>
</tr>
<tr>
<td>hint</td>
<td>为查询强制使用指定索引</td>
</tr>
<tr>
<td>explain</td>
<td>用于获取查询执行过程报告</td>
</tr>
<tr>
<td>snapshot</td>
<td>对查询结果使用快照</td>
</tr>
</tbody></table>
<blockquote>
<p><strong>查询结果修饰</strong></p>
</blockquote>
<pre><code class="javascript">// 1.查询当前集合数据量
db.collection.find().count()
// 2.查询集合前几条数据
db.collection.find().limit(number)
// 3.限定跳过前几条结果
db.collection.find().skip(number)
// 4.对查询结果进行排序，1为升序，-1为降序
db.collection.find().sort(&#123;key, 1或-1&#125;) 
// 5.对查询结果进行去重
db.collection.find().distinct()
// 6.将查询结构放到数组中
db.collection.find().toArray()
</code></pre>
<p>使用示例：</p>
<pre><code class="javascript">// 相当于select count(1) from user
&gt; db.user.find().count()
6

// 查询前 1 条数据
// 相当于：SELECT * FROM user limit 10
&gt; db.user.find().limit(1)
&#123; &quot;_id&quot; : 1, &quot;name&quot; : &quot;ZhangSan&quot;, &quot;age&quot; : 25, &quot;addr&quot; : &quot;ShenZhen&quot; &#125;

// 查询第 5 条以后的数据
&gt; db.user.find().skip(5)
&#123; &quot;_id&quot; : 6, &quot;name&quot; : &quot;LiSi&quot;, &quot;age&quot; : 20, &quot;addr&quot; : &quot;HangZhou&quot; &#125;

/*
* 查询 10 到 20 之间的数据
* 列表分页
* limit：就是 pageSize
* skip ：就是第几页 * pageSize
*/
&gt; db.user.find().limit(20).skip(10);

// 查询某个结果集的记录条数（统计数量）
// 相当于：select count(*) from user where age &gt;= 18;
db.user.find(&#123;age: &#123;$gte: 18&#125;&#125;).count();

// 如果要返回限制之后的记录数量，要使用 count(true)或者 count(非 0)
db.user.find().limit(20).skip(10).count(true);

// 1为升序，-1为降序
&gt; db.user.find().sort(&#123;&quot;age&quot;: -1&#125;);
&#123; &quot;_id&quot; : 4, &quot;name&quot; : &quot;WangWu&quot;, &quot;age&quot; : 32, &quot;addr&quot; : &quot;ShangHai&quot; &#125;
&#123; &quot;_id&quot; : 3, &quot;name&quot; : &quot;LaoWan&quot;, &quot;age&quot; : 30, &quot;addr&quot; : &quot;BeiJing&quot; &#125;
&#123; &quot;_id&quot; : 5, &quot;name&quot; : &quot;ZhaoSi&quot;, &quot;age&quot; : 28, &quot;addr&quot; : &quot;ShenZhen&quot; &#125;
&#123; &quot;_id&quot; : 2, &quot;name&quot; : &quot;XiaoMing&quot;, &quot;age&quot; : 27, &quot;addr&quot; : &quot;GuangZhou&quot; &#125;
&#123; &quot;_id&quot; : 1, &quot;name&quot; : &quot;ZhangSan&quot;, &quot;age&quot; : 25, &quot;addr&quot; : &quot;ShenZhen&quot; &#125;
&#123; &quot;_id&quot; : 6, &quot;name&quot; : &quot;LiSi&quot;, &quot;age&quot; : 20, &quot;addr&quot; : &quot;HangZhou&quot; &#125;

&gt; db.user.distinct(&#39;age&#39;, &#123; &#39;age&#39;:&#123;&#39;$gte&#39;:25 &#125; &#125; )
[ 25, 27, 28, 30, 32 ]

// 将查询结构放到数组中
&gt; db.user.find().toArray();
[
        &#123;
                &quot;_id&quot; : 1,
                &quot;name&quot; : &quot;ZhangSan&quot;,
                &quot;age&quot; : 25,
                &quot;addr&quot; : &quot;ShenZhen&quot;
        &#125;,
        &#123;
                &quot;_id&quot; : 2,
                &quot;name&quot; : &quot;XiaoMing&quot;,
                &quot;age&quot; : 27,
                &quot;addr&quot; : &quot;GuangZhou&quot;
        &#125;,
        &#123;
                &quot;_id&quot; : 3,
                &quot;name&quot; : &quot;LaoWan&quot;,
                &quot;age&quot; : 30,
                &quot;addr&quot; : &quot;BeiJing&quot;
        &#125;,
        &#123;
                &quot;_id&quot; : 4,
                &quot;name&quot; : &quot;WangWu&quot;,
                &quot;age&quot; : 32,
                &quot;addr&quot; : &quot;ShangHai&quot;
        &#125;,
        &#123;
                &quot;_id&quot; : 5,
                &quot;name&quot; : &quot;ZhaoSi&quot;,
                &quot;age&quot; : 28,
                &quot;addr&quot; : &quot;ShenZhen&quot;
        &#125;,
        &#123;
                &quot;_id&quot; : 6,
                &quot;name&quot; : &quot;LiSi&quot;,
                &quot;age&quot; : 20,
                &quot;addr&quot; : &quot;HangZhou&quot;
        &#125;
]
</code></pre>
<h2 id="06、聚合查询"><a href="#06、聚合查询" class="headerlink" title="06、聚合查询"></a>06、聚合查询</h2><blockquote>
<p>参考：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhoujie/p/mongo1.html">https://www.cnblogs.com/zhoujie/p/mongo1.html</a></p>
</blockquote>
<p>MongoDB聚合框架(Aggregation Framework)是一个计算框架，它可以：</p>
<ol>
<li>可作用在一个 或 几个集合上</li>
<li>对集合中的数据进行一系列的运算</li>
<li>可将数据转化为所期望数据形式，如（数学计算，统计，类型，格式处理等）</li>
</ol>
<p>对效果而言，聚合查询相录于传统SQL查询中的，ORDER BY，GROUP BY，LIMIT，LEFT OUTER JOIN，AS等！</p>
<ul>
<li>聚合查询对照：（MongoDB 与 传统数据库 比对）</li>
</ul>
<table>
<thead>
<tr>
<th>步骤</th>
<th>作用</th>
<th>SQL等价运算符</th>
</tr>
</thead>
<tbody><tr>
<td>$match</td>
<td>过滤</td>
<td>where &#x2F; having</td>
</tr>
<tr>
<td>$group</td>
<td>分组</td>
<td>group by</td>
</tr>
<tr>
<td>$project</td>
<td>投影（别名）</td>
<td>as</td>
</tr>
<tr>
<td>$limit</td>
<td>结果限制</td>
<td>limit</td>
</tr>
<tr>
<td>$skip</td>
<td>结果限制</td>
<td>skip</td>
</tr>
<tr>
<td>$sort</td>
<td>排序</td>
<td>order by</td>
</tr>
<tr>
<td>$lookup</td>
<td>左外连接(多表操作)</td>
<td>left outer join</td>
</tr>
<tr>
<td>$graphLookup</td>
<td>图搜索</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>$facet</td>
<td>分面搜索</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>$bucket</td>
<td>分面搜索</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>$unwind</td>
<td>展开数组</td>
<td>N&#x2F;A</td>
</tr>
</tbody></table>
<blockquote>
<p><strong>Aggregate简介</strong></p>
</blockquote>
<p><strong>db.collection.aggregate()</strong> 是基于数据处理的聚合管道，每个文档通过一个由多个阶段（stage）组成的管道，可以对每个阶段的管道进行分组、过滤等功能，然后经过一系列的处理，输出相应的结果。</p>
<p>通过这张图，可以了解<strong>Aggregate</strong>处理的过程：</p>
<p><img src="https://gitee.com/liusuixing/blog_images/raw/master/20201212120353.png"></p>
<pre><code class="javascript">db.user.aggregate([
    &#123; $match : &#123; age : 20 &#125; &#125;,                             ==》$match stage
    &#123; $group: &#123; _id:  &#39;$addr&#39;, total: &#123; $sum: &#39;$age&#39; &#125; &#125; &#125; ==》$group stage
])
====================================================================
&#123; &quot;_id&quot; : 1, &quot;name&quot; : &quot;ZhangSan&quot;, &quot;age&quot; : 25, &quot;addr&quot; : &quot;ShenZhen&quot; &#125;
&#123; &quot;_id&quot; : 2, &quot;name&quot; : &quot;XiaoMing&quot;, &quot;age&quot; : 27, &quot;addr&quot; : &quot;ShenZhen&quot; &#125;
&#123; &quot;_id&quot; : 3, &quot;name&quot; : &quot;LaoWan&quot;, &quot;age&quot; : 30, &quot;addr&quot; : &quot;BeiJing&quot; &#125;
&#123; &quot;_id&quot; : 4, &quot;name&quot; : &quot;WangWu&quot;, &quot;age&quot; : 32, &quot;addr&quot; : &quot;ShangHai&quot; &#125;
&#123; &quot;_id&quot; : 5, &quot;name&quot; : &quot;ZhaoSi&quot;, &quot;age&quot; : 28, &quot;addr&quot; : &quot;GuangZhou&quot; &#125;
&#123; &quot;_id&quot; : 6, &quot;name&quot; : &quot;LiSi&quot;, &quot;age&quot; : 30, &quot;addr&quot; : &quot;HangZhou&quot; &#125;
&#123; &quot;_id&quot; : 7, &quot;name&quot; : &quot;KaiFa&quot;, &quot;age&quot; : 20, &quot;addr&quot; : &quot;HangZhou&quot; &#125;
&#123; &quot;_id&quot; : 8, &quot;name&quot; : &quot;QianDuan&quot;, &quot;age&quot; : 40, &quot;addr&quot; : &quot;HangZhou&quot; &#125;
&#123; &quot;_id&quot; : 9, &quot;name&quot; : &quot;YunWei&quot;, &quot;age&quot; : 20, &quot;addr&quot; : &quot;GuangZhou&quot; &#125;
&#123; &quot;_id&quot; : 10, &quot;name&quot; : &quot;CeSi&quot;, &quot;age&quot; : 20, &quot;addr&quot; : &quot;GuangZhou&quot; &#125;
===================================================================
                       ⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇
                           $match
                       ⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇
====================================================================  
&#123; &quot;_id&quot; : 7, &quot;name&quot; : &quot;KaiFa&quot;, &quot;age&quot; : 20, &quot;addr&quot; : &quot;HangZhou&quot; &#125;
&#123; &quot;_id&quot; : 9, &quot;name&quot; : &quot;YunWei&quot;, &quot;age&quot; : 20, &quot;addr&quot; : &quot;GuangZhou&quot; &#125;
&#123; &quot;_id&quot; : 10, &quot;name&quot; : &quot;CeSi&quot;, &quot;age&quot; : 20, &quot;addr&quot; : &quot;GuangZhou&quot; &#125;
====================================================================
                       ⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇
                           $group
                       ⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇
===========================Results==================================
&#123; &quot;_id&quot; : &quot;HangZhou&quot;, &quot;total&quot; : 20 &#125;
&#123; &quot;_id&quot; : &quot;GuangZhou&quot;, &quot;total&quot; : 40 &#125;
===========================Results==================================
</code></pre>
<p>1、db.collection.aggregate() 可以用多个构件创建一个管道，对于一连串的文档进行处理。这些构件包括：筛选操作的match、映射操作的project、分组操作的group、排序操作的sort、限制操作的limit、和跳过操作的skip。<br>2、db.collection.aggregate()使用了MongoDB内置的原生操作，聚合效率非常高，支持类似于SQL Group By操作的功能，而不再需要用户编写自定义的JavaScript例程。<br>3、 每个阶段管道限制为100MB的内存。如果一个节点管道超过这个极限,MongoDB将产生一个错误。为了能够在处理大型数据集,可以设置allowDiskUse为true来在聚合管道节点把数据写入临时文件。这样就可以解决100MB的内存的限制。<br>4、db.collection.aggregate()可以作用在分片集合，但结果不能输在分片集合，MapReduce可以 作用在分片集合，结果也可以输在分片集合。<br>5、db.collection.aggregate()方法可以返回一个指针（cursor），数据放在内存中，直接操作。跟Mongo shell 一样指针操作。<br>6、db.collection.aggregate()输出的结果只能保存在一个文档中，BSON Document大小限制为16M。可以通过返回指针解决，版本2.6中后面：DB.collect.aggregate()方法返回一个指针，可以返回任何结果集的大小。</p>
<blockquote>
<p><strong>Aggregate语法</strong></p>
</blockquote>
<pre><code class="javascript">db.collection.aggregate(pipeline, options)
</code></pre>
<p>参数说明：</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>pipeline</td>
<td>array</td>
<td>一系列数据聚合操作或阶段。详见<a target="_blank" rel="noopener" href="https://docs.mongodb.com/manual/reference/operator/aggregation/">聚合管道操作符</a> 在版本2.6中更改：该方法仍然可以将流水线阶段作为单独的参数接受，而不是作为数组中的元素;但是，如果不将管道指定为数组，则不能指定options参数</td>
</tr>
<tr>
<td>options</td>
<td>document</td>
<td>可选。 aggregate()传递给聚合命令的其他选项。 2.6版中的新增功能：仅当将管道指定为数组时才可用。</td>
</tr>
</tbody></table>
<p><strong>注意：</strong>使用<code>db.collection.aggregate()</code>直接查询会提示错误，但是传一个空数组如<code>db.collection.aggregate([])</code>则不会报错，且会和find一样返回所有文档。</p>
<p>pipeline有很多stage，但这里我只记录我经常用到的几个，如果后续用到再补充。stage详见<a target="_blank" rel="noopener" href="https://docs.mongodb.com/manual/reference/operator/aggregation/group/">官网</a>。</p>
<p>接下来介绍这几个常用的stage</p>
<blockquote>
<p><strong>aggregate常用pipeline stage介绍</strong></p>
</blockquote>
<p>准备测试数据：</p>
<pre><code class="javascript">db.getCollection(&quot;user&quot;).drop()

db.getCollection(&quot;user&quot;).insert([
    &#123; &quot;_id&quot; : 1, &quot;name&quot; : &quot;ZhangSan&quot;, &quot;age&quot; : 25, &quot;addr&quot; : &quot;ShenZhen&quot; &#125;,
    &#123; &quot;_id&quot; : 2, &quot;name&quot; : &quot;XiaoMing&quot;, &quot;age&quot; : 27, &quot;addr&quot; : &quot;ShenZhen&quot; &#125;,
    &#123; &quot;_id&quot; : 3, &quot;name&quot; : &quot;LaoWan&quot;, &quot;age&quot; : 30, &quot;addr&quot; : &quot;BeiJing&quot; &#125;,
    &#123; &quot;_id&quot; : 4, &quot;name&quot; : &quot;WangWu&quot;, &quot;age&quot; : 32, &quot;addr&quot; : &quot;ShangHai&quot; &#125;,
    &#123; &quot;_id&quot; : 5, &quot;name&quot; : &quot;ZhaoSi&quot;, &quot;age&quot; : 28, &quot;addr&quot; : &quot;GuangZhou&quot; &#125;,
    &#123; &quot;_id&quot; : 6, &quot;name&quot; : &quot;LiSi&quot;, &quot;age&quot; : 30, &quot;addr&quot; : &quot;HangZhou&quot; &#125;,
    &#123; &quot;_id&quot; : 7, &quot;name&quot; : &quot;KaiFa&quot;, &quot;age&quot; : 20, &quot;addr&quot; : &quot;HangZhou&quot; &#125;,
    &#123; &quot;_id&quot; : 8, &quot;name&quot; : &quot;QianDuan&quot;, &quot;age&quot; : 40, &quot;addr&quot; : &quot;HangZhou&quot; &#125;,
    &#123; &quot;_id&quot; : 9, &quot;name&quot; : &quot;YunWei&quot;, &quot;age&quot; : 20, &quot;addr&quot; : &quot;GuangZhou&quot; &#125;,
    &#123; &quot;_id&quot; : 10, &quot;name&quot; : &quot;CeSi&quot;, &quot;age&quot; : 20, &quot;addr&quot; : &quot;GuangZhou&quot; &#125;
])
</code></pre>
<p>操作示例：**$match、$count、$limit、$skip、$sort、$project**</p>
<pre><code class="javascript">// 执行：
// 1）$match 阶段排除age小于等于80的文档，将大于80的文档传到下个阶段
// 2）$count阶段返回聚合管道中剩余文档的计数，并将该值分配给名为age_count的字段。
&gt; db.getCollection(&quot;user&quot;).aggregate([
    &#123; $match : &#123; age : &#123; $gt: 25&#125; &#125; &#125;,
    &#123; $count : &quot;age_count&quot; &#125;
])
&#123; &quot;age_count&quot; : 6 &#125;


// 1.$skip和$limit 查询6-10条数据
// 2.首先按照age降序排序，然后按照_id降序排序
// 3.给name、age、addr 字段取别名
&gt; db.getCollection(&quot;user&quot;).aggregate([
    &#123; $skip : 5 &#125;,
    &#123; $limit : 9 &#125;,
    &#123; $sort : &#123; age : -1 , _id : -1&#125;&#125;,
    &#123; $project : &#123;
        &#39;姓名&#39;: &#39;$name&#39;,
        &#39;年龄&#39;: &#39;$age&#39;,
        &#39;地址&#39;: &#39;$addr&#39;
    &#125;&#125; 
])
&#123; &quot;_id&quot; : 8, &quot;姓名&quot; : &quot;QianDuan&quot;, &quot;年龄&quot; : 40, &quot;地址&quot; : &quot;HangZhou&quot; &#125;
&#123; &quot;_id&quot; : 6, &quot;姓名&quot; : &quot;LiSi&quot;, &quot;年龄&quot; : 30, &quot;地址&quot; : &quot;HangZhou&quot; &#125;
&#123; &quot;_id&quot; : 10, &quot;姓名&quot; : &quot;CeSi&quot;, &quot;年龄&quot; : 20, &quot;地址&quot; : &quot;GuangZhou&quot; &#125;
&#123; &quot;_id&quot; : 9, &quot;姓名&quot; : &quot;YunWei&quot;, &quot;年龄&quot; : 20, &quot;地址&quot; : &quot;GuangZhou&quot; &#125;
&#123; &quot;_id&quot; : 7, &quot;姓名&quot; : &quot;KaiFa&quot;, &quot;年龄&quot; : 20, &quot;地址&quot; : &quot;HangZhou&quot; &#125;
</code></pre>
<blockquote>
<p> 聚合分组（**$group**）的表达式：</p>
</blockquote>
<p>语法：</p>
<pre><code class="javascript">&#123; 
    $group: 
    &#123; 
        _id: &lt;expression&gt;, 
        &lt;field1&gt;: &#123; 
            &lt;accumulator1&gt; : &lt;expression1&gt; 
        &#125;,
        &lt;field2&gt;: &#123; 
            &lt;accumulator2&gt; : &lt;expression2&gt; 
        &#125;,
        ... 
    &#125; 
&#125;
</code></pre>
<ul>
<li>_id字段是必填的，但是可以指定_id值为null来为整个输入文档计算累计值。</li>
<li>剩余的计算字段是可选的，并使用&lt;accumulator&gt;运算符进行计算。</li>
<li>_id和&lt;accumulator&gt;\表达式可以接受任何有效的<a target="_blank" rel="noopener" href="https://docs.mongodb.com/manual/meta/aggregation-quick-reference/#aggregation-expressions">表达式</a>。</li>
</ul>
<p>示例：</p>
<pre><code class="javascript">[
    &#123;
        $group: &#123;
            _id: &#123;
                addr: &#39;$addr&#39;
            &#125;,
            totalCount: &#123;
                $sum: 1
            &#125;
        &#125;
    &#125;
]
</code></pre>
<ul>
<li><code>$group</code>是固定的，表示这里一个分组聚合操作。</li>
<li><code>_id</code>表示需要根据哪一些列进行聚合，其实一个JSON对象，其key&#x2F;value对分别表示结果列的别名以及需要聚合的的数据库列。</li>
<li><code>totaoCount</code>表示聚合列的列名。</li>
<li><code>$sum</code>表示要进行的聚合操作，后面的1表示每次加1。</li>
</ul>
<p><strong>accumulator操作符</strong></p>
<table>
<thead>
<tr>
<th align="left">表达式</th>
<th align="left">描述</th>
<th align="left">实例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$sum</td>
<td align="left">计算总和。</td>
<td align="left">db.col.aggregate([{$group : {_id : “$by_user”, num_tutorial : {$sum : “$likes”}}}])</td>
</tr>
<tr>
<td align="left">$avg</td>
<td align="left">计算平均值</td>
<td align="left">db.col.aggregate([{$group : {_id : “$by_user”, num_tutorial : {$avg : “$likes”}}}])</td>
</tr>
<tr>
<td align="left">$min</td>
<td align="left">获取集合中所有文档对应值得最小值。</td>
<td align="left">db.col.aggregate([{$group : {_id : “$by_user”, num_tutorial : {$min : “$likes”}}}])</td>
</tr>
<tr>
<td align="left">$max</td>
<td align="left">获取集合中所有文档对应值得最大值。</td>
<td align="left">db.col.aggregate([{$group : {_id : “$by_user”, num_tutorial : {$max : “$likes”}}}])</td>
</tr>
<tr>
<td align="left">$push</td>
<td align="left">在结果文档中插入值到一个数组中。</td>
<td align="left">db.col.aggregate([{$group : {_id : “$by_user”, url : {$push: “$url”}}}])</td>
</tr>
<tr>
<td align="left">$addToSet</td>
<td align="left">在结果文档中插入值到一个数组中，但不创建副本。</td>
<td align="left">db.col.aggregate([{$group : {_id : “$by_user”, url : {$addToSet : “$url”}}}])</td>
</tr>
<tr>
<td align="left">$first</td>
<td align="left">根据资源文档的排序获取第一个文档数据。</td>
<td align="left">db.col.aggregate([{$group : {_id : “$by_user”, first_url : {$first : “$url”}}}])</td>
</tr>
<tr>
<td align="left">$last</td>
<td align="left">根据资源文档的排序获取最后一个文档数据</td>
<td align="left">db.col.aggregate([{$group : {_id : “$by_user”, last_url : {$last : “$url”}}}])</td>
</tr>
</tbody></table>
<p>使用示例：**$sum、$avg、$max、$min、$first、$last**</p>
<pre><code class="javascript">// 地址分组统计：个数、总和、平均数、最大、最小、首个、最后一个
db.getCollection(&quot;user&quot;).aggregate([&#123;
    $group: &#123;
        _id: &#123; userAddr: &#39;$addr&#39; &#125;,
        totalCount: &#123; $sum: 1 &#125;,
        ageSum: &#123; $sum: &#39;$age&#39; &#125;,
        ageAvg: &#123; $avg: &#39;$age&#39; &#125;,
        ageMax: &#123; $max: &#39;$age&#39; &#125;,
        ageMin: &#123; $min: &#39;$age&#39; &#125;,
        ageFirst: &#123; $first: &#39;$age&#39; &#125;,
        ageLast: &#123; $last: &#39;$age&#39; &#125;
    &#125;
&#125;])
// 返回结果
&#123; &quot;_id&quot; : &#123; &quot;userAddr&quot; : &quot;HangZhou&quot; &#125;, &quot;totalCount&quot; : 3, &quot;ageSum&quot; : 90, &quot;ageAvg&quot; : 30, &quot;ageMax&quot; : 40, &quot;ageMin&quot; : 20, &quot;ageFirst&quot; : 30, &quot;ageLast&quot; : 40 &#125;
&#123; &quot;_id&quot; : &#123; &quot;userAddr&quot; : &quot;BeiJing&quot; &#125;, &quot;totalCount&quot; : 1, &quot;ageSum&quot; : 30, &quot;ageAvg&quot; : 30, &quot;ageMax&quot; : 30, &quot;ageMin&quot; : 30, &quot;ageFirst&quot; : 30, &quot;ageLast&quot; : 30 &#125;
&#123; &quot;_id&quot; : &#123; &quot;userAddr&quot; : &quot;ShenZhen&quot; &#125;, &quot;totalCount&quot; : 2, &quot;ageSum&quot; : 52, &quot;ageAvg&quot; : 26, &quot;ageMax&quot; : 27, &quot;ageMin&quot; : 25, &quot;ageFirst&quot; : 25, &quot;ageLast&quot; : 27 &#125;
&#123; &quot;_id&quot; : &#123; &quot;userAddr&quot; : &quot;ShangHai&quot; &#125;, &quot;totalCount&quot; : 1, &quot;ageSum&quot; : 32, &quot;ageAvg&quot; : 32, &quot;ageMax&quot; : 32, &quot;ageMin&quot; : 32, &quot;ageFirst&quot; : 32, &quot;ageLast&quot; : 32 &#125;
&#123; &quot;_id&quot; : &#123; &quot;userAddr&quot; : &quot;GuangZhou&quot; &#125;, &quot;totalCount&quot; : 3, &quot;ageSum&quot; : 68, &quot;ageAvg&quot; : 22.666666666666668, &quot;ageMax&quot; : 28, &quot;ageMin&quot; : 20, &quot;ageFirst&quot; : 28, &quot;ageLast&quot; : 20 &#125;
&gt;    

// 指定组_id为null，计算集合中所有文档的总价格和平均数量以及计数：
db.getCollection(&quot;user&quot;).aggregate([&#123;
    $group: &#123;
        _id: null,
        totalCount: &#123; $sum: 1 &#125;,
        ageSum: &#123; $sum: &#39;$age&#39; &#125;,
        ageAvg: &#123; $avg: &#39;$age&#39; &#125;,
        ageMax: &#123; $max: &#39;$age&#39; &#125;,
        ageMin: &#123; $min: &#39;$age&#39; &#125;,
        ageFirst: &#123; $first: &#39;$age&#39; &#125;,
        ageLast: &#123; $last: &#39;$age&#39; &#125;
    &#125;
&#125;])
// 返回结果
&#123; &quot;_id&quot; : null, &quot;totalCount&quot; : 10, &quot;ageSum&quot; : 272, &quot;ageAvg&quot; : 27.2, &quot;ageMax&quot; : 40, &quot;ageMin&quot; : 20, &quot;ageFirst&quot; : 25, &quot;ageLast&quot; : 20 &#125;
</code></pre>
<p>数据转换：将集合中的数据按addr分组，然后把所有age转换成数组，ages可以自定义，是分组后的列表</p>
<p>使用示例：**$push**</p>
<pre><code class="javascript">db.getCollection(&quot;user&quot;).aggregate([&#123;
    $group: &#123;
        _id: &#123; userAddr: &#39;$addr&#39; &#125;,
        totalCount: &#123; $sum: 1 &#125;,
        ages: &#123; $push: &#39;$age&#39; &#125;
    &#125;
&#125;])
// 返回结果
&#123; &quot;_id&quot; : &#123; &quot;userAddr&quot; : &quot;HangZhou&quot; &#125;, &quot;totalCount&quot; : 3, &quot;ages&quot; : [ 30, 20, 40 ] &#125;
&#123; &quot;_id&quot; : &#123; &quot;userAddr&quot; : &quot;BeiJing&quot; &#125;, &quot;totalCount&quot; : 1, &quot;ages&quot; : [ 30 ] &#125;
&#123; &quot;_id&quot; : &#123; &quot;userAddr&quot; : &quot;ShenZhen&quot; &#125;, &quot;totalCount&quot; : 2, &quot;ages&quot; : [ 25, 27 ] &#125;
&#123; &quot;_id&quot; : &#123; &quot;userAddr&quot; : &quot;ShangHai&quot; &#125;, &quot;totalCount&quot; : 1, &quot;ages&quot; : [ 32 ] &#125;
&#123; &quot;_id&quot; : &#123; &quot;userAddr&quot; : &quot;GuangZhou&quot; &#125;, &quot;totalCount&quot; : 3, &quot;ages&quot; : [ 28, 20, 20 ] &#125;



// 用系统变量$$ROOT按addr对文档进行分组，生成的文档不得超过BSON文档大小限制。
// $$ROOT代表文档本身或者说文档所有字段
db.getCollection(&quot;user&quot;).aggregate([&#123;
    $group: &#123;
        _id: &#123; userAddr: &#39;$addr&#39; &#125;,
        users: &#123; $push: &#39;$$ROOT&#39; &#125;
    &#125;
&#125;])
// 返回结果
&#123; &quot;_id&quot; : &#123; &quot;userAddr&quot; : &quot;HangZhou&quot; &#125;, &quot;users&quot; : [ &#123; &quot;_id&quot; : 6, &quot;name&quot; : &quot;LiSi&quot;, &quot;age&quot; : 30, &quot;addr&quot; : &quot;HangZhou&quot; &#125;, &#123; &quot;_id&quot; : 7, &quot;name&quot; : &quot;KaiFa&quot;, &quot;age&quot; : 20, &quot;addr&quot; : &quot;HangZhou&quot; &#125;, &#123; &quot;_id&quot; : 8, &quot;name&quot; : &quot;QianDuan&quot;, &quot;age&quot; : 40, &quot;addr&quot; : &quot;HangZhou&quot; &#125; ] &#125;
&#123; &quot;_id&quot; : &#123; &quot;userAddr&quot; : &quot;BeiJing&quot; &#125;, &quot;users&quot; : [ &#123; &quot;_id&quot; : 3, &quot;name&quot; : &quot;LaoWan&quot;, &quot;age&quot; : 30, &quot;addr&quot; : &quot;BeiJing&quot; &#125; ] &#125;
&#123; &quot;_id&quot; : &#123; &quot;userAddr&quot; : &quot;ShenZhen&quot; &#125;, &quot;users&quot; : [ &#123; &quot;_id&quot; : 1, &quot;name&quot; : &quot;ZhangSan&quot;, &quot;age&quot; : 25, &quot;addr&quot; : &quot;ShenZhen&quot; &#125;, &#123; &quot;_id&quot; : 2, &quot;name&quot; : &quot;XiaoMing&quot;, &quot;age&quot; : 27, &quot;addr&quot; : &quot;ShenZhen&quot; &#125; ] &#125;
&#123; &quot;_id&quot; : &#123; &quot;userAddr&quot; : &quot;ShangHai&quot; &#125;, &quot;users&quot; : [ &#123; &quot;_id&quot; : 4, &quot;name&quot; : &quot;WangWu&quot;, &quot;age&quot; : 32, &quot;addr&quot; : &quot;ShangHai&quot; &#125; ] &#125;
&#123; &quot;_id&quot; : &#123; &quot;userAddr&quot; : &quot;GuangZhou&quot; &#125;, &quot;users&quot; : [ &#123; &quot;_id&quot; : 5, &quot;name&quot; : &quot;ZhaoSi&quot;, &quot;age&quot; : 28, &quot;addr&quot; : &quot;GuangZhou&quot; &#125;, &#123; &quot;_id&quot; : 9, &quot;name&quot; : &quot;YunWei&quot;, &quot;age&quot; : 20, &quot;addr&quot; : &quot;GuangZhou&quot; &#125;, &#123; &quot;_id&quot; : 10, &quot;name&quot; : &quot;CeSi&quot;, &quot;age&quot; : 20, &quot;addr&quot; : &quot;GuangZhou&quot; &#125; ] &#125;
</code></pre>
<blockquote>
<p><strong>$match + $group</strong></p>
</blockquote>
<p>使用示例：</p>
<pre><code class="javascript">// 单独使用 $match
db.getCollection(&quot;user&quot;).aggregate([
    &#123; $match : &#123; age : &#123; $gt: 20, $lt: 30&#125;   &#125; &#125;
])
&#123; &quot;_id&quot; : 1, &quot;name&quot; : &quot;ZhangSan&quot;, &quot;age&quot; : 25, &quot;addr&quot; : &quot;ShenZhen&quot; &#125;
&#123; &quot;_id&quot; : 2, &quot;name&quot; : &quot;XiaoMing&quot;, &quot;age&quot; : 27, &quot;addr&quot; : &quot;ShenZhen&quot; &#125;
&#123; &quot;_id&quot; : 5, &quot;name&quot; : &quot;ZhaoSi&quot;, &quot;age&quot; : 28, &quot;addr&quot; : &quot;GuangZhou&quot; &#125;


// 使用 $match + $group
db.getCollection(&quot;user&quot;).aggregate([
    &#123; $match : &#123; age : &#123; $gt: 20, $lt: 30&#125;   &#125; &#125;,
        &#123;
        $group: &#123;
            _id: &#123; userAddr: &#39;$addr&#39; &#125;,
            totalCount: &#123; $sum: 1 &#125;
        &#125;
    &#125;
])
&#123; &quot;_id&quot; : &#123; &quot;userAddr&quot; : &quot;ShenZhen&quot; &#125;, &quot;totalCount&quot; : 2 &#125;
&#123; &quot;_id&quot; : &#123; &quot;userAddr&quot; : &quot;GuangZhou&quot; &#125;, &quot;totalCount&quot; : 1 &#125;
</code></pre>
<blockquote>
<p><strong>注意：</strong>$match 必须使用在 $group 之前</p>
</blockquote>
<h1 id="索引操作-Index"><a href="#索引操作-Index" class="headerlink" title="索引操作-Index"></a>索引操作-Index</h1><h2 id="01、索引介绍"><a href="#01、索引介绍" class="headerlink" title="01、索引介绍"></a>01、索引介绍</h2><p>索引的作用是为了提升查询效率，在查询操作中，如果没有索引，MongoDB会扫描集合中的每个文档，以选择与查询语句匹配的文档。如果查询条件带有索引，MongoDB 将扫描索引， 通过索引确定要查询的部分文档，而非直接对全部文档进行扫描。</p>
<p>索引可以提升文档的查询速度，但建立索引的过程需要使用计算与存储资源，在已经建立索引的前提下，插入新的文档会引起索引顺序的重排。</p>
<p>索引就像图书的目录一样，可以让我们快速定位到需要的内容，关系型数据库中有索引，NoSQL 中当然也有，本文我们就先来简单介绍下 MongoDB 中的索引。</p>
<p>MongoDB 的索引是基于 B-tree 数据结构及对应算法形成的。树索引存储特定字段或字段集的值，按字段值排序。索引条目的排序支持有效的等式匹配和基于范围的查询操作。</p>
<h2 id="02、创建索引"><a href="#02、创建索引" class="headerlink" title="02、创建索引"></a>02、创建索引</h2><ul>
<li>**db.collection.createIndex(keys, options)**：创建集合索引</li>
</ul>
<p>参数说明：</p>
<p><strong>keys</strong>：对象参数为 1 表示正序建立索引，-1 表示逆序建立索引。如果添加多个属性为联合索引</p>
<p><strong>options</strong>：可选属性如下：</p>
<table>
<thead>
<tr>
<th align="left">Parameter</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">background</td>
<td align="left">Boolean</td>
<td align="left">建索引过程会阻塞其它数据库操作，background可指定以后台方式创建索引，即增加 “background” 可选参数。 “background” 默认值为<strong>false</strong>。</td>
</tr>
<tr>
<td align="left">unique</td>
<td align="left">Boolean</td>
<td align="left">建立的索引是否唯一。指定为true创建唯一索引。默认值为<strong>false</strong>.</td>
</tr>
<tr>
<td align="left">name</td>
<td align="left">string</td>
<td align="left">索引的名称。如果未指定，MongoDB的通过连接索引的字段名和排序顺序生成一个索引名称。</td>
</tr>
<tr>
<td align="left">dropDups</td>
<td align="left">Boolean</td>
<td align="left"><strong>3.0+版本已废弃。</strong>在建立唯一索引时是否删除重复记录,指定 true 创建唯一索引。默认值为 <strong>false</strong>.</td>
</tr>
<tr>
<td align="left">sparse</td>
<td align="left">Boolean</td>
<td align="left">对文档中不存在的字段数据不启用索引；这个参数需要特别注意，如果设置为true的话，在索引字段中不会查询出不包含对应字段的文档.。默认值为 <strong>false</strong>.</td>
</tr>
<tr>
<td align="left">expireAfterSeconds</td>
<td align="left">integer</td>
<td align="left">指定一个以秒为单位的数值，完成 TTL设定，设定集合的生存时间。</td>
</tr>
<tr>
<td align="left">v</td>
<td align="left">index version</td>
<td align="left">索引的版本号。默认的索引版本取决于mongod创建索引时运行的版本。</td>
</tr>
<tr>
<td align="left">weights</td>
<td align="left">document</td>
<td align="left">索引权重值，数值在 1 到 99,999 之间，表示该索引相对于其他索引字段的得分权重。</td>
</tr>
<tr>
<td align="left">default_language</td>
<td align="left">string</td>
<td align="left">对于文本索引，该参数决定了停用词及词干和词器的规则的列表。 默认为英语</td>
</tr>
<tr>
<td align="left">language_override</td>
<td align="left">string</td>
<td align="left">对于文本索引，该参数指定了包含在文档中的字段名，语言覆盖默认的language，默认值为 language.</td>
</tr>
</tbody></table>
<p>使用示例：</p>
<pre><code class="javascript">// 唯一索引
&gt; db.user.createIndex(&#123;name:1&#125;)
&#123;
    &quot;createdCollectionAutomatically&quot; : false,
    &quot;numIndexesBefore&quot; : 1,
    &quot;numIndexesAfter&quot; : 2,
    &quot;ok&quot; : 1
&#125;

// 复合索引
&gt; db.user.createIndex(&#123;name:1, addr:1&#125;)
&#123;
    &quot;createdCollectionAutomatically&quot; : false,
    &quot;numIndexesBefore&quot; : 2,
    &quot;numIndexesAfter&quot; : 3,
    &quot;ok&quot; : 1
&#125;
</code></pre>
<h2 id="03、查看索引"><a href="#03、查看索引" class="headerlink" title="03、查看索引"></a>03、查看索引</h2><ul>
<li>**db.collection.getIndexes()**：查看集合索引</li>
<li>**db.collection.totalIndexSize()**：查看集合索引大小</li>
</ul>
<pre><code class="javascript">// 查看user集合索引大小
&gt; db.user.totalIndexSize()
61440

// 查看user集合索引
&gt; db.user.getIndexes()
[
    &#123;
        &quot;v&quot; : 2,
        &quot;key&quot; : &#123;
            &quot;_id&quot; : 1
        &#125;,
        &quot;name&quot; : &quot;_id_&quot;
    &#125;,
    &#123;
        &quot;v&quot; : 2,
        &quot;key&quot; : &#123;
            &quot;name&quot; : 1,
            &quot;addr&quot; : 1
        &#125;,
        &quot;name&quot; : &quot;name_1_addr_1&quot;
    &#125;,
    &#123;
        &quot;v&quot; : 2,
        &quot;key&quot; : &#123;
            &quot;name&quot; : 1
        &#125;,
        &quot;name&quot; : &quot;name_1&quot;
    &#125;
]
</code></pre>
<h2 id="04、删除索引"><a href="#04、删除索引" class="headerlink" title="04、删除索引"></a>04、删除索引</h2><ul>
<li><p>**db.collection.dropIndexes()**：删除集合中所有索引（除了_id字段外）</p>
</li>
<li><p>**db.collection.dropIndex({‘索引名称’})**：删除集合指定索引（升序降序不能错）</p>
</li>
</ul>
<pre><code class="javascript">// 删除所有索引，只会删除除了_id以外的所有索引
&gt; db.user.dropIndexes()
&#123;
    &quot;nIndexesWas&quot; : 3,
    &quot;msg&quot; : &quot;non-_id indexes dropped for collection&quot;,
    &quot;ok&quot; : 1
&#125;

// 删除name字段的索引，升序降序不能错，如果为-1，则提示无索引
&gt; db.user.dropIndex(&#123;name:1&#125;)
&#123; &quot;nIndexesWas&quot; : 3, &quot;ok&quot; : 1 &#125;
</code></pre>
<h2 id="05、索引的类型"><a href="#05、索引的类型" class="headerlink" title="05、索引的类型"></a>05、索引的类型</h2><p> MongoDB主要支持以下几种索引类型：</p>
<p>MongoDB的索引使用，首先准备数据：</p>
<pre><code class="javascript">db.userinfos.insertMany([
   &#123;_id:1, name: &quot;张三&quot;, age: 23,level:10, ename: &#123; firstname: &quot;san&quot;, lastname: &quot;zhang&quot;&#125;, roles: [&quot;vip&quot;,&quot;gen&quot; ]&#125;,
   &#123;_id:2, name: &quot;李四&quot;, age: 24,level:20, ename: &#123; firstname: &quot;si&quot;, lastname: &quot;li&quot;&#125;, roles:[ &quot;vip&quot; ]&#125;,
   &#123;_id:3, name: &quot;王五&quot;, age: 25,level:30, ename: &#123; firstname: &quot;wu&quot;, lastname: &quot;wang&quot;&#125;, roles: [&quot;gen&quot;,&quot;vip&quot; ]&#125;,
   &#123;_id:4, name: &quot;赵六&quot;, age: 26,level:40, ename: &#123; firstname: &quot;liu&quot;, lastname: &quot;zhao&quot;&#125;, roles: [&quot;gen&quot;] &#125;,
   &#123;_id:5, name: &quot;田七&quot;, age: 27, ename: &#123; firstname: &quot;qi&quot;, lastname: &quot;tian&quot;&#125;, address:&#39;北京&#39; &#125;,
   &#123;_id:6, name: &quot;周八&quot;, age: 28,roles:[&quot;gen&quot;], address:&#39;上海&#39; &#125;
]);
</code></pre>
<h3 id="1、单键索引"><a href="#1、单键索引" class="headerlink" title="1、单键索引"></a>1、单键索引</h3><p>单键索引（Single Field Indexes）顾名思义就是单个字段作为索引列，默认情况下MongoDB都会帮助我们创建一个名为<code>_id</code>的字段，这个字段就是一个索引，我们也可以对一些经常作为过滤条件的字段设置索引，如：给age字段添加一个索引</p>
<pre><code class="javascript">// 给age字段添加升序索引
db.userinfos.createIndex(&#123;age:1&#125;)
</code></pre>
<p>其中 {age:1} 中的1表示升序，如果想设置倒序索引的话使用：<code>db.userinfos.createIndex(&#123;age:-1&#125;)</code> 即可。我们通过explain()方法查看查询计划，如下图，看到查询：age&#x3D;23的document时使用了索引，如果没有使用索引的话stage&#x3D;COLLSCAN。</p>
<p><img src="https://gitee.com/liusuixing/blog_images/raw/master/20201212120356.png"></p>
<p>因为document的存储是bson格式的，我们也可以给内置对象的字段添加索引，或者将整个内置对象作为一个索引，语法如下：</p>
<pre><code class="javascript">//1.内嵌对象的某一字段作为索引
//在ename.firstname字段上添加索引
db.userinfos.createIndex(&#123;&quot;ename.firstname&quot;:1&#125;)
//使用ename.firstname字段的索引查询
db.userinfos.find(&#123;&quot;ename.firstname&quot;:&quot;san&quot;&#125;)

//2.整个内嵌对象作为索引
//给整个ename字段添加索引
db.userinfos.dropIndexes()
//使用ename字段的索引查询
db.userinfos.createIndex(&#123;&quot;ename&quot;:1&#125;)
</code></pre>
<h3 id="2、复合索引"><a href="#2、复合索引" class="headerlink" title="2、复合索引"></a>2、复合索引</h3><p>复合索引（Compound Indexes）指一个索引包含多个字段，用法和单键索引基本一致。使用复合索引时要注意字段的顺序，如下添加一个name和age的复合索引，name正序，age倒序，document首先按照name正序排序，然后name相同的document按age进行倒序排序。mongoDB中一个复合索引<strong>最多</strong>可以包含<strong>32</strong>个字段。</p>
<pre><code class="javascript">// 添加复合索引，name正序，age倒序
db.userinfos.createIndex(&#123;&quot;name&quot;:1,&quot;age&quot;:-1&#125;) 

// 过滤条件为name，或包含name的查询会使用索引(索引的第一个字段)
db.userinfos.find(&#123;name:&#39;张三&#39;&#125;).explain()
db.userinfos.find(&#123;name:&quot;张三&quot;,level:10&#125;).explain()
db.userinfos.find(&#123;name:&quot;张三&quot;,age:23&#125;).explain()

// 查询条件为age时，不会使用上边创建的索引,而是使用的全表扫描
db.userinfos.find(&#123;age:23&#125;).explain()
</code></pre>
<p>执行查询时查询计划如下：</p>
<p><img src="https://gitee.com/liusuixing/blog_images/raw/master/20201212120357.png"></p>
<h3 id="3、多键索引"><a href="#3、多键索引" class="headerlink" title="3、多键索引"></a>3、多键索引</h3><p>多键索引（mutiKey Indexes）是建在数组上的索引，在MongoDB的ocument中，有些字段的值为数组，多键索引就是为了提高查询这些数组的效率。看一个栗子：准备测试数据，classes集合中添加两个班级，每个班级都有一个students数组，如下：</p>
<pre><code class="javascript">db.classes.insertMany([
     &#123;
         &quot;classname&quot;:&quot;class1&quot;,
         &quot;students&quot;:[&#123;name:&#39;jack&#39;,age:20&#125;,
                    &#123;name:&#39;tom&#39;,age:22&#125;,
                    &#123;name:&#39;lilei&#39;,age:25&#125;]
      &#125;,
      &#123;
         &quot;classname&quot;:&quot;class2&quot;,
         &quot;students&quot;:[&#123;name:&#39;lucy&#39;,age:20&#125;,
                    &#123;name:&#39;jim&#39;,age:23&#125;,
                    &#123;name:&#39;jarry&#39;,age:26&#125;]
      &#125;]
  )
</code></pre>
<p>为了提高查询students的效率，我们给students的age字段添加索引</p>
<pre><code class="javascript">// 给students数组中的age字段添加索引
db.classes.createIndex(&#123;&#39;students.age&#39;:1&#125;)
// 查询条件时student.age时，使用索引
db.classes.find(&#123;&#39;students.age&#39;:20&#125;).explain()
</code></pre>
<p><img src="https://gitee.com/liusuixing/blog_images/raw/master/20201212120358.png"></p>
<h3 id="4、哈希索引"><a href="#4、哈希索引" class="headerlink" title="4、哈希索引"></a>4、哈希索引</h3><p>哈希索引（hashed Indexes）就是将 field 的值进行 hash 计算后作为索引，散列索引只能用于字段完全匹配的查询，不能用于范围查询等，对于经常需要排序或查询范围查询的集合不要使用哈希索引。</p>
<pre><code class="javascript">// 再userinfos的name字段创建哈希索引
db.collection.createlndex( &#123; _id : &quot;hashed&quot; &#125;)
// 查询条件时name时，使用索引
db.userinfos.find(&#123;&#39;name&#39;:&#39;张三&#39;&#125;).explain()
</code></pre>
<p><img src="https://gitee.com/liusuixing/blog_images/raw/master/20201212120359.png"></p>
<p>MongoDB 支持散列任何单个字段的索引，但是不支持多键（即数组）索引。需要说明的是，MongoDB 在进行散列索引之前，需要将浮点数截断为 64 位整数。例如，散列将对 2.3、2.2 和 2.9 这些值产生同样的返回值。</p>
<h3 id="5、全文索引"><a href="#5、全文索引" class="headerlink" title="5、全文索引"></a>5、全文索引</h3><blockquote>
<p>参考：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/xibuhaohao/p/12049143.html">https://www.cnblogs.com/xibuhaohao/p/12049143.html</a></p>
<p>一般全文索引可以用：elasticsearch、solr、lucene</p>
</blockquote>
<h3 id="6、地理空间索引"><a href="#6、地理空间索引" class="headerlink" title="6、地理空间索引"></a>6、地理空间索引</h3><p>地理空间索引类型：<strong>地理空间索引可以分为两类：</strong></p>
<p>1、<strong>2d索引</strong>，可以用来存储和查找平面上的点。<br>2、<strong>2d sphere索引</strong>，可以用来存储和查找球面上的点。</p>
<h2 id="06、索引的属性"><a href="#06、索引的属性" class="headerlink" title="06、索引的属性"></a>06、索引的属性</h2><h3 id="1、唯一索引"><a href="#1、唯一索引" class="headerlink" title="1、唯一索引"></a>1、唯一索引</h3><p>唯一索引（unique indexes）用于为 Collection 添加唯一约束，即强制要求 Collection中 的索引字段没有重复值。</p>
<p>添加唯一索引的语法：</p>
<pre><code class="javascript">// 在userinfos的name字段添加唯一索引
db.userinfos.createIndex(&#123;name:1&#125;,&#123;unique:true&#125;)
</code></pre>
<p>看一个使用唯一索引的栗子：</p>
<p><img src="https://gitee.com/liusuixing/blog_images/raw/master/20201212120360.png"></p>
<h3 id="2、局部索引"><a href="#2、局部索引" class="headerlink" title="2、局部索引"></a>2、局部索引</h3><p>局部索引（Partial Indexes）顾名思义，只对 Collection 的一部分添加索引。创建索引的时候，根据过滤条件判断是否对 Document 添加索引，对于没有添加索引的文档查找时采用的全表扫描，对添加了索引的文档查找时使用索引。使用方法也比较简单：</p>
<pre><code class="javascript">//userinfos集合中age&gt;25的部分添加age字段索引
db.userinfos.createIndex(
    &#123; age:1 &#125;,
    &#123; partialFilterExpression: &#123;age:&#123;$gt: 25 &#125;&#125;&#125;
)

//查询age&lt;25的document时，因为age&lt;25的部分没有索引，会全表扫描查找(stage:COLLSCAN)
db.userinfos.find(&#123;age:23&#125;)

//查询age&gt;25的document时，因为age&gt;25的部分创建了索引，会使用索引进行查找(stage:IXSCAN)
db.userinfos.find(&#123;age:26&#125;)
</code></pre>
<p>当查询 age&#x3D;23 的记录时，stage&#x3D;COLLSCAN，当查询age&#x3D;26的记录时，使用了索引，如下：</p>
<p><img src="https://gitee.com/liusuixing/blog_images/raw/master/20201212120361.png"></p>
<h3 id="3、稀疏索引"><a href="#3、稀疏索引" class="headerlink" title="3、稀疏索引"></a>3、稀疏索引</h3><p>稀疏索引（sparse indexes）在有索引字段的 Document 上添加索引，如在 address 字段上添加稀疏索引时，只有 Document 有address 字段时才会添加索引。而普通索引则是为所有的 Document 添加索引，使用普通索引时如果 Document 没有索引字段的话，设置索引字段的值为null。</p>
<p>稀疏索引的创建方式如下，当Document包含address字段时才会创建索引：</p>
<pre><code class="javascript">// 创建在address上创建稀疏索引
db.userinfos.createIndex(&#123;address:1&#125;,&#123;sparse:true&#125;)
</code></pre>
<p>看一个使用稀疏索引的栗子：</p>
<p><img src="https://gitee.com/liusuixing/blog_images/raw/master/20201212120362.png"></p>
<h3 id="4、过期索引-TTL"><a href="#4、过期索引-TTL" class="headerlink" title="4、过期索引-TTL"></a>4、过期索引-TTL</h3><p>TTL索引（TTL indexes）是一种特殊的单键索引，用于设置 Document 的过期时间，MongoDB 会在 Document 过期后将其删除，TTL非常容易实现类似缓存过期策略的功能。我们看一个使用TTL索引的栗子：</p>
<pre><code class="javascript">// 添加测试数据
db.logs.insertMany([
    &#123;_id:1,createtime:new Date(),msg:&quot;log1&quot;&#125;,
    &#123;_id:2,createtime:new Date(),msg:&quot;log2&quot;&#125;,
    &#123;_id:3,createtime:new Date(),msg:&quot;log3&quot;&#125;,
    &#123;_id:4,createtime:new Date(),msg:&quot;log4&quot;&#125;
])

// 在createtime字段添加TTL索引，过期时间是120s
db.logs.createIndex(&#123;createtime:1&#125;, &#123; expireAfterSeconds: 120 &#125;)


// logs中的document在创建后的120s后过期，会被mongoDB自动删除
db.logs.insert( &#123; _id: 5, createtime: new Date(), msg:&quot;log5&quot; &#125; )
</code></pre>
<p>注意：TTL索引只能设置在date类型字段（或者包含date类型的数组）上，过期时间为字段值 + exprireAfterSeconds；document过期时不一定就会被立即删除，因为MongoDB执行删除任务的时间间隔是60s；capped Collection不能设置TTL索引，因为MongoDB不能主动删除capped Collection中的document。</p>
<h3 id="5、案例实战-TTL"><a href="#5、案例实战-TTL" class="headerlink" title="5、案例实战-TTL"></a>5、案例实战-TTL</h3><blockquote>
<p><strong>实现定时删除任务</strong>：参考：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/jiangqw/p/12174746.html">https://www.cnblogs.com/jiangqw/p/12174746.html</a></p>
</blockquote>
<p>利用 TTL 集合对存储的数据进行失效时间设置：经过指定的时间段后或在指定的时间点过期，MongoDB 独立线程去清除数据。</p>
<blockquote>
<p><strong>在指定秒数后使文档过期</strong></p>
</blockquote>
<p>1、首先创建索引，设置过期时间为180秒，然后存储数据入库</p>
<pre><code class="javascript">// 创建 TTL 索引，过期实践为180秒
db.col.createIndex( &#123; createDate: 1 &#125;, &#123; expireAfterSeconds: 180 &#125; )
// 然后插入数据测试
db.col.insert( &#123; _id: 1, createDate: new Date() &#125; )
</code></pre>
<p>3、mongodb 会在大于 expireAfterSeconds 指定值的秒数后，过期</p>
<pre><code class="javascript">// 180 秒后查看数据是否过期
db.col.find();
</code></pre>
<blockquote>
<p><strong>在特定时钟时间使文档过期</strong></p>
</blockquote>
<p>1、首先建立索引，设置 expireAfterSeconds 为 0</p>
<pre><code class="javascript">// 创建索引，设置过期时间参数为0
db.col.createIndex( &#123; createDate: 1 &#125;, &#123; expireAfterSeconds: 0 &#125; )
// 然后插入数据，增加的索引字段给定指定的时间
db.col.insert( &#123; _id: 1, &quot;createDate&quot;: new Date(&#39;July 22, 2020 12:00:00&#39;) &#125; )
</code></pre>
<p>2、createDate 的值为特定的时间值，等时间到达expireAt的值时，这个文档就 失效了。</p>
<p><strong>其他注意事项:</strong></p>
<blockquote>
<ul>
<li>索引关键字段必须是 Date 类型。</li>
<li>非立即执行：扫描 Document 过期数据并删除是独立线程执行，默认 60s 扫描一次，删除也不一定是立即删除成功。</li>
<li>单字段索引，混合索引不支持</li>
</ul>
</blockquote>
<h1 id="备份恢复及导入导出"><a href="#备份恢复及导入导出" class="headerlink" title="备份恢复及导入导出"></a>备份恢复及导入导出</h1><p>MongoDB 4.4版本 之后 MongoDB数据库工具现在与MongoDB服务 分开发布 需要单独安装</p>
<ul>
<li>下载地址：<a target="_blank" rel="noopener" href="https://docs.mongodb.com/database-tools/">https://docs.mongodb.com/database-tools/</a></li>
<li>下载安装或解压，配置到环境变量 path 中，然后可以使用 mongodump、 mongorestore、 mongoimport、 mongoexport 命令</li>
<li>在导入其他人的数据库前，应该清空 –&gt;该库下的用户 –&gt;再创建用户后再连接</li>
</ul>
<blockquote>
<p>数据导出与导入：mongoexport、mongoimport</p>
</blockquote>
<h2 id="01、导出：mongoexport"><a href="#01、导出：mongoexport" class="headerlink" title="01、导出：mongoexport"></a>01、导出：mongoexport</h2><p>1、概念：</p>
<pre><code>mongoDB 中的 mongoexport 工具可以把一个 collection(集合) 导出成JSON格式或CSV格式的文件。可以通过参数指定导出的数据项，也可以根据指定的条件导出数据。
</code></pre>
<p>2、语法：</p>
<pre><code class="sql">mongoexport -d dbname -c cname -o file --type json/csv -f field
</code></pre>
<p>参数说明：</p>
<ul>
<li><p>-d、–db：数据库名</p>
</li>
<li><p>-c 、–collection：集合名</p>
</li>
<li><p>-o、–out ：输出的文件名</p>
</li>
<li><p>–type： 输出的格式，默认为json。可以为json&#x2F;csv</p>
</li>
<li><p>-f：输出的字段，如果-type为csv，则需要加上-f “字段名”</p>
</li>
<li><p>-h：指明数据库宿主机的IP。如是本机可以去除该参数</p>
</li>
<li><p>-u：指明数据库的用户名</p>
</li>
<li><p>-p：指明数据库的密码</p>
</li>
</ul>
<p>示例：</p>
<pre><code class="cmd"># 导出dbname数据库的cname集合中所有 _id,user_id,user_name,age,status 字段到 /mongoBack/cname.json文件中
mongoexport -d dbname -c cname -o /mongoBack/cname.json -f &quot;_id,user_id,user_name,age,status&quot;
</code></pre>
<h2 id="02、导入：mongoimport"><a href="#02、导入：mongoimport" class="headerlink" title="02、导入：mongoimport"></a>02、导入：mongoimport</h2><p>当要插入的数据太多时，一条一条的insert在繁琐了。所以，我们可以在代码编辑器中以JSON格式编辑好要插入的数据，以 *.json 文件格式保存，然后导入数据库：下面就是将mydata.json文件，导入到test数据库的student集合中。</p>
<p>1、语法：</p>
<pre><code class="sql">mongoimport -d dbname -c cname --file filename --headerline -f field
</code></pre>
<p>参数说明：</p>
<ul>
<li><p>-d ：数据库名</p>
</li>
<li><p>-c ：collection名</p>
</li>
<li><p>–type ：导入的格式默认json。可以为json&#x2F;csv</p>
</li>
<li><p>-f ：导入的字段名</p>
</li>
<li><p>–headerline ：如果导入的格式是csv，则可以使用第一行的标题作为导入的字段</p>
</li>
<li><p>–file ：要导入的文件</p>
</li>
<li><p>–drop：导入前把集合中的数据清空</p>
</li>
<li><p>-h：指明数据库宿主机的IP。如是本机可以去除该参数</p>
</li>
<li><p>-u：指明数据库的用户名</p>
</li>
<li><p>-p：指明数据库的密码</p>
</li>
</ul>
<p>示例：</p>
<pre><code class="cmd"># 把/mongoBack/cname.json中的数据导入dbname数据中的cname集合中，并且只导入_id,user_id,user_name,age,status字段
mongoimport -d dbname -c cname --file /mongoBack/cname.json -f &quot;_id,user_id,user_name,age,status&quot; --drop
</code></pre>
<blockquote>
<p>MongoDB备份与恢复：mongodump、mongorestore</p>
</blockquote>
<h2 id="03、备份：mongodump"><a href="#03、备份：mongodump" class="headerlink" title="03、备份：mongodump"></a>03、备份：mongodump</h2><p>1、语法：</p>
<pre><code class="sql">mongodump -h host -u user -d dname -o dbdirectory
</code></pre>
<p> 参数说明：</p>
<ul>
<li><p>-d： 需要备份的数据库实例，例如：test</p>
</li>
<li><p>-o： 备份的数据存放位置，该路径需要提前创建。例：&#x2F;home&#x2F;mongodump&#x2F;</p>
</li>
<li><p>-h：指明数据库宿主机的IP。如是本机可以去除该参数</p>
</li>
<li><p>-u：指明数据库的用户名</p>
</li>
<li><p>-p：指明数据库的密码</p>
</li>
<li><p>–port：端口号。如是默认可以去除该参数</p>
</li>
</ul>
<p>示例：</p>
<pre><code class="cmd"># 备份单个表
mongodump -u user -p 123 --authenticationDatabase admin -d dname -c cname -o /backup/mongodb/dname_d_bak_201507021701.bak

# 备份单个库
mongodump -u user -p 123 --authenticationDatabase admin -d dname -o /backup/mongodb/

# 备份所有库
mongodump -u user -p 123 --authenticationDatabase admin -o /backup/allbak 

# 备份所有库推荐使用添加--oplog参数的命令，这样的备份是基于某一时间点的快照，只能用于备份全部库时才可用，单库和单表不适用：
mongodump -h 127.0.0.1 --port 27017 --oplog -o /backup/allbak 
</code></pre>
<h2 id="04、恢复：mongorestore"><a href="#04、恢复：mongorestore" class="headerlink" title="04、恢复：mongorestore"></a>04、恢复：mongorestore</h2><p>1、语法：</p>
<pre><code class="sql">mongorestore -h host -u user -d dname --dir dbdirectory
</code></pre>
<p>  参数或名：</p>
<ul>
<li><p>-d： 需要恢复的数据库实例，当然这个名称也可以和备份时候的不一样，比如test2</p>
</li>
<li><p>–dir： 备份数据所在位置，例如：&#x2F;home&#x2F;mongodump&#x2F;itcast&#x2F;</p>
</li>
<li><p>–drop： 恢复前把集合中的数据清空。</p>
</li>
<li><p>-h： MongoDB所在服务器地址。如是本机可以去除该参数</p>
</li>
<li><p>-u：指明数据库的用户名</p>
</li>
<li><p>-p：指明数据库的密码</p>
</li>
<li><p>–port：端口号。如是默认可以去除该参数</p>
</li>
</ul>
<p>示例：</p>
<pre><code class="cmd"># 恢复单表
mongorestore -u user -p 123 --authenticationDatabase admin -d dname -c cname /backup/mongodb/dname_d_bak_201507021701.bak/myTest/d.bson  

# 恢复单个库：
mongorestore -u user -p 123 --authenticationDatabase admin -d dname /backup/mongodb/

# 恢复所有库：
mongorestore -u user -p 123 --authenticationDatabase admin /backup/allbak

# 备份时如果加了--oplogReplay参数，恢复时也要加上--oplogReplay参数，具体命令如下(下面是恢复单库的命令)：
mongorestore -d dname --oplogReplay /home/mongo/swrdbak/swrd/
</code></pre>
<blockquote>
<p>注意：</p>
<p>1、mongorestore恢复数据默认是追加，如打算先删除后导入，可以加上–drop参数，不过添加–drop参数后，会将数据库数据清空后再导入，如果数据库备份后又新加入了数据，也会将新加的数据删除，它不像mysql有一个存在的判断</p>
<p>2、mongodump在mongo关闭时，也是可以备份的，不过需要指定数据目录，命令为：mongodump  –dbpath  &#x2F;data&#x2F;db</p>
</blockquote>
<blockquote>
<p>使用MongoDB其他命令行工具远程操作连接时，尽量加上如下参数.</p>
<pre><code>--authenticationDatabase admin
</code></pre>
</blockquote>
<h1 id="Java操作MongoDB"><a href="#Java操作MongoDB" class="headerlink" title="Java操作MongoDB"></a>Java操作MongoDB</h1><blockquote>
<p>参考：<a target="_blank" rel="noopener" href="https://mongodb.github.io/mongo-java-driver/4.2/driver/getting-started/installation/">https://mongodb.github.io/mongo-java-driver/4.2/driver/getting-started/installation/</a></p>
<p><a target="_blank" rel="noopener" href="http://c.biancheng.net/view/6571.html">http://c.biancheng.net/view/6571.html</a><br><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/6d0238719919">https://www.jianshu.com/p/6d0238719919</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/zhangliangzi/article/details/51730194">https://blog.csdn.net/zhangliangzi/article/details/51730194</a></p>
</blockquote>
<h1 id="SpringBoot整合MongoDB"><a href="#SpringBoot整合MongoDB" class="headerlink" title="SpringBoot整合MongoDB"></a>SpringBoot整合MongoDB</h1><p>Spring Boo与MongoDB集成，并通过<strong>MongoRepository</strong>以及<strong>MongoTemplate</strong>来执行CRUD操作。</p>
<h2 id="1、准备工作"><a href="#1、准备工作" class="headerlink" title="1、准备工作"></a>1、准备工作</h2><p>1.1、依赖包版本号：</p>
<blockquote>
<p>Spring Boot：2.3.0.RELEASE<br>Spring Boot Data MongoDB：2.3.0.RELEASE<br>MongoDB：4.2.6<br>MongoDB Driver：4.0.3</p>
</blockquote>
<p>1.2、要操作集合数据结构（即model）</p>
<p><strong>Department：</strong></p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>类型</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>String</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
</tr>
<tr>
<td>employees</td>
<td>Arrays</td>
</tr>
</tbody></table>
<p><strong>Employee：</strong></p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>类型</th>
</tr>
</thead>
<tbody><tr>
<td>empId</td>
<td>String</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
</tr>
<tr>
<td>age</td>
<td>int</td>
</tr>
<tr>
<td>address</td>
<td>String</td>
</tr>
</tbody></table>
<h2 id="2、创建项目"><a href="#2、创建项目" class="headerlink" title="2、创建项目"></a>2、创建项目</h2><p>2.1、创建SpringBoot项目，并添加依赖</p>
<pre><code class="xml">&lt;parent&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
    &lt;version&gt;2.3.0.RELEASE&lt;/version&gt;
    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
&lt;/parent&gt;

&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
    &lt;artifactId&gt;lombok&lt;/artifactId&gt;
    &lt;optional&gt;true&lt;/optional&gt;
&lt;/dependency&gt;
</code></pre>
<p>2.2、配置文件增加MongoDB配置，<strong>application.properties</strong></p>
<pre><code class="properties">spring.data.mongodb.host=127.0.0.1
spring.data.mongodb.port=27017
spring.data.mongodb.database=test
spring.data.mongodb.username=admin
spring.data.mongodb.password=password

# 简写，其中name是用户名，pwd是密码,test是数据库
# spring.data.mongodb.uri=mongodb://127.0.0.1:27017/test
# spring.data.mongodb.uri=mongodb://name:pwd@127.0.0.1:27017/test
# 如果要配置多个数据库，则中间用&quot;,&quot;分割
# spring.data.mongodb.uri=mongodb://127.0.0.1:27017,127.0.0.1:27018,127.0.0.1:27019/test
</code></pre>
<blockquote>
<p>备注：username不能是admin管理员用户。必须是当前database的用户才可以</p>
</blockquote>
<p>2.3、测试项目能否正常启动，然后查看项目结构：</p>
<pre><code class="cmd">├─src
│  ├─main
│  │  ├─java
│  │  │  └─com
│  │  │      └─example
│  │  │          └─mongodb
│  │  │              │  MongodbApplication.java
│  │  │              │
│  │  │              ├─controller
│  │  │              │      DepartmentController.java
│  │  │              │      EmployeeController.java
│  │  │              │
│  │  │              ├─model
│  │  │              │      Department.java
│  │  │              │      Employee.java
│  │  │              │
│  │  │              └─repository
│  │  │                      DeptRepository.java
│  │  │                      DeptTemplate.java
│  │  │                      EmpRepository.java
│  │  │                      EmpTemplate.java
│  │  │
│  │  └─resources
│  │      │  application.properties
│  │      │
│  │      ├─static
│  │      └─templates
│  └─test
│
└─target
</code></pre>
<p>2.4、创建Model Bean（<strong>Department.class</strong>、<strong>Employee.clss</strong>）</p>
<pre><code class="java">package com.example.mongodb.model;

import lombok.Data;
import org.springframework.data.annotation.Id;
import org.springframework.data.mongodb.core.index.Indexed;
import org.springframework.data.mongodb.core.mapping.DBRef;
import org.springframework.data.mongodb.core.mapping.Document;
import java.io.Serializable;
import java.util.List;

@Data
@Document(&quot;Department&quot;)
public class Department implements Serializable &#123;
    @Id
    private String id;
    @Indexed(name = &quot;deptName&quot;)
    private String name;
    private String description;
    @DBRef
    private List&lt;Employee&gt; employees;
&#125;
</code></pre>
<pre><code class="java">package com.example.mongodb.model;

import lombok.Data;
import org.springframework.data.annotation.Id;
import org.springframework.data.mongodb.core.mapping.Document;
import java.io.Serializable;

@Data
@Document(&quot;Employee&quot;)
public class Employee implements Serializable &#123;
    @Id
    private String empId;
    private String name;
    private int age;
    private String address;
&#125;
</code></pre>
<p>2.5、两种操作数据的方式：<strong>MongoRepository</strong>、<strong>MongoTemplate</strong></p>
<blockquote>
<p><strong>MongoRepository</strong></p>
</blockquote>
<p><strong>DeptRepository.class</strong>、<strong>EmpRepository.class</strong></p>
<pre><code class="java">package com.example.mongodb.repository;

import com.example.mongodb.model.Department;
import org.springframework.data.mongodb.repository.MongoRepository;
import org.springframework.data.mongodb.repository.Query;
import org.springframework.stereotype.Repository;
import java.util.List;

@Repository
public interface DeptRepository extends MongoRepository&lt;Department,String&gt; &#123;

    @Query(value = &quot;&#123;&#39;Employee.name&#39;: ?0&#125;&quot;, fields = &quot;&#123;&#39;employees&#39; : 0&#125;&quot;)
    Department findDepartmentByEmployeeName(String empName);

    List&lt;Department&gt; findDepartmentByName(String name);
&#125;
</code></pre>
<pre><code class="java">package com.example.mongodb.repository;

import com.example.mongodb.model.Employee;
import org.springframework.data.mongodb.repository.MongoRepository;

public interface EmpRepository extends MongoRepository&lt;Employee,String&gt; &#123;

&#125;
</code></pre>
<blockquote>
<p><strong>MongoTemplate</strong></p>
</blockquote>
<p><strong>DeptTemplate.class</strong>、<strong>EmpTemplate.class</strong></p>
<pre><code class="java">package com.example.mongodb.repository;

import com.example.mongodb.model.Department;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.data.mongodb.core.MongoTemplate;
import org.springframework.data.mongodb.core.query.Criteria;
import org.springframework.data.mongodb.core.query.Query;
import org.springframework.data.mongodb.core.query.Update;
import org.springframework.stereotype.Repository;
import java.util.List;

@Repository
public class DeptTemplate &#123;

    @Autowired
    private MongoTemplate mongoTemplate;

    public List&lt;Department&gt; findAll() &#123;
        return mongoTemplate.findAll(Department.class);
    &#125;

    public List&lt;Department&gt; findDepartmentByName(String deptName)&#123;
        Query query = new Query();
        query.addCriteria(Criteria.where(&quot;name&quot;).is(deptName));
        return mongoTemplate.find(query, Department.class);
    &#125;

    public Department save(Department department) &#123;
        mongoTemplate.save(department);
        return department;
    &#125;

    public Department update(Department department)&#123;
        Query query = new Query();
        query.addCriteria(Criteria.where(&quot;id&quot;).is(department.getId()));
        Update update = new Update();
        update.set(&quot;name&quot;, department.getName());
        update.set(&quot;description&quot;, department.getDescription());
        return mongoTemplate.findAndModify(query, update, Department.class);
    &#125;

    public void deleteById(String deptId) &#123;
        Query query = new Query();
        query.addCriteria(Criteria.where(&quot;id&quot;).is(deptId));
        mongoTemplate.remove(query, Department.class);
    &#125;

&#125;
</code></pre>
<pre><code class="java">package com.example.mongodb.repository;

import com.example.mongodb.model.Employee;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.data.mongodb.core.MongoTemplate;
import org.springframework.data.mongodb.core.query.Criteria;
import org.springframework.data.mongodb.core.query.Query;
import org.springframework.data.mongodb.core.query.Update;
import org.springframework.stereotype.Repository;
import java.util.List;

@Repository
public class EmpTemplate &#123;

    @Autowired
    private MongoTemplate mongoTemplate;

    public List&lt;Employee&gt; findAll() &#123;
        return mongoTemplate.findAll(Employee.class);
    &#125;

    public Employee save(Employee employee) &#123;
        mongoTemplate.save(employee);
        return employee;
    &#125;

    public Employee update(Employee employee)&#123;
        Query query = new Query();
        query.addCriteria(Criteria.where(&quot;empId&quot;).is(employee.getEmpId()));
        Update update = new Update();
        update.set(&quot;name&quot;, employee.getName());
        update.set(&quot;description&quot;, employee.getAddress());
        return mongoTemplate.findAndModify(query, update, Employee.class);
    &#125;

    public void deleteById(String empId) &#123;
        Query query = new Query();
        query.addCriteria(Criteria.where(&quot;empId&quot;).is(empId));
        mongoTemplate.remove(query, Employee.class);
    &#125;
&#125;
</code></pre>
<p>2.6、创建Controller（<strong>DepartmentController.class</strong>、<strong>EmployeeController.class</strong>）</p>
<pre><code class="java">package com.example.mongodb.controller;

import com.example.mongodb.model.Department;
import com.example.mongodb.model.Employee;
import com.example.mongodb.repository.DeptRepository;
import com.example.mongodb.repository.DeptTemplate;
import com.example.mongodb.repository.EmpRepository;
import com.example.mongodb.repository.EmpTemplate;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;
import java.util.Collections;
import java.util.List;
import java.util.Optional;

@RestController
public class DepartmentController &#123;
    // v1的接口使用 MongoRepository 方式操作数据
    @Autowired DeptRepository deptRepository;
    @Autowired EmpRepository empRepository;
    // v2的接口使用 MonoTemplate 方式操作数据
    @Autowired DeptTemplate deptTemplate;
    @Autowired EmpTemplate empTemplate;

    /********************* MongoRepository方式 *********************/

    @PostMapping(&quot;/v1/dept/save&quot;)
    public Department v1save(@RequestBody Department department) &#123;
        // 添加部门信息前首先保存员工信息
        List&lt;Employee&gt; employees = Optional.ofNullable(department.getEmployees()).orElse(Collections.emptyList());
        employees.forEach(employee -&gt; empRepository.save(employee));
        return deptRepository.save(department);
    &#125;
    @GetMapping(&quot;/v1/dept/list&quot;)
    public List&lt;Department&gt; v1list()&#123;
        return deptRepository.findAll();
    &#125;

    @PutMapping(&quot;/v1/dept/update/&#123;deptId&#125;&quot;)
    public Department v1update(@RequestBody Department department, @PathVariable String deptId) &#123;
        department.setId(deptId);
        List&lt;Employee&gt; employees = Optional.ofNullable(department.getEmployees()).orElse(Collections.emptyList());
        employees.forEach(Employee -&gt; empRepository.save(Employee));
        return deptRepository.save(department);
    &#125;
    @DeleteMapping(&quot;/v1/dept/delete/&#123;deptId&#125;&quot;)
    public String v1delete(@PathVariable String deptId) &#123;
        deptRepository.deleteById(deptId);
        return deptId;
    &#125;
    @GetMapping(&quot;/v1/dept/get/&#123;deptName&#125;&quot;)
    public List&lt;Department&gt; v1getByName(@PathVariable String deptName) &#123;
        return deptRepository.findDepartmentByName(deptName);
    &#125;
    @GetMapping(&quot;/v1/dept/get/emp/&#123;empName&#125;&quot;)
    public Department v1getByEmpName(@PathVariable String empName) &#123;
        return deptRepository.findDepartmentByEmployeeName(empName);
    &#125;

    /********************* MonoTemplate方式 *********************/

    @PostMapping(&quot;/v2/dept/save&quot;)
    public Department v2save(Department department) &#123;
        List&lt;Employee&gt; employees = Optional.ofNullable(department.getEmployees()).orElse(Collections.emptyList());
        employees.forEach(Employee -&gt; empRepository.save(Employee));
        return deptTemplate.save(department);
    &#125;
    @GetMapping(&quot;/v2/dept/list&quot;)
    public List&lt;Department&gt; v2list() &#123;
        return deptTemplate.findAll();
    &#125;
    @PutMapping(&quot;/v2/dept/update&quot;)
    public Department v2update(Department department)&#123;
        List&lt;Employee&gt; employees = Optional.ofNullable(department.getEmployees()).orElse(Collections.emptyList());
        employees.forEach(emp -&gt; empRepository.save(emp));
        return deptTemplate.update(department);
    &#125;
    @DeleteMapping(&quot;/v2/dept/delete/&#123;deptId&#125;&quot;)
    public void v2delete(@PathVariable String deptId) &#123;
        deptTemplate.deleteById(deptId);
    &#125;
    @GetMapping(&quot;/v2/dept/get/&#123;deptName&#125;&quot;)
    public List&lt;Department&gt; v2getByName(@PathVariable String deptName)&#123;
        return deptTemplate.findDepartmentByName(deptName);
    &#125;
&#125;
</code></pre>
<pre><code class="java">package com.example.mongodb.controller;

import com.example.mongodb.model.Department;
import com.example.mongodb.model.Employee;
import com.example.mongodb.repository.DeptRepository;
import com.example.mongodb.repository.DeptTemplate;
import com.example.mongodb.repository.EmpRepository;
import com.example.mongodb.repository.EmpTemplate;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;

import java.util.Collections;
import java.util.List;
import java.util.Optional;

@RestController
public class EmployeeController &#123;
    // v1的接口使用 MongoRepository 方式操作数据，v2的接口使用 MonoTemplate 方式操作数据
    @Autowired EmpRepository empRepository;
    @Autowired EmpTemplate empTemplate;

    /********************* MongoRepository方式 *********************/

    @PostMapping(&quot;/v1/emp/save&quot;)
    public Employee v1save(@RequestBody Employee employee) &#123;
        return empRepository.save(employee);
    &#125;
    @GetMapping(&quot;/v1/emp/list&quot;)
    public List&lt;Employee&gt; v1list()&#123;
        return empRepository.findAll();
    &#125;

    @PutMapping(&quot;/v1/emp/update/&#123;empId&#125;&quot;)
    public Employee v1update(@RequestBody Employee employee, @PathVariable String empId) &#123;
        //employee.setEmpId(empId);
        return empRepository.save(employee);
    &#125;
    @DeleteMapping(&quot;/v1/emp/delete/&#123;empId&#125;&quot;)
    public String v1delete(@PathVariable String empId) &#123;
        empRepository.deleteById(empId);
        return empId;
    &#125;
&#125;
</code></pre>
<h2 id="3、测试接口"><a href="#3、测试接口" class="headerlink" title="3、测试接口"></a>3、测试接口</h2><p>v1的接口使用MongoRepository方式操作数据，v2的接口使用MonoTemplate方式操作数据。</p>
<pre><code class="bash">###新增
POST http://localhost:8080/v1/dept/save
Content-Type: application/json

&#123;
  &quot;id&quot;: &quot;007&quot;,
  &quot;name&quot;: &quot;阿里巴巴&quot;,
  &quot;description&quot;: &quot;阿里巴巴Java开发&quot;,
  &quot;employees&quot;: [&#123;
    &quot;empId&quot;: &quot;1&quot;,
    &quot;name&quot;: &quot;Sam Liu&quot;,
    &quot;age&quot;: 28,
    &quot;address&quot;: &quot;深圳&quot;
  &#125;]
&#125;


###更新
PUT http://localhost:8080/v1/dept/update/007
Content-Type: application/json

&#123;
  &quot;id&quot;: &quot;007&quot;,
  &quot;name&quot;: &quot;阿里巴巴-new&quot;,
  &quot;description&quot;: &quot;阿里巴巴Web开发&quot;,
  &quot;employees&quot;: [
    &#123;
      &quot;empId&quot;: &quot;1&quot;,
      &quot;name&quot;: &quot;Sam Liu&quot;,
      &quot;age&quot;: 28,
      &quot;address&quot;: &quot;深圳&quot;
    &#125;,
    &#123;
      &quot;empId&quot;: &quot;2&quot;,
      &quot;name&quot;: &quot;Tom&quot;,
      &quot;age&quot;: 38,
      &quot;address&quot;: &quot;杭州&quot;
    &#125;
  ]
&#125;

###删除
DELETE http://localhost:8080/v1/dept/delete/007

###查询
GET http://localhost:8080/v1/dept/list


##############################################################
###新增
POST http://localhost:8080/v1/emp/save
Content-Type: application/json

&#123;
  &quot;empId&quot;: &quot;1&quot;,
  &quot;name&quot;: &quot;Sam Liu&quot;,
  &quot;age&quot;: 28,
  &quot;address&quot;: &quot;深圳&quot;
&#125;

###更新
PUT http://localhost:8080/v1/emp/update/1
Content-Type: application/json

&#123;
  &quot;empId&quot;: &quot;1&quot;,
  &quot;name&quot;: &quot;Sam Liu-update&quot;,
  &quot;age&quot;: 28,
  &quot;address&quot;: &quot;深圳-update&quot;
&#125;

###删除
DELETE http://localhost:8080/v1/emp/delete/007

###查询
GET http://localhost:8080/v1/emp/list
</code></pre>
<h1 id="参考资料-鸣谢"><a href="#参考资料-鸣谢" class="headerlink" title="参考资料 &amp; 鸣谢"></a>参考资料 &amp; 鸣谢</h1><ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43876186/article/details/108702940">MongoDB安装教程(Win10&amp;Linux)</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/chanshuyi/p/quick_start_of_mongodb.html">MongoDb 快速入门教程</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_40907977/article/details/105423070">MongoDB安装和入门</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_42721964/article/details/86545189">MongoDB的简单认识及基本操作</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/u012130609/article/details/76228518">MongoDB 使用教程–基本增删改查语法</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/Fine_Cui/article/details/106195498">Spring Boot 集成 MongoDB 小白篇</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/three-fighter/p/12641771.html">SpringBoot学习笔记（十一：使用MongoDB存储文件 ）</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/seasonzone/p/9359425.html">mongodb.conf配置文件详解</a></li>
<li><a target="_blank" rel="noopener" href="https://yichenzaixin.blog.csdn.net/article/details/87614708">mongodb配置文件config.conf详解</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/arebirth/p/mongodbprivilege02.html">MongoDB系列—用户及权限管理02</a>、<a target="_blank" rel="noopener" href="https://www.cnblogs.com/arebirth/p/11795307.html">MongoDB系列—集合与文档操作03</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/qzdd/category/1651279.html">乾子大大</a>、<a target="_blank" rel="noopener" href="https://www.cnblogs.com/kgwei520blog/category/1649178.html">KG</a>、<a target="_blank" rel="noopener" href="https://www.cnblogs.com/dbabd/category/1457604.html">H_Johnny</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhoujie/p/mongo1.html">mongodb高级聚合查询</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/wyy1234/p/11032163.html">快速掌握mongoDB(三)——mongoDB的索引详解</a></li>
<li>MongoDB可视化管理工具adminMongo：<a target="_blank" rel="noopener" href="http://www.fairysoftware.com/admin_mongo.html">http://www.fairysoftware.com/admin_mongo.html</a></li>
</ul>

      
       <hr><span style="font-style: italic;color: gray;"> 转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。可以在下面评论区评论，也可以邮件至 8629303@qq.com </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">赏</a>
</p>






    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2017-2024 Sam
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>喜欢就点赞,疼爱就打赏</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/blog/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/blog/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">支付宝</label></span><span><label><input type="radio" name="pay" value="weixin">微信</label></span>
    </div>
</div>


</body>
<script src="/blog/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/blog/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        
        $('pre code').each(function(){
            var lines = $(this).text().trim().split('\n').length, widther='';
            if (lines>99) {
                widther = 'widther'
            }
            var $numbering = $('<ul/>').addClass('pre-numbering ' + widther).attr("unselectable","on");
            $(this).addClass('has-numbering ' + widther)
                    .parent()
                    .append($numbering);
            for(var i=1;i<=lines;i++){
                $numbering.append($('<li/>').text(i));
            }
        });
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<style>
    pre{
        position: relative;
        margin-bottom: 24px;
        border-radius: 10px;
        border: 1px solid #e2dede;
        background: #FFF;
        overflow: hidden;
    }
    code.has-numbering{
        margin-left: 30px;
    }
    code.has-numbering.widther{
        margin-left: 35px;
    }
    .pre-numbering{
        margin: 0;
        position: absolute;
        top: 0;
        left: 0;
        width: 20px;
        padding: 18px 3px 15px 5px;
        border-right: 1px solid #C3CCD0;
        text-align: right;
        color: #AAA;
        background-color: #fafafa;
    }
    .pre-numbering.widther {
        width: 35px;
    }
</style>

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 582px;
    }
    .nav.fullscreen {
        margin-left: -582px;
    }
    .nav-left {
        width: 160px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
</style>







</html>
